{"ast":null,"code":"var n = {\n    EventType: {\n      IDLE: \"idle\",\n      CHANGED: \"changed\",\n      IMPORTED: \"imported\",\n      EXPORTED: \"exported\",\n      CONVERTED: \"converted\",\n      RENDERED: \"rendered\",\n      LOADED: \"loaded\",\n      UNDO: \"undo\",\n      REDO: \"redo\",\n      CLEAR: \"clear\",\n      IMPORT: \"import\",\n      SUPPORTED_IMPORT_MIMETYPES: \"supportedImportMimeTypes\",\n      EXPORT: \"export\",\n      CONVERT: \"convert\",\n      ERROR: \"error\"\n    },\n    RecognitionType: {\n      TEXT: \"TEXT\",\n      MATH: \"MATH\",\n      DIAGRAM: \"DIAGRAM\",\n      RAWCONTENT: \"Raw Content\"\n    },\n    Protocol: {\n      WEBSOCKET: \"WEBSOCKET\",\n      REST: \"REST\"\n    },\n    ModelState: {\n      INITIALIZING: \"INITIALIZING\",\n      INITIALIZED: \"INITIALIZED\",\n      EXPORTING: \"EXPORTING\",\n      EXPORTED: \"EXPORTED\",\n      PENDING: \"PENDING\",\n      MODIFIED: \"MODIFIED\",\n      ERROR: \"ERROR\"\n    },\n    Trigger: {\n      QUIET_PERIOD: \"QUIET_PERIOD\",\n      POINTER_UP: \"POINTER_UP\",\n      DEMAND: \"DEMAND\"\n    },\n    Logger: {\n      EDITOR: \"editor\",\n      MODEL: \"model\",\n      GRABBER: \"grabber\",\n      RENDERER: \"renderer\",\n      RECOGNIZER: \"recognizer\",\n      EVENT: \"event\",\n      UTIL: \"util\",\n      SMARTGUIDE: \"smartguide\"\n    },\n    LogLevel: {\n      TRACE: \"TRACE\",\n      DEBUG: \"DEBUG\",\n      INFO: \"INFO\",\n      WARN: \"WARN\",\n      ERROR: \"ERROR\"\n    },\n    Languages: {\n      zh_CN: \"Noto Sans CJK tc\",\n      zh_HK: \"Noto Sans CJK tc\",\n      zh_TW: \"Noto Sans CJK tc\",\n      ko_KR: \"Noto Sans CJK kr\",\n      ja_JP: \"Noto Sans CJK jp\",\n      hy_AM: \"Noto Sans Armenian\",\n      default: \"Open Sans\"\n    },\n    Error: {\n      NOT_REACHABLE: \"MyScript recognition server is not reachable. Please reload once you are connected.\",\n      WRONG_CREDENTIALS: \"Application credentials are invalid. Please check or regenerate your application key and hmackey.\",\n      TOO_OLD: \"Session is too old. Max Session Duration Reached.\"\n    },\n    Exports: {\n      JIIX: \"application/vnd.myscript.jiix\"\n    }\n  },\n  i = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {};\nfunction unwrapExports(n) {\n  return n && n.__esModule && Object.prototype.hasOwnProperty.call(n, \"default\") ? n.default : n;\n}\nfunction createCommonjsModule(n, i) {\n  return n(i = {\n    exports: {}\n  }, i.exports), i.exports;\n}\nvar a = (0, createCommonjsModule(function (n) {\n    !function (i, a) {\n      n.exports ? n.exports = a() : i.log = a();\n    }(i, function () {\n      var noop = function () {},\n        n = \"undefined\" != typeof window && void 0 !== window.navigator && /Trident\\/|MSIE /.test(window.navigator.userAgent),\n        i = [\"trace\", \"debug\", \"info\", \"warn\", \"error\"];\n      function bindMethod(n, i) {\n        var a = n[i];\n        if (\"function\" == typeof a.bind) return a.bind(n);\n        try {\n          return Function.prototype.bind.call(a, n);\n        } catch (i) {\n          return function () {\n            return Function.prototype.apply.apply(a, [n, arguments]);\n          };\n        }\n      }\n      function traceForIE() {\n        console.log && (console.log.apply ? console.log.apply(console, arguments) : Function.prototype.apply.apply(console.log, [console, arguments])), console.trace && console.trace();\n      }\n      function realMethod(i) {\n        return \"debug\" === i && (i = \"log\"), \"undefined\" != typeof console && (\"trace\" === i && n ? traceForIE : void 0 !== console[i] ? bindMethod(console, i) : void 0 !== console.log ? bindMethod(console, \"log\") : noop);\n      }\n      function replaceLoggingMethods(n, a) {\n        for (var s = 0; s < i.length; s++) {\n          var c = i[s];\n          this[c] = s < n ? noop : this.methodFactory(c, n, a);\n        }\n        this.log = this.debug;\n      }\n      function enableLoggingWhenConsoleArrives(n, i, a) {\n        return function () {\n          \"undefined\" != typeof console && (replaceLoggingMethods.call(this, i, a), this[n].apply(this, arguments));\n        };\n      }\n      function defaultMethodFactory(n, i, a) {\n        return realMethod(n) || enableLoggingWhenConsoleArrives.apply(this, arguments);\n      }\n      function Logger(n, a, s) {\n        var c,\n          l = this,\n          u = \"loglevel\";\n        function getPersistedLevel() {\n          var n;\n          if (\"undefined\" != typeof window) {\n            try {\n              n = window.localStorage[u];\n            } catch (n) {}\n            if (void 0 === n) try {\n              var i = window.document.cookie,\n                a = i.indexOf(encodeURIComponent(u) + \"=\");\n              -1 !== a && (n = /^([^;]+)/.exec(i.slice(a))[1]);\n            } catch (n) {}\n            return void 0 === l.levels[n] && (n = void 0), n;\n          }\n        }\n        n && (u += \":\" + n), l.name = n, l.levels = {\n          TRACE: 0,\n          DEBUG: 1,\n          INFO: 2,\n          WARN: 3,\n          ERROR: 4,\n          SILENT: 5\n        }, l.methodFactory = s || defaultMethodFactory, l.getLevel = function () {\n          return c;\n        }, l.setLevel = function (a, s) {\n          if (\"string\" == typeof a && void 0 !== l.levels[a.toUpperCase()] && (a = l.levels[a.toUpperCase()]), !(\"number\" == typeof a && a >= 0 && a <= l.levels.SILENT)) throw \"log.setLevel() called with invalid level: \" + a;\n          if (c = a, !1 !== s && function persistLevelIfPossible(n) {\n            var a = (i[n] || \"silent\").toUpperCase();\n            if (\"undefined\" != typeof window) {\n              try {\n                return void (window.localStorage[u] = a);\n              } catch (n) {}\n              try {\n                window.document.cookie = encodeURIComponent(u) + \"=\" + a + \";\";\n              } catch (n) {}\n            }\n          }(a), replaceLoggingMethods.call(l, a, n), \"undefined\" == typeof console && a < l.levels.SILENT) return \"No console available for logging\";\n        }, l.setDefaultLevel = function (n) {\n          getPersistedLevel() || l.setLevel(n, !1);\n        }, l.enableAll = function (n) {\n          l.setLevel(l.levels.TRACE, n);\n        }, l.disableAll = function (n) {\n          l.setLevel(l.levels.SILENT, n);\n        };\n        var d = getPersistedLevel();\n        null == d && (d = null == a ? \"WARN\" : a), l.setLevel(d, !1);\n      }\n      var a = new Logger(),\n        s = {};\n      a.getLogger = function getLogger(n) {\n        if (\"string\" != typeof n || \"\" === n) throw new TypeError(\"You must supply a name when creating a logger.\");\n        var i = s[n];\n        return i || (i = s[n] = new Logger(n, a.getLevel(), a.methodFactory)), i;\n      };\n      var c = \"undefined\" != typeof window ? window.log : void 0;\n      return a.noConflict = function () {\n        return \"undefined\" != typeof window && window.log === a && (window.log = c), a;\n      }, a.getLoggers = function getLoggers() {\n        return s;\n      }, a;\n    });\n  }).noConflict)(),\n  s = a.getLogger(n.Logger.EDITOR);\ns.setDefaultLevel(n.LogLevel.ERROR);\na.getLogger(n.Logger.SMARTGUIDE);\ns.setDefaultLevel(n.LogLevel.ERROR);\nvar c = a.getLogger(n.Logger.MODEL);\nc.setDefaultLevel(n.LogLevel.ERROR);\nvar l = a.getLogger(n.Logger.GRABBER);\nl.setDefaultLevel(n.LogLevel.ERROR);\nvar u = a.getLogger(n.Logger.RENDERER);\nu.setDefaultLevel(n.LogLevel.ERROR);\nvar d = a.getLogger(n.Logger.RECOGNIZER);\nd.setDefaultLevel(n.LogLevel.ERROR);\nvar p = a.getLogger(n.Logger.EVENT);\np.setDefaultLevel(n.LogLevel.ERROR), a.getLogger(n.Logger.UTIL).setDefaultLevel(n.LogLevel.ERROR), a.getLogger(\"test\").setDefaultLevel(n.LogLevel.ERROR);\nvar h = createCommonjsModule(function (n, a) {\n    var s = /^\\[object .+?Constructor\\]$/,\n      c = /^(?:0|[1-9]\\d*)$/,\n      l = {};\n    l[\"[object Float32Array]\"] = l[\"[object Float64Array]\"] = l[\"[object Int8Array]\"] = l[\"[object Int16Array]\"] = l[\"[object Int32Array]\"] = l[\"[object Uint8Array]\"] = l[\"[object Uint8ClampedArray]\"] = l[\"[object Uint16Array]\"] = l[\"[object Uint32Array]\"] = !0, l[\"[object Arguments]\"] = l[\"[object Array]\"] = l[\"[object ArrayBuffer]\"] = l[\"[object Boolean]\"] = l[\"[object DataView]\"] = l[\"[object Date]\"] = l[\"[object Error]\"] = l[\"[object Function]\"] = l[\"[object Map]\"] = l[\"[object Number]\"] = l[\"[object Object]\"] = l[\"[object RegExp]\"] = l[\"[object Set]\"] = l[\"[object String]\"] = l[\"[object WeakMap]\"] = !1;\n    var u = \"object\" == typeof i && i && i.Object === Object && i,\n      d = \"object\" == typeof self && self && self.Object === Object && self,\n      p = u || d || Function(\"return this\")(),\n      h = a && !a.nodeType && a,\n      f = h && n && !n.nodeType && n,\n      g = f && f.exports === h,\n      m = g && u.process,\n      v = function () {\n        try {\n          var n = f && f.require && f.require(\"util\").types;\n          return n || m && m.binding && m.binding(\"util\");\n        } catch (n) {}\n      }(),\n      y = v && v.isTypedArray;\n    function apply(n, i, a) {\n      switch (a.length) {\n        case 0:\n          return n.call(i);\n        case 1:\n          return n.call(i, a[0]);\n        case 2:\n          return n.call(i, a[0], a[1]);\n        case 3:\n          return n.call(i, a[0], a[1], a[2]);\n      }\n      return n.apply(i, a);\n    }\n    var b,\n      x = Array.prototype,\n      w = Function.prototype,\n      _ = Object.prototype,\n      S = p[\"__core-js_shared__\"],\n      k = w.toString,\n      C = _.hasOwnProperty,\n      P = (b = /[^.]+$/.exec(S && S.keys && S.keys.IE_PROTO || \"\")) ? \"Symbol(src)_1.\" + b : \"\",\n      T = _.toString,\n      I = k.call(Object),\n      M = RegExp(\"^\" + k.call(C).replace(/[\\\\^$.*+?()[\\]{}|]/g, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"),\n      R = g ? p.Buffer : void 0,\n      L = p.Symbol,\n      A = p.Uint8Array,\n      D = R ? R.allocUnsafe : void 0,\n      j = function overArg(n, i) {\n        return function (a) {\n          return n(i(a));\n        };\n      }(Object.getPrototypeOf, Object),\n      U = Object.create,\n      O = _.propertyIsEnumerable,\n      z = x.splice,\n      N = L ? L.toStringTag : void 0,\n      W = function () {\n        try {\n          var n = getNative(Object, \"defineProperty\");\n          return n({}, \"\", {}), n;\n        } catch (n) {}\n      }(),\n      X = R ? R.isBuffer : void 0,\n      H = Math.max,\n      B = Date.now,\n      G = getNative(p, \"Map\"),\n      Y = getNative(Object, \"create\"),\n      $ = function () {\n        function object() {}\n        return function (n) {\n          if (!isObject(n)) return {};\n          if (U) return U(n);\n          object.prototype = n;\n          var i = new object();\n          return object.prototype = void 0, i;\n        };\n      }();\n    function Hash(n) {\n      var i = -1,\n        a = null == n ? 0 : n.length;\n      for (this.clear(); ++i < a;) {\n        var s = n[i];\n        this.set(s[0], s[1]);\n      }\n    }\n    function ListCache(n) {\n      var i = -1,\n        a = null == n ? 0 : n.length;\n      for (this.clear(); ++i < a;) {\n        var s = n[i];\n        this.set(s[0], s[1]);\n      }\n    }\n    function MapCache(n) {\n      var i = -1,\n        a = null == n ? 0 : n.length;\n      for (this.clear(); ++i < a;) {\n        var s = n[i];\n        this.set(s[0], s[1]);\n      }\n    }\n    function Stack(n) {\n      var i = this.__data__ = new ListCache(n);\n      this.size = i.size;\n    }\n    function arrayLikeKeys(n, i) {\n      var a = q(n),\n        s = !a && J(n),\n        c = !a && !s && Z(n),\n        l = !a && !s && !c && Q(n),\n        u = a || s || c || l,\n        d = u ? function baseTimes(n, i) {\n          for (var a = -1, s = Array(n); ++a < n;) s[a] = i(a);\n          return s;\n        }(n.length, String) : [],\n        p = d.length;\n      for (var h in n) !i && !C.call(n, h) || u && (\"length\" == h || c && (\"offset\" == h || \"parent\" == h) || l && (\"buffer\" == h || \"byteLength\" == h || \"byteOffset\" == h) || isIndex(h, p)) || d.push(h);\n      return d;\n    }\n    function assignMergeValue(n, i, a) {\n      (void 0 !== a && !eq(n[i], a) || void 0 === a && !(i in n)) && baseAssignValue(n, i, a);\n    }\n    function assignValue(n, i, a) {\n      var s = n[i];\n      C.call(n, i) && eq(s, a) && (void 0 !== a || i in n) || baseAssignValue(n, i, a);\n    }\n    function assocIndexOf(n, i) {\n      for (var a = n.length; a--;) if (eq(n[a][0], i)) return a;\n      return -1;\n    }\n    function baseAssignValue(n, i, a) {\n      \"__proto__\" == i && W ? W(n, i, {\n        configurable: !0,\n        enumerable: !0,\n        value: a,\n        writable: !0\n      }) : n[i] = a;\n    }\n    Hash.prototype.clear = function hashClear() {\n      this.__data__ = Y ? Y(null) : {}, this.size = 0;\n    }, Hash.prototype.delete = function hashDelete(n) {\n      var i = this.has(n) && delete this.__data__[n];\n      return this.size -= i ? 1 : 0, i;\n    }, Hash.prototype.get = function hashGet(n) {\n      var i = this.__data__;\n      if (Y) {\n        var a = i[n];\n        return \"__lodash_hash_undefined__\" === a ? void 0 : a;\n      }\n      return C.call(i, n) ? i[n] : void 0;\n    }, Hash.prototype.has = function hashHas(n) {\n      var i = this.__data__;\n      return Y ? void 0 !== i[n] : C.call(i, n);\n    }, Hash.prototype.set = function hashSet(n, i) {\n      var a = this.__data__;\n      return this.size += this.has(n) ? 0 : 1, a[n] = Y && void 0 === i ? \"__lodash_hash_undefined__\" : i, this;\n    }, ListCache.prototype.clear = function listCacheClear() {\n      this.__data__ = [], this.size = 0;\n    }, ListCache.prototype.delete = function listCacheDelete(n) {\n      var i = this.__data__,\n        a = assocIndexOf(i, n);\n      return !(a < 0) && (a == i.length - 1 ? i.pop() : z.call(i, a, 1), --this.size, !0);\n    }, ListCache.prototype.get = function listCacheGet(n) {\n      var i = this.__data__,\n        a = assocIndexOf(i, n);\n      return a < 0 ? void 0 : i[a][1];\n    }, ListCache.prototype.has = function listCacheHas(n) {\n      return assocIndexOf(this.__data__, n) > -1;\n    }, ListCache.prototype.set = function listCacheSet(n, i) {\n      var a = this.__data__,\n        s = assocIndexOf(a, n);\n      return s < 0 ? (++this.size, a.push([n, i])) : a[s][1] = i, this;\n    }, MapCache.prototype.clear = function mapCacheClear() {\n      this.size = 0, this.__data__ = {\n        hash: new Hash(),\n        map: new (G || ListCache)(),\n        string: new Hash()\n      };\n    }, MapCache.prototype.delete = function mapCacheDelete(n) {\n      var i = getMapData(this, n).delete(n);\n      return this.size -= i ? 1 : 0, i;\n    }, MapCache.prototype.get = function mapCacheGet(n) {\n      return getMapData(this, n).get(n);\n    }, MapCache.prototype.has = function mapCacheHas(n) {\n      return getMapData(this, n).has(n);\n    }, MapCache.prototype.set = function mapCacheSet(n, i) {\n      var a = getMapData(this, n),\n        s = a.size;\n      return a.set(n, i), this.size += a.size == s ? 0 : 1, this;\n    }, Stack.prototype.clear = function stackClear() {\n      this.__data__ = new ListCache(), this.size = 0;\n    }, Stack.prototype.delete = function stackDelete(n) {\n      var i = this.__data__,\n        a = i.delete(n);\n      return this.size = i.size, a;\n    }, Stack.prototype.get = function stackGet(n) {\n      return this.__data__.get(n);\n    }, Stack.prototype.has = function stackHas(n) {\n      return this.__data__.has(n);\n    }, Stack.prototype.set = function stackSet(n, i) {\n      var a = this.__data__;\n      if (a instanceof ListCache) {\n        var s = a.__data__;\n        if (!G || s.length < 199) return s.push([n, i]), this.size = ++a.size, this;\n        a = this.__data__ = new MapCache(s);\n      }\n      return a.set(n, i), this.size = a.size, this;\n    };\n    var V = function createBaseFor(n) {\n      return function (i, a, s) {\n        for (var c = -1, l = Object(i), u = s(i), d = u.length; d--;) {\n          var p = u[n ? d : ++c];\n          if (!1 === a(l[p], p, l)) break;\n        }\n        return i;\n      };\n    }();\n    function baseGetTag(n) {\n      return null == n ? void 0 === n ? \"[object Undefined]\" : \"[object Null]\" : N && N in Object(n) ? function getRawTag(n) {\n        var i = C.call(n, N),\n          a = n[N];\n        try {\n          n[N] = void 0;\n          var s = !0;\n        } catch (n) {}\n        var c = T.call(n);\n        s && (i ? n[N] = a : delete n[N]);\n        return c;\n      }(n) : function objectToString(n) {\n        return T.call(n);\n      }(n);\n    }\n    function baseIsArguments(n) {\n      return isObjectLike(n) && \"[object Arguments]\" == baseGetTag(n);\n    }\n    function baseIsNative(n) {\n      return !(!isObject(n) || function isMasked(n) {\n        return !!P && P in n;\n      }(n)) && (isFunction(n) ? M : s).test(function toSource(n) {\n        if (null != n) {\n          try {\n            return k.call(n);\n          } catch (n) {}\n          try {\n            return n + \"\";\n          } catch (n) {}\n        }\n        return \"\";\n      }(n));\n    }\n    function baseKeysIn(n) {\n      if (!isObject(n)) return function nativeKeysIn(n) {\n        var i = [];\n        if (null != n) for (var a in Object(n)) i.push(a);\n        return i;\n      }(n);\n      var i = isPrototype(n),\n        a = [];\n      for (var s in n) (\"constructor\" != s || !i && C.call(n, s)) && a.push(s);\n      return a;\n    }\n    function baseMerge(n, i, a, s, c) {\n      n !== i && V(i, function (l, u) {\n        if (c || (c = new Stack()), isObject(l)) !function baseMergeDeep(n, i, a, s, c, l, u) {\n          var d = safeGet(n, a),\n            p = safeGet(i, a),\n            h = u.get(p);\n          if (h) return void assignMergeValue(n, a, h);\n          var f = l ? l(d, p, a + \"\", n, i, u) : void 0,\n            g = void 0 === f;\n          if (g) {\n            var m = q(p),\n              v = !m && Z(p),\n              y = !m && !v && Q(p);\n            f = p, m || v || y ? q(d) ? f = d : !function isArrayLikeObject(n) {\n              return isObjectLike(n) && isArrayLike(n);\n            }(d) ? v ? (g = !1, f = function cloneBuffer(n, i) {\n              if (i) return n.slice();\n              var a = n.length,\n                s = D ? D(a) : new n.constructor(a);\n              return n.copy(s), s;\n            }(p, !0)) : y ? (g = !1, f = function cloneTypedArray(n, i) {\n              var a = i ? function cloneArrayBuffer(n) {\n                var i = new n.constructor(n.byteLength);\n                return new A(i).set(new A(n)), i;\n              }(n.buffer) : n.buffer;\n              return new n.constructor(a, n.byteOffset, n.length);\n            }(p, !0)) : f = [] : f = function copyArray(n, i) {\n              var a = -1,\n                s = n.length;\n              i || (i = Array(s));\n              for (; ++a < s;) i[a] = n[a];\n              return i;\n            }(d) : function isPlainObject(n) {\n              if (!isObjectLike(n) || \"[object Object]\" != baseGetTag(n)) return !1;\n              var i = j(n);\n              if (null === i) return !0;\n              var a = C.call(i, \"constructor\") && i.constructor;\n              return \"function\" == typeof a && a instanceof a && k.call(a) == I;\n            }(p) || J(p) ? (f = d, J(d) ? f = function toPlainObject(n) {\n              return function copyObject(n, i, a, s) {\n                var c = !a;\n                a || (a = {});\n                var l = -1,\n                  u = i.length;\n                for (; ++l < u;) {\n                  var d = i[l],\n                    p = s ? s(a[d], n[d], d, a, n) : void 0;\n                  void 0 === p && (p = n[d]), c ? baseAssignValue(a, d, p) : assignValue(a, d, p);\n                }\n                return a;\n              }(n, keysIn(n));\n            }(d) : isObject(d) && !isFunction(d) || (f = function initCloneObject(n) {\n              return \"function\" != typeof n.constructor || isPrototype(n) ? {} : $(j(n));\n            }(p))) : g = !1;\n          }\n          g && (u.set(p, f), c(f, p, s, l, u), u.delete(p));\n          assignMergeValue(n, a, f);\n        }(n, i, u, a, baseMerge, s, c);else {\n          var d = s ? s(safeGet(n, u), l, u + \"\", n, i, c) : void 0;\n          void 0 === d && (d = l), assignMergeValue(n, u, d);\n        }\n      }, keysIn);\n    }\n    function baseRest(n, i) {\n      return K(function overRest(n, i, a) {\n        return i = H(void 0 === i ? n.length - 1 : i, 0), function () {\n          for (var s = arguments, c = -1, l = H(s.length - i, 0), u = Array(l); ++c < l;) u[c] = s[i + c];\n          c = -1;\n          for (var d = Array(i + 1); ++c < i;) d[c] = s[c];\n          return d[i] = a(u), apply(n, this, d);\n        };\n      }(n, i, identity), n + \"\");\n    }\n    function getMapData(n, i) {\n      var a = n.__data__;\n      return function isKeyable(n) {\n        var i = typeof n;\n        return \"string\" == i || \"number\" == i || \"symbol\" == i || \"boolean\" == i ? \"__proto__\" !== n : null === n;\n      }(i) ? a[\"string\" == typeof i ? \"string\" : \"hash\"] : a.map;\n    }\n    function getNative(n, i) {\n      var a = function getValue(n, i) {\n        return null == n ? void 0 : n[i];\n      }(n, i);\n      return baseIsNative(a) ? a : void 0;\n    }\n    function isIndex(n, i) {\n      var a = typeof n;\n      return !!(i = null == i ? 9007199254740991 : i) && (\"number\" == a || \"symbol\" != a && c.test(n)) && n > -1 && n % 1 == 0 && n < i;\n    }\n    function isPrototype(n) {\n      var i = n && n.constructor;\n      return n === (\"function\" == typeof i && i.prototype || _);\n    }\n    function safeGet(n, i) {\n      if ((\"constructor\" !== i || \"function\" != typeof n[i]) && \"__proto__\" != i) return n[i];\n    }\n    var K = function shortOut(n) {\n      var i = 0,\n        a = 0;\n      return function () {\n        var s = B(),\n          c = 16 - (s - a);\n        if (a = s, c > 0) {\n          if (++i >= 800) return arguments[0];\n        } else i = 0;\n        return n.apply(void 0, arguments);\n      };\n    }(W ? function (n, i) {\n      return W(n, \"toString\", {\n        configurable: !0,\n        enumerable: !1,\n        value: (a = i, function () {\n          return a;\n        }),\n        writable: !0\n      });\n      var a;\n    } : identity);\n    function eq(n, i) {\n      return n === i || n != n && i != i;\n    }\n    var J = baseIsArguments(function () {\n        return arguments;\n      }()) ? baseIsArguments : function (n) {\n        return isObjectLike(n) && C.call(n, \"callee\") && !O.call(n, \"callee\");\n      },\n      q = Array.isArray;\n    function isArrayLike(n) {\n      return null != n && isLength(n.length) && !isFunction(n);\n    }\n    var Z = X || function stubFalse() {\n      return !1;\n    };\n    function isFunction(n) {\n      if (!isObject(n)) return !1;\n      var i = baseGetTag(n);\n      return \"[object Function]\" == i || \"[object GeneratorFunction]\" == i || \"[object AsyncFunction]\" == i || \"[object Proxy]\" == i;\n    }\n    function isLength(n) {\n      return \"number\" == typeof n && n > -1 && n % 1 == 0 && n <= 9007199254740991;\n    }\n    function isObject(n) {\n      var i = typeof n;\n      return null != n && (\"object\" == i || \"function\" == i);\n    }\n    function isObjectLike(n) {\n      return null != n && \"object\" == typeof n;\n    }\n    var Q = y ? function baseUnary(n) {\n      return function (i) {\n        return n(i);\n      };\n    }(y) : function baseIsTypedArray(n) {\n      return isObjectLike(n) && isLength(n.length) && !!l[baseGetTag(n)];\n    };\n    function keysIn(n) {\n      return isArrayLike(n) ? arrayLikeKeys(n, !0) : baseKeysIn(n);\n    }\n    var ee = function createAssigner(n) {\n      return baseRest(function (i, a) {\n        var s = -1,\n          c = a.length,\n          l = c > 1 ? a[c - 1] : void 0,\n          u = c > 2 ? a[2] : void 0;\n        for (l = n.length > 3 && \"function\" == typeof l ? (c--, l) : void 0, u && function isIterateeCall(n, i, a) {\n          if (!isObject(a)) return !1;\n          var s = typeof i;\n          if (\"number\" == s ? isArrayLike(a) && isIndex(i, a.length) : \"string\" == s && (i in a)) return eq(a[i], n);\n          return !1;\n        }(a[0], a[1], u) && (l = c < 3 ? void 0 : l, c = 1), i = Object(i); ++s < c;) {\n          var d = a[s];\n          d && n(i, d, s, l);\n        }\n        return i;\n      });\n    }(function (n, i, a) {\n      baseMerge(n, i, a);\n    });\n    function identity(n) {\n      return n;\n    }\n    n.exports = ee;\n  }),\n  f = {\n    recognitionParams: {\n      type: \"TEXT\",\n      protocol: \"WEBSOCKET\",\n      server: {\n        scheme: \"https\",\n        host: \"cloud.myscript.com\",\n        applicationKey: void 0,\n        hmacKey: void 0,\n        useWindowLocation: !1,\n        websocket: {\n          pingEnabled: !0,\n          pingDelay: 3e4,\n          maxPingLostCount: 10,\n          autoReconnect: !0,\n          maxRetryCount: 2,\n          fileChunkSize: 3e5\n        }\n      },\n      iink: {\n        alwaysConnected: !0,\n        lang: \"en_US\",\n        export: {\n          \"image-resolution\": 300,\n          jiix: {\n            \"bounding-box\": !1,\n            strokes: !1,\n            text: {\n              chars: !1,\n              words: !0\n            }\n          }\n        },\n        renderer: {\n          debug: {\n            \"draw-text-boxes\": !1,\n            \"draw-image-boxes\": !1\n          }\n        },\n        math: {\n          mimeTypes: [\"application/x-latex\", \"application/mathml+xml\"],\n          solver: {\n            enable: !0,\n            \"fractional-part-digits\": 3,\n            \"decimal-separator\": \".\",\n            \"rounding-mode\": \"half up\",\n            \"angle-unit\": \"deg\"\n          },\n          margin: {\n            bottom: 10,\n            left: 15,\n            right: 15,\n            top: 10\n          }\n        },\n        text: {\n          guides: {\n            enable: !0\n          },\n          smartGuide: !0,\n          smartGuideFadeOut: {\n            enable: !1,\n            duration: 1e4\n          },\n          mimeTypes: [\"text/plain\", \"application/vnd.myscript.jiix\"],\n          margin: {\n            top: 20,\n            left: 10,\n            right: 10\n          }\n        },\n        diagram: {\n          mimeTypes: [\"application/vnd.myscript.jiix\"],\n          margin: {\n            bottom: 10,\n            left: 15,\n            right: 15,\n            top: 10\n          }\n        },\n        \"raw-content\": {\n          recognition: {\n            text: !1,\n            shape: !1\n          }\n        }\n      }\n    },\n    listenerOptions: {\n      capture: !1,\n      passive: !0\n    },\n    undoRedoMaxStackSize: 20,\n    xyFloatPrecision: 0,\n    timestampFloatPrecision: 0,\n    triggerDelay: 2e3,\n    processDelay: 0,\n    resizeTriggerDelay: 200,\n    triggers: {\n      exportContent: \"POINTER_UP\",\n      addStrokes: \"POINTER_UP\"\n    },\n    restConversionState: \"\",\n    renderingParams: {\n      stroker: \"quadratic\",\n      minHeight: 100,\n      minWidth: 100\n    }\n  };\nvar g = createCommonjsModule(function (n, i) {\n    n.exports = function (n) {\n      function e(a) {\n        if (i[a]) return i[a].exports;\n        var s = i[a] = {\n          i: a,\n          l: !1,\n          exports: {}\n        };\n        return n[a].call(s.exports, s, s.exports, e), s.l = !0, s.exports;\n      }\n      var i = {};\n      return e.m = n, e.c = i, e.i = function (n) {\n        return n;\n      }, e.d = function (n, i, a) {\n        e.o(n, i) || Object.defineProperty(n, i, {\n          configurable: !1,\n          enumerable: !0,\n          get: a\n        });\n      }, e.n = function (n) {\n        var i = n && n.__esModule ? function () {\n          return n.default;\n        } : function () {\n          return n;\n        };\n        return e.d(i, \"a\", i), i;\n      }, e.o = function (n, i) {\n        return Object.prototype.hasOwnProperty.call(n, i);\n      }, e.p = \"\", e(e.s = 1);\n    }([function (n, i, a) {\n      Object.defineProperty(i, \"__esModule\", {\n        value: !0\n      });\n      var s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (n) {\n        return typeof n;\n      } : function (n) {\n        return n && \"function\" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? \"symbol\" : typeof n;\n      };\n      i.default = function t(n) {\n        var i = this;\n        (function o(n, i) {\n          if (!(n instanceof i)) throw new TypeError(\"Cannot call a class as a function\");\n        })(this, t), this.toJSON = function (n) {\n          if (\"string\" != typeof n) return console.error(\"Need a CSS string but given \", void 0 === n ? \"undefined\" : s(n), n), \"Not a valid CSS..!\";\n          var a = {},\n            c = void 0,\n            l = void 0,\n            u = void 0;\n          try {\n            n.split(\"{\").forEach(function (n) {\n              if (l = n.trim()) if (-1 === l.indexOf(\"}\")) a[l] = {}, c = l;else {\n                l.substring(0, l.indexOf(\"}\")).split(\";\").forEach(function (n) {\n                  (u = n.split(\":\")) && 2 === u.length && (a[c][u[0].trim().replace(/^\\\"|\\\"$/g, \"\")] = i._trimSemiColon(u[1].trim().replace(/^\\\"|\\\"$/g, \"\")));\n                });\n                try {\n                  (c = l.split(\"}\")[1].trim()) && (a[c] = {});\n                } catch (n) {}\n              }\n            });\n          } catch (n) {\n            return \"Not a valid CSS..!\";\n          }\n          return a;\n        }, this.toCSS = function (n) {\n          if (\"object\" !== (void 0 === n ? \"undefined\" : s(n))) return console.error(\"Need a JSON object but given \", void 0 === n ? \"undefined\" : s(n), n), \"Not a valid JSON..!\";\n          var i = \"\";\n          try {\n            for (var a in n) if (n.hasOwnProperty(a)) {\n              for (var c in i += a + \" {\\n\", n[a]) n[a].hasOwnProperty(c) && (i += c + \": \" + n[a][c] + \";\\n\");\n              i += \"}\\n\";\n            }\n          } catch (n) {\n            return \"Not a valid JSON..!\";\n          }\n          return i;\n        }, this._trimSemiColon = function (n) {\n          return \";\" === n.slice(-1) ? n.slice(0, i.length - 1) : n;\n        };\n      };\n    }, function (n, i, a) {\n      n.exports = a(0).default;\n    }]);\n  }),\n  m = unwrapExports(g),\n  v = (g.JsonCSS, void 0),\n  y = new m();\nfunction toCSS(n) {\n  var i = y.toCSS({\n    css: n\n  });\n  return i.substring(6, i.length - 3);\n}\nvar b = {\n    ink: {\n      color: \"#000000\",\n      \"-myscript-pen-width\": 1,\n      \"-myscript-pen-fill-style\": \"none\",\n      \"-myscript-pen-fill-color\": \"#FFFFFF00\"\n    },\n    \".math\": {\n      \"font-family\": \"STIXGeneral\"\n    },\n    \".math-solved\": {\n      \"font-family\": \"STIXGeneral\",\n      color: \"#A8A8A8FF\"\n    },\n    \".text\": {\n      \"font-family\": \"Open Sans\",\n      \"font-size\": 10\n    }\n  },\n  x = new m();\nfunction toCSS$1(n) {\n  return x.toCSS(n);\n}\nvar w = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9];\nfunction roundFloat(n, i) {\n  var a;\n  return i || 0 === i ? (a = i > 10 ? w[10] : w[i], Math.round(n * a) / a) : n;\n}\nfunction extractPoint(n, i, a) {\n  var s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,\n    c = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,\n    l = n;\n  l.changedTouches && (l = l.changedTouches[0]);\n  var u = i.getBoundingClientRect();\n  return {\n    x: roundFloat(l.clientX - u.left - i.clientLeft - c, a.xyFloatPrecision),\n    y: roundFloat(l.clientY - u.top - i.clientTop - s, a.xyFloatPrecision),\n    t: roundFloat(Date.now(), a.timestampFloatPrecision)\n  };\n}\nvar _ = Object.freeze({\n  __proto__: null,\n  attach: function attach(n, i) {\n    var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,\n      s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,\n      c = 0;\n    function unfocus() {\n      \"None\" !== window.getSelection().type && window.getSelection().removeAllRanges();\n    }\n    function hideMenu(n) {\n      var i = document.querySelector(\".more-menu\");\n      return !(n.target.classList.contains(\"ellipsis\") || n.target.classList.contains(\"more-menu\") || n.target.classList.contains(\"options-label-button\") || !i || \"none\" === i.style.display) && (i.style.display = \"none\", !0);\n    }\n    function hideCandidates(n) {\n      var i = document.querySelector(\".candidates\");\n      return !(n.target.classList.contains(\"candidates\") || \"SPAN\" === n.target.tagName || !i || \"none\" === i.style.display) && (i.style.display = \"none\", !0);\n    }\n    function pointerDownHandler(c) {\n      var u = c.target.id === i.domElement.id || c.target.classList.contains(\"ms-canvas\");\n      if (void 0 !== this.activePointerId) this.activePointerId === c.pointerId && l.trace(\"\".concat(c.type, \" event with the same id without any pointer up\"), c.pointerId);else if (2 !== c.button && 2 !== c.buttons && u) {\n        if (!hideMenu(c) && !hideCandidates(c)) {\n          this.activePointerId = c.pointerId;\n          var d = c.pointerId > 2147483647 ? -1 : c.pointerId;\n          unfocus(), c.stopPropagation(), i.pointerDown(extractPoint(c, n, i.configuration, a, s), c.pointerType, d);\n        }\n      } else c.target.classList.contains(\"ellipsis\") || c.target.classList.contains(\"tag-icon\") ? (hideMenu(c), hideCandidates(c)) : (hideMenu(c), hideCandidates(c), this.smartGuidePointerDown = !0, this.downSmartGuidePoint = extractPoint(c, n, i.configuration));\n    }\n    function pointerMoveHandler(u) {\n      if (void 0 !== this.activePointerId && this.activePointerId === u.pointerId) unfocus(), i.pointerMove(extractPoint(u, n, i.configuration, a, s));else if (this.smartGuidePointerDown) {\n        var d = extractPoint(u, n, i.configuration, a, s),\n          p = Math.abs(this.downSmartGuidePoint.x - d.x),\n          h = Math.abs(this.downSmartGuidePoint.y - d.y);\n        if (c = Math.max(p, c), p < 5 && h > 5 && c < 15 || p > 5 && h > 5 && c < 15) {\n          this.activePointerId = u.pointerId;\n          var f = u.pointerId > 2147483647 ? -1 : u.pointerId;\n          unfocus(), i.pointerDown(this.downSmartGuidePoint, u.pointerType, f);\n        }\n      } else l.trace(\"\".concat(u.type, \" event from another pointerid (\").concat(u.pointerId, \")\"), this.activePointerId);\n    }\n    function pointerUpHandler(u) {\n      c = 0, this.smartGuidePointerDown = !1;\n      var d = [\"smartguide\", \"prompter-text-container\", \"prompter-text\", \"tag-icon\", \"ellipsis\"],\n        p = [\"ps__rail-x\", \"ps__thumb-x\"],\n        h = u.relatedTarget && (d.includes(u.relatedTarget.className) || p.includes(u.relatedTarget.className)),\n        f = u.relatedTarget && u.target && (d.includes(u.target.className) || p.includes(u.target.className)),\n        g = u.relatedTarget && u.target && (\"SPAN\" === u.target.tagName || \"SPAN\" === u.relatedTarget.tagName);\n      h || f || g ? u.stopPropagation() : void 0 !== this.activePointerId && this.activePointerId === u.pointerId ? (this.activePointerId = void 0, u.stopPropagation(), i.pointerUp(extractPoint(u, n, i.configuration, a, s))) : l.trace(\"\".concat(u.type, \" event from another pointerid (\").concat(u.pointerId, \")\"), this.activePointerId);\n    }\n    var u = {\n      options: i.configuration.listenerOptions,\n      listeners: [{\n        types: [\"pointerdown\"],\n        listener: pointerDownHandler\n      }, {\n        types: [\"pointermove\"],\n        listener: pointerMoveHandler\n      }, {\n        types: [\"pointerup\", \"pointerout\", \"pointerleave\", \"pointercancel\"],\n        listener: pointerUpHandler\n      }]\n    };\n    return l.debug(\"attaching listeners\", u), u.listeners.forEach(function (i) {\n      i.types.forEach(function (a) {\n        return n.addEventListener(a, i.listener, u.options);\n      });\n    }), document.documentElement.addEventListener(\"pointerdown\", function () {}), u;\n  },\n  detach: function detach(n, i) {\n    l.debug(\"detaching listeners\", i), i.listeners.forEach(function (a) {\n      a.types.forEach(function (s) {\n        return n.removeEventListener(s, a.listener, i.options);\n      });\n    }), document.documentElement.removeEventListener(\"pointerdown\", function () {});\n  }\n});\nvar S = function _arrayLikeToArray(n, i) {\n  (null == i || i > n.length) && (i = n.length);\n  for (var a = 0, s = new Array(i); a < i; a++) s[a] = n[a];\n  return s;\n};\nvar k = function _arrayWithoutHoles(n) {\n  if (Array.isArray(n)) return S(n);\n};\nvar C = function _iterableToArray(n) {\n  if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(n)) return Array.from(n);\n};\nvar P = function _unsupportedIterableToArray(n, i) {\n  if (n) {\n    if (\"string\" == typeof n) return S(n, i);\n    var a = Object.prototype.toString.call(n).slice(8, -1);\n    return \"Object\" === a && n.constructor && (a = n.constructor.name), \"Map\" === a || \"Set\" === a ? Array.from(a) : \"Arguments\" === a || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a) ? S(n, i) : void 0;\n  }\n};\nvar T = function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n};\nvar I = function _toConsumableArray(n) {\n  return k(n) || C(n) || P(n) || T();\n};\nfunction drawStroke(n, i, a) {\n  a && a.drawStroke(n, i);\n}\nvar M = {\n  table: \"table\",\n  shape: \"shape\",\n  recognizedShape: \"recognizedShape\",\n  ellipse: \"ellipse\",\n  line: \"line\"\n};\nfunction phi(n) {\n  var i = (n + Math.PI) % (2 * Math.PI) - Math.PI;\n  return i < -Math.PI && (i += 2 * Math.PI), i;\n}\nfunction drawArrowHead(n, i, a, s) {\n  var c = phi(a + Math.PI * (7 / 8)),\n    l = phi(a - Math.PI * (7 / 8)),\n    u = n;\n  u.save();\n  try {\n    u.fillStyle = u.strokeStyle, u.moveTo(i.x, i.y), u.beginPath(), u.lineTo(i.x + s * Math.cos(c), i.y + s * Math.sin(c)), u.lineTo(i.x + s * Math.cos(l), i.y + s * Math.sin(l)), u.lineTo(i.x, i.y), u.fill();\n  } finally {\n    u.restore();\n  }\n}\nfunction drawShapeEllipse(n, i) {\n  var a = function drawEllipseArc(n, i, a, s, c, l, u) {\n    var d = Math.cos(c),\n      p = Math.sin(c),\n      h = d,\n      f = p;\n    d *= a, h *= s, p *= a, f *= s;\n    var g = Math.floor(Math.abs(u) / .02),\n      m = [];\n    n.save();\n    try {\n      n.beginPath();\n      for (var v = 0; v <= g; v++) {\n        var y = l + v / g * u,\n          b = Math.atan2(Math.sin(y) / s, Math.cos(y) / a),\n          x = Math.cos(b),\n          w = Math.sin(b),\n          _ = i.x + d * x - f * w,\n          S = i.y + h * w + p * x;\n        0 === v ? n.moveTo(_, S) : n.lineTo(_, S), 0 !== v && v !== g || m.push({\n          x: _,\n          y: S\n        });\n      }\n      n.stroke();\n    } finally {\n      n.restore();\n    }\n    return m;\n  }(n, i.center, i.maxRadius, i.minRadius, i.orientation, i.startAngle, i.sweepAngle);\n  i.beginDecoration && \"ARROW_HEAD\" === i.beginDecoration && drawArrowHead(n, a[0], i.beginTangentAngle, 12), i.endDecoration && \"ARROW_HEAD\" === i.endDecoration && drawArrowHead(n, a[1], i.endTangentAngle, 12);\n}\nfunction drawLine(n, i, a) {\n  n.save();\n  try {\n    n.beginPath(), n.moveTo(i.x, i.y), n.lineTo(a.x, a.y), n.stroke();\n  } finally {\n    n.restore();\n  }\n}\nfunction drawShapeSymbol(n, i) {\n  u.debug(\"draw \".concat(i.type, \" symbol\"));\n  var a = n;\n  a.save();\n  try {\n    if (a.lineWidth = i.width, a.strokeStyle = i.color, i.elementType) switch (i.elementType) {\n      case M.shape:\n        drawShapeSymbol(a, i.candidates[i.selectedCandidateIndex]);\n        break;\n      case M.table:\n        i.lines.forEach(function (n) {\n          return drawShapeSymbol(a, n);\n        });\n        break;\n      case M.line:\n        drawLine(a, i.data.p1, i.data.p2);\n        break;\n      default:\n        u.error(\"\".concat(i.elementType, \" not implemented\"));\n    } else switch (i.type) {\n      case M.ellipse:\n        drawShapeEllipse(a, i);\n        break;\n      case M.line:\n        !function drawShapeLine(n, i) {\n          drawLine(n, i.firstPoint, i.lastPoint), \"ARROW_HEAD\" === i.beginDecoration && drawArrowHead(n, i.firstPoint, i.beginTangentAngle, 12), \"ARROW_HEAD\" === i.endDecoration && drawArrowHead(n, i.lastPoint, i.endTangentAngle, 12);\n        }(a, i);\n        break;\n      case M.recognizedShape:\n        i.primitives.forEach(function (n) {\n          return drawShapeSymbol(a, n);\n        });\n        break;\n      default:\n        u.error(\"\".concat(i.type, \" not implemented\"));\n    }\n  } finally {\n    a.restore();\n  }\n}\nvar R = {\n  inputCharacter: \"inputCharacter\",\n  char: \"char\",\n  string: \"string\",\n  textLine: \"textLine\"\n};\nfunction drawTextLine(n, i) {\n  !function drawText(n, i, a) {\n    var s = n;\n    s.save();\n    try {\n      s.font = \"\".concat(a.textHeight, \"px serif\"), s.textAlign = \"CENTER\" === a.justificationType ? \"center\" : \"left\", s.textBaseline = \"bottom\", s.fillStyle = s.strokeStyle, s.fillText(i, a.topLeftPoint.x, a.topLeftPoint.y + a.height);\n    } finally {\n      s.restore();\n    }\n  }(n, i.label, i.data), i.underlineList.forEach(function (a) {\n    !function drawUnderline(n, i, a, s) {\n      var c = s.width / a.length;\n      drawLine(n, {\n        x: s.topLeftPoint.x + i.data.firstCharacter * c,\n        y: s.topLeftPoint.y + s.height\n      }, {\n        x: s.topLeftPoint.x + i.data.lastCharacter * c,\n        y: s.topLeftPoint.y + s.height\n      });\n    }(n, a, i.label, i.data);\n  });\n}\nfunction computeDistance(n, i, a, s, c) {\n  var l = Math.sqrt(Math.pow(i - s[c - 1], 2) + Math.pow(n - a[c - 1], 2));\n  return isNaN(l) ? 0 : l;\n}\nfunction computeLength(n, i, a, s, c, l) {\n  var u = c[l - 1] + computeDistance(n, i, a, s, l);\n  return isNaN(u) ? 0 : u;\n}\nfunction createStrokeComponent(n) {\n  return Object.assign({}, {\n    type: \"stroke\",\n    x: [],\n    y: [],\n    t: [],\n    p: [],\n    l: [],\n    width: 0\n  }, n);\n}\nfunction addPoint(n, i) {\n  var a = n;\n  return !function filterPointByAcquisitionDelta(n, i, a, s, c) {\n    var l = 2 + c / 4,\n      u = !1;\n    return (0 === a.length || 0 === s.length || Math.abs(a[a.length - 1] - n) >= l || Math.abs(s[s.length - 1] - i) >= l) && (u = !0), u;\n  }(i.x, i.y, a.x, a.y, a.width) ? c.trace(\"ignore filtered point\", i) : (a.x.push(i.x), a.y.push(i.y), a.t.push(i.t), a.p.push(function computePressure(n, i, a, s, c, l) {\n    var u = 1,\n      d = computeDistance(n, i, a, s, l),\n      p = computeLength(n, i, a, s, c, l);\n    0 === p ? u = .5 : d === p ? u = 1 : d < 10 ? u = .2 + Math.pow(.1 * d, .4) : d > p - 10 && (u = .2 + Math.pow(.1 * (p - d), .4));\n    var h = u * Math.max(.1, 1 - .1 * Math.sqrt(d));\n    return isNaN(parseFloat(h)) ? .5 : h;\n  }(i.x, i.y, a.x, a.y, a.l, a.x.length - 1)), a.l.push(computeLength(i.x, i.y, a.x, a.y, a.l, a.x.length - 1))), a;\n}\nfunction slice(n) {\n  for (var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : n.x.length, s = createStrokeComponent({\n      color: n.color,\n      width: n.width\n    }), c = i; c < a; c++) addPoint(s, {\n    x: n.x[c],\n    y: n.y[c],\n    t: n.t[c]\n  });\n  return s;\n}\nfunction getPointByIndex(n, i) {\n  var a;\n  return void 0 !== i && i >= 0 && i < n.x.length && (a = {\n    x: n.x[i],\n    y: n.y[i],\n    t: n.t[i],\n    p: n.p[i],\n    l: n.l[i]\n  }), a;\n}\nfunction mergeBounds(n, i) {\n  return {\n    minX: Math.min(n.minX, i.minX),\n    maxX: Math.max(n.maxX, i.maxX),\n    minY: Math.min(n.minY, i.minY),\n    maxY: Math.max(n.maxY, i.maxY)\n  };\n}\nfunction getLineBounds(n) {\n  return {\n    minX: Math.min(n.firstPoint.x, n.lastPoint.x),\n    maxX: Math.max(n.firstPoint.x, n.lastPoint.x),\n    minY: Math.min(n.firstPoint.y, n.lastPoint.y),\n    maxY: Math.max(n.firstPoint.y, n.lastPoint.y)\n  };\n}\nfunction getEllipseBounds(n) {\n  var i = Math.cos(n.orientation),\n    a = Math.sin(n.orientation),\n    s = i,\n    c = a;\n  i *= n.maxRadius, s *= n.minRadius, a *= n.maxRadius, c *= n.minRadius;\n  for (var l = Math.abs(n.sweepAngle) / .02, u = [], d = [], p = 0; p <= l; p++) {\n    var h = n.startAngle + p / l * n.sweepAngle,\n      f = Math.atan2(Math.sin(h) / n.minRadius, Math.cos(h) / n.maxRadius),\n      g = Math.cos(f),\n      m = Math.sin(f);\n    u.push(n.center.x + (i * g - c * m)), d.push(n.center.y + (s * m + a * g));\n  }\n  return {\n    minX: Math.min.apply(Math, u),\n    maxX: Math.max.apply(Math, u),\n    minY: Math.min.apply(Math, d),\n    maxY: Math.max.apply(Math, d)\n  };\n}\nfunction getTextLineBounds(n) {\n  return {\n    minX: n.data.topLeftPoint.x,\n    maxX: n.data.topLeftPoint.x + n.data.width,\n    minY: n.data.topLeftPoint.y,\n    maxY: n.data.topLeftPoint.y + n.data.height\n  };\n}\nfunction getClefBounds(n) {\n  return {\n    minX: n.boundingBox.x,\n    maxX: n.boundingBox.x + n.boundingBox.width,\n    minY: n.boundingBox.y,\n    maxY: n.boundingBox.y + n.boundingBox.height\n  };\n}\nfunction getStrokeBounds(n) {\n  return {\n    minX: Math.min.apply(Math, I(n.x)),\n    maxX: Math.max.apply(Math, I(n.x)),\n    minY: Math.min.apply(Math, I(n.y)),\n    maxY: Math.max.apply(Math, I(n.y))\n  };\n}\nfunction getSymbolsBounds(n) {\n  var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {\n      minX: Number.MAX_VALUE,\n      maxX: Number.MIN_VALUE,\n      minY: Number.MAX_VALUE,\n      maxY: Number.MIN_VALUE\n    },\n    a = i;\n  return a = n.filter(function (n) {\n    return \"stroke\" === n.type;\n  }).map(getStrokeBounds).reduce(mergeBounds, a), a = n.filter(function (n) {\n    return \"clef\" === n.type;\n  }).map(getClefBounds).reduce(mergeBounds, a), a = n.filter(function (n) {\n    return \"line\" === n.type;\n  }).map(getLineBounds).reduce(mergeBounds, a), a = n.filter(function (n) {\n    return \"ellipse\" === n.type;\n  }).map(getEllipseBounds).reduce(mergeBounds, a), a = n.filter(function (n) {\n    return \"textLine\" === n.type;\n  }).map(getTextLineBounds).reduce(mergeBounds, a);\n}\nfunction createModel(n) {\n  return {\n    currentStroke: void 0,\n    rawStrokes: [],\n    strokeGroups: [],\n    lastPositions: {\n      lastSentPosition: -1,\n      lastReceivedPosition: -1,\n      lastRenderedPosition: -1\n    },\n    defaultSymbols: [],\n    recognizedSymbols: void 0,\n    exports: void 0,\n    rawResults: {\n      convert: void 0,\n      exports: void 0\n    },\n    creationTime: new Date().getTime(),\n    modificationTime: void 0\n  };\n}\nfunction clearModel(n) {\n  var i = n;\n  return i.currentStroke = void 0, i.rawStrokes = [], i.strokeGroups = [], i.lastPositions.lastSentPosition = -1, i.lastPositions.lastReceivedPosition = -1, i.lastPositions.lastRenderedPosition = -1, i.recognizedSymbols = void 0, i.exports = void 0, i.rawResults.convert = void 0, i.rawResults.exports = void 0, i;\n}\nfunction needRedraw(n) {\n  return !!n.recognizedSymbols && n.rawStrokes.length !== n.recognizedSymbols.filter(function (n) {\n    return \"stroke\" === n.type;\n  }).length;\n}\nfunction addStroke(n, i) {\n  var a = n;\n  return c.debug(\"addStroke\", i), a.rawStrokes.push(i), a;\n}\nfunction addStrokeToGroup(n, i, a) {\n  var s = n;\n  c.debug(\"addStroke\", i);\n  var l = s.strokeGroups.length - 1;\n  if (s.strokeGroups[l] && s.strokeGroups[l].penStyle === a) s.strokeGroups[l].strokes.push(i);else {\n    var u = {\n        penStyle: a,\n        strokes: []\n      },\n      d = {};\n    Object.assign(d, i), u.strokes.push(d), s.strokeGroups.push(u);\n  }\n  return s;\n}\nfunction extractPendingStrokes(n) {\n  var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : n.lastPositions.lastReceivedPosition + 1;\n  return n.rawStrokes.slice(i);\n}\nfunction initPendingStroke(n, i, a) {\n  var s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 96;\n  if (a && a[\"-myscript-pen-width\"]) {\n    var l = a[\"-myscript-pen-width\"] * s / 25.4;\n    Object.assign(a, {\n      width: l / 2\n    });\n  }\n  var u = n;\n  return c.trace(\"initPendingStroke\", i), u.currentStroke = createStrokeComponent(a), u.currentStroke = addPoint(u.currentStroke, i), u;\n}\nfunction appendToPendingStroke(n, i) {\n  var a = n;\n  return a.currentStroke && (c.trace(\"appendToPendingStroke\", i), a.currentStroke = addPoint(a.currentStroke, i)), a;\n}\nfunction endPendingStroke(n, i, a) {\n  var s = n;\n  if (s.currentStroke) {\n    c.trace(\"endPendingStroke\", i);\n    var l = addPoint(s.currentStroke, i);\n    addStroke(s, l), addStrokeToGroup(s, l, a), delete s.currentStroke;\n  }\n  return s;\n}\nfunction getBorderCoordinates(n) {\n  var i = {\n    minX: Number.MAX_VALUE,\n    maxX: Number.MIN_VALUE,\n    minY: Number.MAX_VALUE,\n    maxY: Number.MIN_VALUE\n  };\n  return n.defaultSymbols && n.defaultSymbols.length > 0 && (i = getSymbolsBounds(n.defaultSymbols, i)), n.recognizedSymbols && n.recognizedSymbols.length > 0 ? (i = getSymbolsBounds(n.recognizedSymbols, i), i = getSymbolsBounds(extractPendingStrokes(n), i)) : i = getSymbolsBounds(n.rawStrokes, i), i;\n}\nfunction updateModelSentPosition(n) {\n  var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : n.rawStrokes.length - 1,\n    a = n;\n  return a.lastPositions.lastSentPosition = i, a;\n}\nfunction updateModelReceivedPosition(n) {\n  var i = n;\n  return i.lastPositions.lastReceivedPosition = i.lastPositions.lastSentPosition, i;\n}\nfunction resetModelPositions(n) {\n  var i = n;\n  return i.lastPositions.lastSentPosition = -1, i.lastPositions.lastReceivedPosition = -1, i;\n}\nfunction updateModelRenderedPosition(n) {\n  var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : n.recognizedSymbols ? n.recognizedSymbols.length - 1 : -1,\n    a = n;\n  return a.lastPositions.lastRenderedPosition = i, a;\n}\nfunction extractPendingRecognizedSymbols(n) {\n  var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : n.lastPositions.lastRenderedPosition + 1;\n  return n.recognizedSymbols ? n.recognizedSymbols.slice(i) : [];\n}\nfunction cloneModel(n) {\n  var i = Object.assign({}, n);\n  return i.defaultSymbols = I(n.defaultSymbols), i.currentStroke = n.currentStroke ? Object.assign({}, n.currentStroke) : void 0, i.rawStrokes = I(n.rawStrokes), i.strokeGroups = JSON.parse(JSON.stringify(n.strokeGroups)), i.lastPositions = Object.assign({}, n.lastPositions), i.exports = n.exports ? Object.assign({}, n.exports) : void 0, i.rawResults = Object.assign({}, n.rawResults), i.recognizedSymbols = n.recognizedSymbols ? I(n.recognizedSymbols) : void 0, i;\n}\nfunction mergeModels() {\n  for (var n = arguments.length, i = new Array(n), a = 0; a < n; a++) i[a] = arguments[a];\n  return i.reduce(function (n, i) {\n    var a = n;\n    return a.recognizedSymbols = i.recognizedSymbols, a.lastPositions.lastSentPosition = i.lastPositions.lastSentPosition, a.lastPositions.lastReceivedPosition = i.lastPositions.lastReceivedPosition, a.lastPositions.lastRenderedPosition = i.lastPositions.lastRenderedPosition, a.rawResults = i.rawResults, a.exports = i.exports, a;\n  });\n}\nvar L = Object.freeze({\n  __proto__: null,\n  createModel: createModel,\n  clearModel: clearModel,\n  needRedraw: needRedraw,\n  addStroke: addStroke,\n  addStrokeToGroup: addStrokeToGroup,\n  extractPendingStrokes: extractPendingStrokes,\n  initPendingStroke: initPendingStroke,\n  appendToPendingStroke: appendToPendingStroke,\n  endPendingStroke: endPendingStroke,\n  getBorderCoordinates: getBorderCoordinates,\n  extractStrokesFromInkRange: function extractStrokesFromInkRange(n, i, a, s, c) {\n    return n.rawStrokes.slice(i, a + 1).map(function (n, i, a) {\n      return a.length < 2 ? slice(n, s, c + 1) : 0 === i ? slice(n, s) : i === a.length - 1 ? slice(n, 0, c + 1) : n;\n    });\n  },\n  updateModelSentPosition: updateModelSentPosition,\n  updateModelReceivedPosition: updateModelReceivedPosition,\n  resetModelPositions: resetModelPositions,\n  resetModelRendererPosition: function resetModelRendererPosition(n) {\n    var i = n;\n    return i.lastPositions.lastRenderedPosition = -1, i;\n  },\n  updateModelRenderedPosition: updateModelRenderedPosition,\n  extractPendingRecognizedSymbols: extractPendingRecognizedSymbols,\n  cloneModel: cloneModel,\n  mergeModels: mergeModels\n});\nfunction detectPixelRatio(n) {\n  return function getPixelRatio(n) {\n    if (n) {\n      var i = n.getContext(\"2d\");\n      return (window.devicePixelRatio || 1) / (i.webkitBackingStorePixelRatio || i.mozBackingStorePixelRatio || i.msBackingStorePixelRatio || i.oBackingStorePixelRatio || i.backingStorePixelRatio || 1);\n    }\n    return 1;\n  }(document.createElement(\"canvas\"));\n}\nfunction createCanvas(n, i) {\n  var a = document.createElement(\"canvas\");\n  return a.classList.add(i), a.classList.add(\"ms-canvas\"), n.appendChild(a), u.debug(\"canvas created\", a), a;\n}\nfunction resizeContent(n) {\n  return [n.renderingCanvas, n.capturingCanvas].forEach(function (i) {\n    var a = i.parentNode,\n      s = a.clientWidth < n.minWidth ? n.minWidth : a.clientWidth,\n      c = a.clientHeight < n.minHeight ? n.minHeight : a.clientHeight;\n    i.width = s * n.pixelRatio, i.height = c * n.pixelRatio, i.style.width = \"\".concat(s, \"px\"), i.style.height = \"\".concat(c, \"px\"), i.getContext(\"2d\").scale(n.pixelRatio, n.pixelRatio), u.debug(\"canvas size changed\", i);\n  }), n;\n}\nfunction drawSymbol(n, i, a) {\n  var s = i.elementType ? i.elementType : i.type;\n  u.trace(\"attempting to draw \".concat(s, \" symbol\")), \"stroke\" === s ? drawStroke(n, i, a) : R[s] ? function drawTextSymbol(n, i) {\n    u.debug(\"draw \".concat(i.type, \" symbol\"));\n    var a = n;\n    a.save();\n    try {\n      if (a.lineWidth = i.width, a.strokeStyle = i.color, i.elementType) switch (i.elementType) {\n        case R.textLine:\n          drawTextLine(a, i);\n          break;\n        default:\n          u.error(\"\".concat(i.elementType, \" not implemented\"));\n      } else switch (i.type) {\n        case R.textLine:\n          drawTextLine(a, i);\n          break;\n        default:\n          u.error(\"\".concat(i.type, \" not implemented\"));\n      }\n    } finally {\n      a.restore();\n    }\n  }(n, i) : M[s] ? drawShapeSymbol(n, i) : u.warn(\"impossible to draw \".concat(s, \" symbol\"));\n}\nfunction drawModel(n, i, a) {\n  n.renderingCanvasContext.clearRect(0, 0, n.renderingCanvas.width, n.renderingCanvas.height);\n  var s = I(i.defaultSymbols);\n  return i.recognizedSymbols ? (s.push.apply(s, I(i.recognizedSymbols)), s.push.apply(s, I(extractPendingStrokes(i)))) : s.push.apply(s, I(i.rawStrokes)), s.forEach(function (i) {\n    return drawSymbol(n.renderingCanvasContext, i, a);\n  }), n.capturingCanvasContext.clearRect(0, 0, n.capturingCanvas.width, n.capturingCanvas.height), i;\n}\nvar A = Object.freeze({\n  __proto__: null,\n  getInfo: function getInfo() {\n    return {\n      type: \"canvas\"\n    };\n  },\n  attach: function attach$1(n) {\n    var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,\n      a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;\n    u.debug(\"attach renderer\", n);\n    var s = detectPixelRatio(),\n      c = createCanvas(n, \"ms-rendering-canvas\"),\n      l = createCanvas(n, \"ms-capture-canvas\"),\n      d = {\n        pixelRatio: s,\n        minHeight: i,\n        minWidth: a,\n        renderingCanvas: c,\n        renderingCanvasContext: c.getContext(\"2d\"),\n        capturingCanvas: l,\n        capturingCanvasContext: l.getContext(\"2d\")\n      };\n    return resizeContent(d);\n  },\n  detach: function detach$1(n, i) {\n    u.debug(\"detach renderer\", n), n.removeChild(i.renderingCanvas), n.removeChild(i.capturingCanvas);\n  },\n  resize: function resize(n, i, a) {\n    return this.drawModel(resizeContent(n), i, a);\n  },\n  drawCurrentStroke: function drawCurrentStroke(n, i, a) {\n    return n.capturingCanvasContext.clearRect(0, 0, n.capturingCanvas.width, n.capturingCanvas.height), u.trace(\"drawing current stroke \", i.currentStroke), drawStroke(n.capturingCanvasContext, i.currentStroke, a), i;\n  },\n  drawModel: drawModel\n});\nfunction computeLinksPoints(n, i, a) {\n  var s = n.p * a;\n  return [{\n    x: n.x - Math.sin(i) * s,\n    y: n.y + Math.cos(i) * s\n  }, {\n    x: n.x + Math.sin(i) * s,\n    y: n.y - Math.cos(i) * s\n  }];\n}\nfunction computeMiddlePoint(n, i) {\n  return {\n    x: (i.x + n.x) / 2,\n    y: (i.y + n.y) / 2,\n    p: (i.p + n.p) / 2\n  };\n}\nfunction computeAxeAngle(n, i) {\n  return Math.atan2(i.y - n.y, i.x - n.x);\n}\nfunction renderArc(n, i, a) {\n  n.arc(i.x, i.y, a, 0, 2 * Math.PI, !0);\n}\nfunction renderLine(n, i, a, s) {\n  var c = computeLinksPoints(i, computeAxeAngle(i, a), s),\n    l = computeLinksPoints(a, computeAxeAngle(i, a), s);\n  n.moveTo(c[0].x, c[0].y), n.lineTo(l[0].x, l[0].y), n.lineTo(l[1].x, l[1].y), n.lineTo(c[1].x, c[1].y);\n}\nfunction renderQuadratic(n, i, a, s, c) {\n  var l = computeLinksPoints(i, computeAxeAngle(i, s), c),\n    u = computeLinksPoints(a, computeAxeAngle(s, a), c),\n    d = computeLinksPoints(s, computeAxeAngle(i, a), c);\n  n.moveTo(l[0].x, l[0].y), n.quadraticCurveTo(d[0].x, d[0].y, u[0].x, u[0].y), n.lineTo(u[1].x, u[1].y), n.quadraticCurveTo(d[1].x, d[1].y, l[1].x, l[1].y);\n}\nvar D = Object.freeze({\n    __proto__: null,\n    getInfo: function getInfo$1() {\n      return {\n        type: \"canvas\",\n        name: \"quadratic\"\n      };\n    },\n    drawStroke: function drawStroke$1(n, i) {\n      var a = n,\n        s = i.x.length,\n        c = i.width > 0 ? i.width : a.lineWidth,\n        l = i.color ? i.color : a.strokeStyle,\n        u = getPointByIndex(i, 0),\n        d = s - 2;\n      a.save();\n      try {\n        if (a.beginPath(), s < 3) renderArc(a, u, .6 * c);else {\n          renderArc(a, u, c * u.p), renderLine(a, u, computeMiddlePoint(u, getPointByIndex(i, 1)), c);\n          for (var p = 0; p < d; p++) renderQuadratic(a, computeMiddlePoint(getPointByIndex(i, p), getPointByIndex(i, p + 1)), computeMiddlePoint(getPointByIndex(i, p + 1), getPointByIndex(i, p + 2)), getPointByIndex(i, p + 1), c);\n          renderLine(a, computeMiddlePoint(getPointByIndex(i, s - 2), getPointByIndex(i, s - 1)), getPointByIndex(i, s - 1), c), function renderFinal(n, i, a, s) {\n            var c = computeAxeAngle(i, a),\n              l = computeLinksPoints(a, c, s);\n            n.moveTo(l[0].x, l[0].y);\n            for (var u = 1; u <= 6; u++) {\n              var d = c - u * Math.PI / 6;\n              n.lineTo(a.x - a.p * s * Math.sin(d), a.y + a.p * s * Math.cos(d));\n            }\n          }(a, getPointByIndex(i, s - 2), getPointByIndex(i, s - 1), c);\n        }\n        a.closePath(), void 0 !== l && (a.fillStyle = l, a.fill());\n      } finally {\n        a.restore();\n      }\n    }\n  }),\n  j = \"http://www.w3.org/1999/xhtml\",\n  U = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: j,\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n  };\nfunction namespace(n) {\n  var i = n += \"\",\n    a = i.indexOf(\":\");\n  return a >= 0 && \"xmlns\" !== (i = n.slice(0, a)) && (n = n.slice(a + 1)), U.hasOwnProperty(i) ? {\n    space: U[i],\n    local: n\n  } : n;\n}\nfunction creatorInherit(n) {\n  return function () {\n    var i = this.ownerDocument,\n      a = this.namespaceURI;\n    return a === j && i.documentElement.namespaceURI === j ? i.createElement(n) : i.createElementNS(a, n);\n  };\n}\nfunction creatorFixed(n) {\n  return function () {\n    return this.ownerDocument.createElementNS(n.space, n.local);\n  };\n}\nfunction creator(n) {\n  var i = namespace(n);\n  return (i.local ? creatorFixed : creatorInherit)(i);\n}\nfunction none() {}\nfunction selector(n) {\n  return null == n ? none : function () {\n    return this.querySelector(n);\n  };\n}\nfunction empty() {\n  return [];\n}\nfunction sparse(n) {\n  return new Array(n.length);\n}\nfunction EnterNode(n, i) {\n  this.ownerDocument = n.ownerDocument, this.namespaceURI = n.namespaceURI, this._next = null, this._parent = n, this.__data__ = i;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function (n) {\n    return this._parent.insertBefore(n, this._next);\n  },\n  insertBefore: function (n, i) {\n    return this._parent.insertBefore(n, i);\n  },\n  querySelector: function (n) {\n    return this._parent.querySelector(n);\n  },\n  querySelectorAll: function (n) {\n    return this._parent.querySelectorAll(n);\n  }\n};\nfunction bindIndex(n, i, a, s, c, l) {\n  for (var u, d = 0, p = i.length, h = l.length; d < h; ++d) (u = i[d]) ? (u.__data__ = l[d], s[d] = u) : a[d] = new EnterNode(n, l[d]);\n  for (; d < p; ++d) (u = i[d]) && (c[d] = u);\n}\nfunction bindKey(n, i, a, s, c, l, u) {\n  var d,\n    p,\n    h,\n    f = {},\n    g = i.length,\n    m = l.length,\n    v = new Array(g);\n  for (d = 0; d < g; ++d) (p = i[d]) && (v[d] = h = \"$\" + u.call(p, p.__data__, d, i), h in f ? c[d] = p : f[h] = p);\n  for (d = 0; d < m; ++d) (p = f[h = \"$\" + u.call(n, l[d], d, l)]) ? (s[d] = p, p.__data__ = l[d], f[h] = null) : a[d] = new EnterNode(n, l[d]);\n  for (d = 0; d < g; ++d) (p = i[d]) && f[v[d]] === p && (c[d] = p);\n}\nfunction ascending(n, i) {\n  return n < i ? -1 : n > i ? 1 : n >= i ? 0 : NaN;\n}\nfunction attrRemove(n) {\n  return function () {\n    this.removeAttribute(n);\n  };\n}\nfunction attrRemoveNS(n) {\n  return function () {\n    this.removeAttributeNS(n.space, n.local);\n  };\n}\nfunction attrConstant(n, i) {\n  return function () {\n    this.setAttribute(n, i);\n  };\n}\nfunction attrConstantNS(n, i) {\n  return function () {\n    this.setAttributeNS(n.space, n.local, i);\n  };\n}\nfunction attrFunction(n, i) {\n  return function () {\n    var a = i.apply(this, arguments);\n    null == a ? this.removeAttribute(n) : this.setAttribute(n, a);\n  };\n}\nfunction attrFunctionNS(n, i) {\n  return function () {\n    var a = i.apply(this, arguments);\n    null == a ? this.removeAttributeNS(n.space, n.local) : this.setAttributeNS(n.space, n.local, a);\n  };\n}\nfunction defaultView(n) {\n  return n.ownerDocument && n.ownerDocument.defaultView || n.document && n || n.defaultView;\n}\nfunction styleRemove(n) {\n  return function () {\n    this.style.removeProperty(n);\n  };\n}\nfunction styleConstant(n, i, a) {\n  return function () {\n    this.style.setProperty(n, i, a);\n  };\n}\nfunction styleFunction(n, i, a) {\n  return function () {\n    var s = i.apply(this, arguments);\n    null == s ? this.style.removeProperty(n) : this.style.setProperty(n, s, a);\n  };\n}\nfunction styleValue(n, i) {\n  return n.style.getPropertyValue(i) || defaultView(n).getComputedStyle(n, null).getPropertyValue(i);\n}\nfunction propertyRemove(n) {\n  return function () {\n    delete this[n];\n  };\n}\nfunction propertyConstant(n, i) {\n  return function () {\n    this[n] = i;\n  };\n}\nfunction propertyFunction(n, i) {\n  return function () {\n    var a = i.apply(this, arguments);\n    null == a ? delete this[n] : this[n] = a;\n  };\n}\nfunction classArray(n) {\n  return n.trim().split(/^|\\s+/);\n}\nfunction classList(n) {\n  return n.classList || new ClassList(n);\n}\nfunction ClassList(n) {\n  this._node = n, this._names = classArray(n.getAttribute(\"class\") || \"\");\n}\nfunction classedAdd(n, i) {\n  for (var a = classList(n), s = -1, c = i.length; ++s < c;) a.add(i[s]);\n}\nfunction classedRemove(n, i) {\n  for (var a = classList(n), s = -1, c = i.length; ++s < c;) a.remove(i[s]);\n}\nfunction classedTrue(n) {\n  return function () {\n    classedAdd(this, n);\n  };\n}\nfunction classedFalse(n) {\n  return function () {\n    classedRemove(this, n);\n  };\n}\nfunction classedFunction(n, i) {\n  return function () {\n    (i.apply(this, arguments) ? classedAdd : classedRemove)(this, n);\n  };\n}\nfunction textRemove() {\n  this.textContent = \"\";\n}\nfunction textConstant(n) {\n  return function () {\n    this.textContent = n;\n  };\n}\nfunction textFunction(n) {\n  return function () {\n    var i = n.apply(this, arguments);\n    this.textContent = null == i ? \"\" : i;\n  };\n}\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\nfunction htmlConstant(n) {\n  return function () {\n    this.innerHTML = n;\n  };\n}\nfunction htmlFunction(n) {\n  return function () {\n    var i = n.apply(this, arguments);\n    this.innerHTML = null == i ? \"\" : i;\n  };\n}\nfunction raise() {\n  this.nextSibling && this.parentNode.appendChild(this);\n}\nfunction lower() {\n  this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nfunction constantNull() {\n  return null;\n}\nfunction remove() {\n  var n = this.parentNode;\n  n && n.removeChild(this);\n}\nfunction selection_cloneShallow() {\n  var n = this.cloneNode(!1),\n    i = this.parentNode;\n  return i ? i.insertBefore(n, this.nextSibling) : n;\n}\nfunction selection_cloneDeep() {\n  var n = this.cloneNode(!0),\n    i = this.parentNode;\n  return i ? i.insertBefore(n, this.nextSibling) : n;\n}\nClassList.prototype = {\n  add: function (n) {\n    this._names.indexOf(n) < 0 && (this._names.push(n), this._node.setAttribute(\"class\", this._names.join(\" \")));\n  },\n  remove: function (n) {\n    var i = this._names.indexOf(n);\n    i >= 0 && (this._names.splice(i, 1), this._node.setAttribute(\"class\", this._names.join(\" \")));\n  },\n  contains: function (n) {\n    return this._names.indexOf(n) >= 0;\n  }\n};\nvar O = {};\n\"undefined\" != typeof document && (\"onmouseenter\" in document.documentElement || (O = {\n  mouseenter: \"mouseover\",\n  mouseleave: \"mouseout\"\n}));\nfunction filterContextListener(n, i, a) {\n  return n = contextListener(n, i, a), function (i) {\n    var a = i.relatedTarget;\n    a && (a === this || 8 & a.compareDocumentPosition(this)) || n.call(this, i);\n  };\n}\nfunction contextListener(n, i, a) {\n  return function (s) {\n    try {\n      n.call(this, this.__data__, i, a);\n    } finally {}\n  };\n}\nfunction parseTypenames(n) {\n  return n.trim().split(/^|\\s+/).map(function (n) {\n    var i = \"\",\n      a = n.indexOf(\".\");\n    return a >= 0 && (i = n.slice(a + 1), n = n.slice(0, a)), {\n      type: n,\n      name: i\n    };\n  });\n}\nfunction onRemove(n) {\n  return function () {\n    var i = this.__on;\n    if (i) {\n      for (var a, s = 0, c = -1, l = i.length; s < l; ++s) a = i[s], n.type && a.type !== n.type || a.name !== n.name ? i[++c] = a : this.removeEventListener(a.type, a.listener, a.capture);\n      ++c ? i.length = c : delete this.__on;\n    }\n  };\n}\nfunction onAdd(n, i, a) {\n  var s = O.hasOwnProperty(n.type) ? filterContextListener : contextListener;\n  return function (c, l, u) {\n    var d,\n      p = this.__on,\n      h = s(i, l, u);\n    if (p) for (var f = 0, g = p.length; f < g; ++f) if ((d = p[f]).type === n.type && d.name === n.name) return this.removeEventListener(d.type, d.listener, d.capture), this.addEventListener(d.type, d.listener = h, d.capture = a), void (d.value = i);\n    this.addEventListener(n.type, h, a), d = {\n      type: n.type,\n      name: n.name,\n      value: i,\n      listener: h,\n      capture: a\n    }, p ? p.push(d) : this.__on = [d];\n  };\n}\nfunction dispatchEvent(n, i, a) {\n  var s = defaultView(n),\n    c = s.CustomEvent;\n  \"function\" == typeof c ? c = new c(i, a) : (c = s.document.createEvent(\"Event\"), a ? (c.initEvent(i, a.bubbles, a.cancelable), c.detail = a.detail) : c.initEvent(i, !1, !1)), n.dispatchEvent(c);\n}\nfunction dispatchConstant(n, i) {\n  return function () {\n    return dispatchEvent(this, n, i);\n  };\n}\nfunction dispatchFunction(n, i) {\n  return function () {\n    return dispatchEvent(this, n, i.apply(this, arguments));\n  };\n}\nvar z = [null];\nfunction Selection(n, i) {\n  this._groups = n, this._parents = i;\n}\nfunction drawStroke$2(n, i, a) {\n  a && a.drawStroke(n, i);\n}\nfunction insertAdjacentSVG(n, i, a) {\n  var s = n.ownerDocument.createElementNS(\"http://www.w3.org/2000/svg\", \"_\");\n  switch (s.innerHTML = a, i.toLowerCase()) {\n    case \"beforebegin\":\n      n.parentNode.insertBefore(s.firstChild, n);\n      break;\n    case \"afterbegin\":\n      n.insertBefore(s.lastChild, n.firstChild);\n      break;\n    case \"beforeend\":\n      n.appendChild(s.firstChild);\n      break;\n    case \"afterend\":\n      n.parentNode.insertBefore(s.lastChild, n.nextSibling);\n      break;\n    default:\n      u.warn(\"Invalid insertAdjacentHTML position\");\n  }\n}\nSelection.prototype = function selection() {\n  return new Selection([[document.documentElement]], z);\n}.prototype = {\n  constructor: Selection,\n  select: function selection_select(n) {\n    \"function\" != typeof n && (n = selector(n));\n    for (var i = this._groups, a = i.length, s = new Array(a), c = 0; c < a; ++c) for (var l, u, d = i[c], p = d.length, h = s[c] = new Array(p), f = 0; f < p; ++f) (l = d[f]) && (u = n.call(l, l.__data__, f, d)) && (\"__data__\" in l && (u.__data__ = l.__data__), h[f] = u);\n    return new Selection(s, this._parents);\n  },\n  selectAll: function selection_selectAll(n) {\n    \"function\" != typeof n && (n = function selectorAll(n) {\n      return null == n ? empty : function () {\n        return this.querySelectorAll(n);\n      };\n    }(n));\n    for (var i = this._groups, a = i.length, s = [], c = [], l = 0; l < a; ++l) for (var u, d = i[l], p = d.length, h = 0; h < p; ++h) (u = d[h]) && (s.push(n.call(u, u.__data__, h, d)), c.push(u));\n    return new Selection(s, c);\n  },\n  filter: function selection_filter(n) {\n    \"function\" != typeof n && (n = function matcher(n) {\n      return function () {\n        return this.matches(n);\n      };\n    }(n));\n    for (var i = this._groups, a = i.length, s = new Array(a), c = 0; c < a; ++c) for (var l, u = i[c], d = u.length, p = s[c] = [], h = 0; h < d; ++h) (l = u[h]) && n.call(l, l.__data__, h, u) && p.push(l);\n    return new Selection(s, this._parents);\n  },\n  data: function selection_data(n, i) {\n    if (!n) return v = new Array(this.size()), h = -1, this.each(function (n) {\n      v[++h] = n;\n    }), v;\n    var a = i ? bindKey : bindIndex,\n      s = this._parents,\n      c = this._groups;\n    \"function\" != typeof n && (n = function constant(n) {\n      return function () {\n        return n;\n      };\n    }(n));\n    for (var l = c.length, u = new Array(l), d = new Array(l), p = new Array(l), h = 0; h < l; ++h) {\n      var f = s[h],\n        g = c[h],\n        m = g.length,\n        v = n.call(f, f && f.__data__, h, s),\n        y = v.length,\n        b = d[h] = new Array(y),\n        x = u[h] = new Array(y);\n      a(f, g, b, x, p[h] = new Array(m), v, i);\n      for (var w, _, S = 0, k = 0; S < y; ++S) if (w = b[S]) {\n        for (S >= k && (k = S + 1); !(_ = x[k]) && ++k < y;);\n        w._next = _ || null;\n      }\n    }\n    return (u = new Selection(u, s))._enter = d, u._exit = p, u;\n  },\n  enter: function selection_enter() {\n    return new Selection(this._enter || this._groups.map(sparse), this._parents);\n  },\n  exit: function selection_exit() {\n    return new Selection(this._exit || this._groups.map(sparse), this._parents);\n  },\n  join: function selection_join(n, i, a) {\n    var s = this.enter(),\n      c = this,\n      l = this.exit();\n    return s = \"function\" == typeof n ? n(s) : s.append(n + \"\"), null != i && (c = i(c)), null == a ? l.remove() : a(l), s && c ? s.merge(c).order() : c;\n  },\n  merge: function selection_merge(n) {\n    for (var i = this._groups, a = n._groups, s = i.length, c = a.length, l = Math.min(s, c), u = new Array(s), d = 0; d < l; ++d) for (var p, h = i[d], f = a[d], g = h.length, m = u[d] = new Array(g), v = 0; v < g; ++v) (p = h[v] || f[v]) && (m[v] = p);\n    for (; d < s; ++d) u[d] = i[d];\n    return new Selection(u, this._parents);\n  },\n  order: function selection_order() {\n    for (var n = this._groups, i = -1, a = n.length; ++i < a;) for (var s, c = n[i], l = c.length - 1, u = c[l]; --l >= 0;) (s = c[l]) && (u && 4 ^ s.compareDocumentPosition(u) && u.parentNode.insertBefore(s, u), u = s);\n    return this;\n  },\n  sort: function selection_sort(n) {\n    function compareNode(i, a) {\n      return i && a ? n(i.__data__, a.__data__) : !i - !a;\n    }\n    n || (n = ascending);\n    for (var i = this._groups, a = i.length, s = new Array(a), c = 0; c < a; ++c) {\n      for (var l, u = i[c], d = u.length, p = s[c] = new Array(d), h = 0; h < d; ++h) (l = u[h]) && (p[h] = l);\n      p.sort(compareNode);\n    }\n    return new Selection(s, this._parents).order();\n  },\n  call: function selection_call() {\n    var n = arguments[0];\n    return arguments[0] = this, n.apply(null, arguments), this;\n  },\n  nodes: function selection_nodes() {\n    var n = new Array(this.size()),\n      i = -1;\n    return this.each(function () {\n      n[++i] = this;\n    }), n;\n  },\n  node: function selection_node() {\n    for (var n = this._groups, i = 0, a = n.length; i < a; ++i) for (var s = n[i], c = 0, l = s.length; c < l; ++c) {\n      var u = s[c];\n      if (u) return u;\n    }\n    return null;\n  },\n  size: function selection_size() {\n    var n = 0;\n    return this.each(function () {\n      ++n;\n    }), n;\n  },\n  empty: function selection_empty() {\n    return !this.node();\n  },\n  each: function selection_each(n) {\n    for (var i = this._groups, a = 0, s = i.length; a < s; ++a) for (var c, l = i[a], u = 0, d = l.length; u < d; ++u) (c = l[u]) && n.call(c, c.__data__, u, l);\n    return this;\n  },\n  attr: function selection_attr(n, i) {\n    var a = namespace(n);\n    if (arguments.length < 2) {\n      var s = this.node();\n      return a.local ? s.getAttributeNS(a.space, a.local) : s.getAttribute(a);\n    }\n    return this.each((null == i ? a.local ? attrRemoveNS : attrRemove : \"function\" == typeof i ? a.local ? attrFunctionNS : attrFunction : a.local ? attrConstantNS : attrConstant)(a, i));\n  },\n  style: function selection_style(n, i, a) {\n    return arguments.length > 1 ? this.each((null == i ? styleRemove : \"function\" == typeof i ? styleFunction : styleConstant)(n, i, null == a ? \"\" : a)) : styleValue(this.node(), n);\n  },\n  property: function selection_property(n, i) {\n    return arguments.length > 1 ? this.each((null == i ? propertyRemove : \"function\" == typeof i ? propertyFunction : propertyConstant)(n, i)) : this.node()[n];\n  },\n  classed: function selection_classed(n, i) {\n    var a = classArray(n + \"\");\n    if (arguments.length < 2) {\n      for (var s = classList(this.node()), c = -1, l = a.length; ++c < l;) if (!s.contains(a[c])) return !1;\n      return !0;\n    }\n    return this.each((\"function\" == typeof i ? classedFunction : i ? classedTrue : classedFalse)(a, i));\n  },\n  text: function selection_text(n) {\n    return arguments.length ? this.each(null == n ? textRemove : (\"function\" == typeof n ? textFunction : textConstant)(n)) : this.node().textContent;\n  },\n  html: function selection_html(n) {\n    return arguments.length ? this.each(null == n ? htmlRemove : (\"function\" == typeof n ? htmlFunction : htmlConstant)(n)) : this.node().innerHTML;\n  },\n  raise: function selection_raise() {\n    return this.each(raise);\n  },\n  lower: function selection_lower() {\n    return this.each(lower);\n  },\n  append: function selection_append(n) {\n    var i = \"function\" == typeof n ? n : creator(n);\n    return this.select(function () {\n      return this.appendChild(i.apply(this, arguments));\n    });\n  },\n  insert: function selection_insert(n, i) {\n    var a = \"function\" == typeof n ? n : creator(n),\n      s = null == i ? constantNull : \"function\" == typeof i ? i : selector(i);\n    return this.select(function () {\n      return this.insertBefore(a.apply(this, arguments), s.apply(this, arguments) || null);\n    });\n  },\n  remove: function selection_remove() {\n    return this.each(remove);\n  },\n  clone: function selection_clone(n) {\n    return this.select(n ? selection_cloneDeep : selection_cloneShallow);\n  },\n  datum: function selection_datum(n) {\n    return arguments.length ? this.property(\"__data__\", n) : this.node().__data__;\n  },\n  on: function selection_on(n, i, a) {\n    var s,\n      c,\n      l = parseTypenames(n + \"\"),\n      u = l.length;\n    if (!(arguments.length < 2)) {\n      for (d = i ? onAdd : onRemove, null == a && (a = !1), s = 0; s < u; ++s) this.each(d(l[s], i, a));\n      return this;\n    }\n    var d = this.node().__on;\n    if (d) for (var p, h = 0, f = d.length; h < f; ++h) for (s = 0, p = d[h]; s < u; ++s) if ((c = l[s]).type === p.type && c.name === p.name) return p.value;\n  },\n  dispatch: function selection_dispatch(n, i) {\n    return this.each((\"function\" == typeof i ? dispatchFunction : dispatchConstant)(n, i));\n  }\n};\nvar N = Object.freeze({\n  __proto__: null,\n  getInfo: function getInfo$2() {\n    return {\n      type: \"svg\"\n    };\n  },\n  attach: function attach$2(n) {\n    var i = n;\n    return u.debug(\"populate root element\", i), i.style.fontSize = \"10px\", function select(n) {\n      return \"string\" == typeof n ? new Selection([[document.querySelector(n)]], [document.documentElement]) : new Selection([[n]], z);\n    }(i);\n  },\n  detach: function detach$2(n, i) {\n    u.debug(\"detach renderer\", n), i.select(\"svg\").remove();\n  },\n  resize: function resize$1(n, i, a, s, c) {\n    var l = n.node().getBoundingClientRect(),\n      d = n.selectAll(\"svg\"),\n      p = l.width < c ? c : l.width,\n      h = l.height < s ? s : l.height;\n    return d.attr(\"viewBox\", \"0 0 \".concat(p, \", \").concat(h)), d.attr(\"width\", \"\".concat(p, \"px\")), d.attr(\"height\", \"\".concat(h, \"px\")), u.debug(\"svg viewBox changed\", d), i;\n  },\n  drawCurrentStroke: function drawCurrentStroke$1(n, i, a) {\n    var s = i;\n    return s.currentStroke.id = \"pendingStroke-\".concat(i.rawStrokes.length), u.trace(\"drawing current stroke \", i.currentStroke), n.select(\"#pendingStrokes #\".concat(s.currentStroke.id)).remove(), drawStroke$2(n.select(\"#pendingStrokes\").append(\"path\").attr(\"id\", i.currentStroke.id), i.currentStroke, a), s;\n  },\n  drawModel: function drawModel$1(n, i, a) {\n    var s = extractPendingRecognizedSymbols(i);\n    s && (s.forEach(function (i) {\n      return function updateView(i) {\n        i.updates.forEach(function (a) {\n          try {\n            var s = 'svg[data-layer=\"' + i.layer + '\"]';\n            switch (a.type) {\n              case \"REPLACE_ALL\":\n                n.select(s).remove();\n                var c = n.node();\n                c.insertAdjacentHTML ? c.insertAdjacentHTML(\"beforeEnd\", a.svg) : insertAdjacentSVG(c, \"beforeEnd\", a.svg), \"MODEL\" === i.layer && n.select(s).append(\"g\").attr(\"id\", \"pendingStrokes\");\n                break;\n              case \"REMOVE_ELEMENT\":\n                a.id.includes(\"s\") || a.id.includes(\"MODEL\") || n.select(\"#\".concat(a.id)).attr(\"class\", \"removed-stroke\"), n.select(\"#\".concat(a.id)).remove();\n                break;\n              case \"REPLACE_ELEMENT\":\n                var l = n.select(\"#\".concat(a.id)).node().parentNode;\n                n.select(\"#\".concat(a.id)).remove(), l.insertAdjacentHTML ? l.insertAdjacentHTML(\"beforeEnd\", a.svg) : (insertAdjacentSVG(l, \"beforeEnd\", a.svg), n.node().insertAdjacentHTML(\"beforeEnd\", n.select(s).remove().node().outerHTML));\n                break;\n              case \"REMOVE_CHILD\":\n                n.select(\"#\".concat(a.parentId, \" > *:nth-child(\").concat(a.index + 1, \")\")).remove();\n                break;\n              case \"APPEND_CHILD\":\n                var d = n.select(a.parentId ? \"#\".concat(a.parentId) : s).node();\n                d.insertAdjacentHTML ? d.insertAdjacentHTML(\"beforeEnd\", a.svg) : (insertAdjacentSVG(d, \"beforeEnd\", a.svg), n.node().insertAdjacentHTML(\"beforeEnd\", n.select(s).remove().node().outerHTML));\n                break;\n              case \"INSERT_BEFORE\":\n                var p = n.select(\"#\".concat(a.refId)).node();\n                p.insertAdjacentHTML ? p.insertAdjacentHTML(\"beforeBegin\", a.svg) : (insertAdjacentSVG(p, \"beforeBegin\", a.svg), n.node().insertAdjacentHTML(\"beforeEnd\", n.select(s).remove().node().outerHTML));\n                break;\n              case \"REMOVE_ATTRIBUTE\":\n                n.selectAll(a.id ? \"#\".concat(a.id) : \"svg\").attr(a.name, null);\n                break;\n              case \"SET_ATTRIBUTE\":\n                a.id && n.selectAll(\"#\".concat(a.id)).attr(a.name, a.value);\n                break;\n              default:\n                u.debug(\"unknown update \".concat(a.type, \" action\"));\n            }\n          } catch (n) {\n            u.error(\"Invalid update \".concat(a.type), a), u.error(\"Error on svg patch\", n);\n          }\n        });\n      }(i);\n    }), updateModelRenderedPosition(i));\n    var c = extractPendingStrokes(i);\n    return c && c.forEach(function (i) {\n      return function drawSymbol(n, i) {\n        u.trace(\"attempting to draw \".concat(n.type, \" symbol\")), \"stroke\" !== n.type || i.select(\"id\", n.id) ? u.warn(\"impossible to draw \".concat(n.type, \" symbol\")) : drawStroke$2(i.append(\"path\").attr(\"id\", n.id), n, a);\n      }(i, n.select(\"#pendingStrokes\"));\n    }), i;\n  }\n});\nfunction renderArc$1(n, i, a) {\n  return [\"M \".concat(i.x, \",\").concat(i.y), \"m \".concat(-a, \",0\"), \"a \".concat(a, \",\").concat(a, \" 0 1 0 \").concat(2 * a, \",0\"), \"a \".concat(a, \",\").concat(a, \" 0 1 0 \").concat(-2 * a, \",0\")].join(\" \");\n}\nfunction renderLine$1(n, i, a, s) {\n  var c = computeLinksPoints(i, computeAxeAngle(i, a), s),\n    l = computeLinksPoints(a, computeAxeAngle(i, a), s);\n  return [\"M \".concat(c[0].x, \",\").concat(c[0].y), \"L \".concat(l[0].x, \",\").concat(l[0].y), \"L \".concat(l[1].x, \",\").concat(l[1].y), \"L \".concat(c[1].x, \",\").concat(c[1].y)].join(\" \");\n}\nfunction renderQuadratic$1(n, i, a, s, c) {\n  var l = computeLinksPoints(i, computeAxeAngle(i, s), c),\n    u = computeLinksPoints(a, computeAxeAngle(s, a), c),\n    d = computeLinksPoints(s, computeAxeAngle(i, a), c);\n  return [\"M \".concat(l[0].x, \",\").concat(l[0].y), \"Q \".concat(d[0].x, \",\").concat(d[0].y, \" \").concat(u[0].x, \",\").concat(u[0].y), \"L \".concat(u[1].x, \",\").concat(u[1].y), \"Q \".concat(d[1].x, \",\").concat(d[1].y, \" \").concat(l[1].x, \",\").concat(l[1].y)].join(\" \");\n}\nvar W = Object.freeze({\n    __proto__: null,\n    getInfo: function getInfo$3() {\n      return {\n        type: \"svg\",\n        name: \"quadratic\"\n      };\n    },\n    drawStroke: function drawStroke$3(n, i) {\n      var a = i.x.length,\n        s = i.width,\n        c = getPointByIndex(i, 0),\n        l = a - 2,\n        u = [];\n      if (a < 3) u.push(renderArc$1(0, c, .6 * s));else {\n        u.push(renderArc$1(0, c, s * c.p)), u.push(renderLine$1(0, c, computeMiddlePoint(c, getPointByIndex(i, 1)), s));\n        for (var d = 0; d < l; d++) u.push(renderQuadratic$1(0, computeMiddlePoint(getPointByIndex(i, d), getPointByIndex(i, d + 1)), computeMiddlePoint(getPointByIndex(i, d + 1), getPointByIndex(i, d + 2)), getPointByIndex(i, d + 1), s));\n        u.push(renderLine$1(0, computeMiddlePoint(getPointByIndex(i, a - 2), getPointByIndex(i, a - 1)), getPointByIndex(i, a - 1), s)), u.push(function renderFinal$1(n, i, a, s) {\n          for (var c = computeAxeAngle(i, a), l = computeLinksPoints(a, c, s), u = [\"M \".concat(l[0].x, \",\").concat(l[0].y)], d = 1; d <= 6; d++) {\n            var p = c - d * (Math.PI / 6);\n            u.push(\"L \".concat(a.x - a.p * s * Math.sin(p), \",\").concat(a.y + a.p * s * Math.cos(p)));\n          }\n          return u.join(\" \");\n        }(0, getPointByIndex(i, a - 2), getPointByIndex(i, a - 1), s));\n      }\n      var p = u.join(\" \");\n      n.attr(\"color\", i.color).style(\"fill\", i.color).style(\"stroke\", \"transparent\").classed(\"pending-stroke\", !0).attr(\"d\", \"\".concat(p, \"Z\"));\n    }\n  }),\n  X = createCommonjsModule(function (n) {\n    function _typeof(i) {\n      return \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? n.exports = _typeof = function _typeof(n) {\n        return typeof n;\n      } : n.exports = _typeof = function _typeof(n) {\n        return n && \"function\" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? \"symbol\" : typeof n;\n      }, _typeof(i);\n    }\n    n.exports = _typeof;\n  }),\n  H = createCommonjsModule(function (n, i) {\n    var a;\n    n.exports = (a = a || function (n, i) {\n      var a = Object.create || function () {\n          function F() {}\n          return function (n) {\n            var i;\n            return F.prototype = n, i = new F(), F.prototype = null, i;\n          };\n        }(),\n        s = {},\n        c = s.lib = {},\n        l = c.Base = {\n          extend: function (n) {\n            var i = a(this);\n            return n && i.mixIn(n), i.hasOwnProperty(\"init\") && this.init !== i.init || (i.init = function () {\n              i.$super.init.apply(this, arguments);\n            }), i.init.prototype = i, i.$super = this, i;\n          },\n          create: function () {\n            var n = this.extend();\n            return n.init.apply(n, arguments), n;\n          },\n          init: function () {},\n          mixIn: function (n) {\n            for (var i in n) n.hasOwnProperty(i) && (this[i] = n[i]);\n            n.hasOwnProperty(\"toString\") && (this.toString = n.toString);\n          },\n          clone: function () {\n            return this.init.prototype.extend(this);\n          }\n        },\n        u = c.WordArray = l.extend({\n          init: function (n, i) {\n            n = this.words = n || [], this.sigBytes = null != i ? i : 4 * n.length;\n          },\n          toString: function (n) {\n            return (n || p).stringify(this);\n          },\n          concat: function (n) {\n            var i = this.words,\n              a = n.words,\n              s = this.sigBytes,\n              c = n.sigBytes;\n            if (this.clamp(), s % 4) for (var l = 0; l < c; l++) {\n              var u = a[l >>> 2] >>> 24 - l % 4 * 8 & 255;\n              i[s + l >>> 2] |= u << 24 - (s + l) % 4 * 8;\n            } else for (l = 0; l < c; l += 4) i[s + l >>> 2] = a[l >>> 2];\n            return this.sigBytes += c, this;\n          },\n          clamp: function () {\n            var i = this.words,\n              a = this.sigBytes;\n            i[a >>> 2] &= 4294967295 << 32 - a % 4 * 8, i.length = n.ceil(a / 4);\n          },\n          clone: function () {\n            var n = l.clone.call(this);\n            return n.words = this.words.slice(0), n;\n          },\n          random: function (i) {\n            for (var a, s = [], r = function (i) {\n                i = i;\n                var a = 987654321,\n                  s = 4294967295;\n                return function () {\n                  var c = ((a = 36969 * (65535 & a) + (a >> 16) & s) << 16) + (i = 18e3 * (65535 & i) + (i >> 16) & s) & s;\n                  return c /= 4294967296, (c += .5) * (n.random() > .5 ? 1 : -1);\n                };\n              }, c = 0; c < i; c += 4) {\n              var l = r(4294967296 * (a || n.random()));\n              a = 987654071 * l(), s.push(4294967296 * l() | 0);\n            }\n            return new u.init(s, i);\n          }\n        }),\n        d = s.enc = {},\n        p = d.Hex = {\n          stringify: function (n) {\n            for (var i = n.words, a = n.sigBytes, s = [], c = 0; c < a; c++) {\n              var l = i[c >>> 2] >>> 24 - c % 4 * 8 & 255;\n              s.push((l >>> 4).toString(16)), s.push((15 & l).toString(16));\n            }\n            return s.join(\"\");\n          },\n          parse: function (n) {\n            for (var i = n.length, a = [], s = 0; s < i; s += 2) a[s >>> 3] |= parseInt(n.substr(s, 2), 16) << 24 - s % 8 * 4;\n            return new u.init(a, i / 2);\n          }\n        },\n        h = d.Latin1 = {\n          stringify: function (n) {\n            for (var i = n.words, a = n.sigBytes, s = [], c = 0; c < a; c++) {\n              var l = i[c >>> 2] >>> 24 - c % 4 * 8 & 255;\n              s.push(String.fromCharCode(l));\n            }\n            return s.join(\"\");\n          },\n          parse: function (n) {\n            for (var i = n.length, a = [], s = 0; s < i; s++) a[s >>> 2] |= (255 & n.charCodeAt(s)) << 24 - s % 4 * 8;\n            return new u.init(a, i);\n          }\n        },\n        f = d.Utf8 = {\n          stringify: function (n) {\n            try {\n              return decodeURIComponent(escape(h.stringify(n)));\n            } catch (n) {\n              throw new Error(\"Malformed UTF-8 data\");\n            }\n          },\n          parse: function (n) {\n            return h.parse(unescape(encodeURIComponent(n)));\n          }\n        },\n        g = c.BufferedBlockAlgorithm = l.extend({\n          reset: function () {\n            this._data = new u.init(), this._nDataBytes = 0;\n          },\n          _append: function (n) {\n            \"string\" == typeof n && (n = f.parse(n)), this._data.concat(n), this._nDataBytes += n.sigBytes;\n          },\n          _process: function (i) {\n            var a = this._data,\n              s = a.words,\n              c = a.sigBytes,\n              l = this.blockSize,\n              d = c / (4 * l),\n              p = (d = i ? n.ceil(d) : n.max((0 | d) - this._minBufferSize, 0)) * l,\n              h = n.min(4 * p, c);\n            if (p) {\n              for (var f = 0; f < p; f += l) this._doProcessBlock(s, f);\n              var g = s.splice(0, p);\n              a.sigBytes -= h;\n            }\n            return new u.init(g, h);\n          },\n          clone: function () {\n            var n = l.clone.call(this);\n            return n._data = this._data.clone(), n;\n          },\n          _minBufferSize: 0\n        }),\n        m = (c.Hasher = g.extend({\n          cfg: l.extend(),\n          init: function (n) {\n            this.cfg = this.cfg.extend(n), this.reset();\n          },\n          reset: function () {\n            g.reset.call(this), this._doReset();\n          },\n          update: function (n) {\n            return this._append(n), this._process(), this;\n          },\n          finalize: function (n) {\n            return n && this._append(n), this._doFinalize();\n          },\n          blockSize: 16,\n          _createHelper: function (n) {\n            return function (i, a) {\n              return new n.init(a).finalize(i);\n            };\n          },\n          _createHmacHelper: function (n) {\n            return function (i, a) {\n              return new m.HMAC.init(n, a).finalize(i);\n            };\n          }\n        }), s.algo = {});\n      return s;\n    }(Math), a);\n  }),\n  B = createCommonjsModule(function (n, i) {\n    n.exports = H.enc.Hex;\n  }),\n  G = (createCommonjsModule(function (n, i) {\n    var a, s, c, l, u, d;\n    n.exports = (s = (a = d = H).lib, c = s.Base, l = s.WordArray, (u = a.x64 = {}).Word = c.extend({\n      init: function (n, i) {\n        this.high = n, this.low = i;\n      }\n    }), u.WordArray = c.extend({\n      init: function (n, i) {\n        n = this.words = n || [], this.sigBytes = null != i ? i : 8 * n.length;\n      },\n      toX32: function () {\n        for (var n = this.words, i = n.length, a = [], s = 0; s < i; s++) {\n          var c = n[s];\n          a.push(c.high), a.push(c.low);\n        }\n        return l.create(a, this.sigBytes);\n      },\n      clone: function () {\n        for (var n = c.clone.call(this), i = n.words = this.words.slice(0), a = i.length, s = 0; s < a; s++) i[s] = i[s].clone();\n        return n;\n      }\n    }), d);\n  }), createCommonjsModule(function (n, i) {\n    var a;\n    n.exports = (a = H, function () {\n      var n = a,\n        i = n.lib.Hasher,\n        s = n.x64,\n        c = s.Word,\n        l = s.WordArray,\n        u = n.algo;\n      function X64Word_create() {\n        return c.create.apply(c, arguments);\n      }\n      var d = [X64Word_create(1116352408, 3609767458), X64Word_create(1899447441, 602891725), X64Word_create(3049323471, 3964484399), X64Word_create(3921009573, 2173295548), X64Word_create(961987163, 4081628472), X64Word_create(1508970993, 3053834265), X64Word_create(2453635748, 2937671579), X64Word_create(2870763221, 3664609560), X64Word_create(3624381080, 2734883394), X64Word_create(310598401, 1164996542), X64Word_create(607225278, 1323610764), X64Word_create(1426881987, 3590304994), X64Word_create(1925078388, 4068182383), X64Word_create(2162078206, 991336113), X64Word_create(2614888103, 633803317), X64Word_create(3248222580, 3479774868), X64Word_create(3835390401, 2666613458), X64Word_create(4022224774, 944711139), X64Word_create(264347078, 2341262773), X64Word_create(604807628, 2007800933), X64Word_create(770255983, 1495990901), X64Word_create(1249150122, 1856431235), X64Word_create(1555081692, 3175218132), X64Word_create(1996064986, 2198950837), X64Word_create(2554220882, 3999719339), X64Word_create(2821834349, 766784016), X64Word_create(2952996808, 2566594879), X64Word_create(3210313671, 3203337956), X64Word_create(3336571891, 1034457026), X64Word_create(3584528711, 2466948901), X64Word_create(113926993, 3758326383), X64Word_create(338241895, 168717936), X64Word_create(666307205, 1188179964), X64Word_create(773529912, 1546045734), X64Word_create(1294757372, 1522805485), X64Word_create(1396182291, 2643833823), X64Word_create(1695183700, 2343527390), X64Word_create(1986661051, 1014477480), X64Word_create(2177026350, 1206759142), X64Word_create(2456956037, 344077627), X64Word_create(2730485921, 1290863460), X64Word_create(2820302411, 3158454273), X64Word_create(3259730800, 3505952657), X64Word_create(3345764771, 106217008), X64Word_create(3516065817, 3606008344), X64Word_create(3600352804, 1432725776), X64Word_create(4094571909, 1467031594), X64Word_create(275423344, 851169720), X64Word_create(430227734, 3100823752), X64Word_create(506948616, 1363258195), X64Word_create(659060556, 3750685593), X64Word_create(883997877, 3785050280), X64Word_create(958139571, 3318307427), X64Word_create(1322822218, 3812723403), X64Word_create(1537002063, 2003034995), X64Word_create(1747873779, 3602036899), X64Word_create(1955562222, 1575990012), X64Word_create(2024104815, 1125592928), X64Word_create(2227730452, 2716904306), X64Word_create(2361852424, 442776044), X64Word_create(2428436474, 593698344), X64Word_create(2756734187, 3733110249), X64Word_create(3204031479, 2999351573), X64Word_create(3329325298, 3815920427), X64Word_create(3391569614, 3928383900), X64Word_create(3515267271, 566280711), X64Word_create(3940187606, 3454069534), X64Word_create(4118630271, 4000239992), X64Word_create(116418474, 1914138554), X64Word_create(174292421, 2731055270), X64Word_create(289380356, 3203993006), X64Word_create(460393269, 320620315), X64Word_create(685471733, 587496836), X64Word_create(852142971, 1086792851), X64Word_create(1017036298, 365543100), X64Word_create(1126000580, 2618297676), X64Word_create(1288033470, 3409855158), X64Word_create(1501505948, 4234509866), X64Word_create(1607167915, 987167468), X64Word_create(1816402316, 1246189591)],\n        p = [];\n      !function () {\n        for (var n = 0; n < 80; n++) p[n] = X64Word_create();\n      }();\n      var h = u.SHA512 = i.extend({\n        _doReset: function () {\n          this._hash = new l.init([new c.init(1779033703, 4089235720), new c.init(3144134277, 2227873595), new c.init(1013904242, 4271175723), new c.init(2773480762, 1595750129), new c.init(1359893119, 2917565137), new c.init(2600822924, 725511199), new c.init(528734635, 4215389547), new c.init(1541459225, 327033209)]);\n        },\n        _doProcessBlock: function (n, i) {\n          for (var a = this._hash.words, s = a[0], c = a[1], l = a[2], u = a[3], h = a[4], f = a[5], g = a[6], m = a[7], v = s.high, y = s.low, b = c.high, x = c.low, w = l.high, _ = l.low, S = u.high, k = u.low, C = h.high, P = h.low, T = f.high, I = f.low, M = g.high, R = g.low, L = m.high, A = m.low, D = v, j = y, U = b, O = x, z = w, N = _, W = S, X = k, H = C, B = P, G = T, Y = I, $ = M, V = R, K = L, J = A, q = 0; q < 80; q++) {\n            var Z = p[q];\n            if (q < 16) var Q = Z.high = 0 | n[i + 2 * q],\n              ee = Z.low = 0 | n[i + 2 * q + 1];else {\n              var te = p[q - 15],\n                ne = te.high,\n                re = te.low,\n                oe = (ne >>> 1 | re << 31) ^ (ne >>> 8 | re << 24) ^ ne >>> 7,\n                ie = (re >>> 1 | ne << 31) ^ (re >>> 8 | ne << 24) ^ (re >>> 7 | ne << 25),\n                ae = p[q - 2],\n                se = ae.high,\n                ce = ae.low,\n                le = (se >>> 19 | ce << 13) ^ (se << 3 | ce >>> 29) ^ se >>> 6,\n                ue = (ce >>> 19 | se << 13) ^ (ce << 3 | se >>> 29) ^ (ce >>> 6 | se << 26),\n                de = p[q - 7],\n                pe = de.high,\n                he = de.low,\n                fe = p[q - 16],\n                ge = fe.high,\n                me = fe.low;\n              Q = (Q = (Q = oe + pe + ((ee = ie + he) >>> 0 < ie >>> 0 ? 1 : 0)) + le + ((ee += ue) >>> 0 < ue >>> 0 ? 1 : 0)) + ge + ((ee += me) >>> 0 < me >>> 0 ? 1 : 0), Z.high = Q, Z.low = ee;\n            }\n            var ve,\n              ye = H & G ^ ~H & $,\n              be = B & Y ^ ~B & V,\n              xe = D & U ^ D & z ^ U & z,\n              we = j & O ^ j & N ^ O & N,\n              Ee = (D >>> 28 | j << 4) ^ (D << 30 | j >>> 2) ^ (D << 25 | j >>> 7),\n              _e = (j >>> 28 | D << 4) ^ (j << 30 | D >>> 2) ^ (j << 25 | D >>> 7),\n              Se = (H >>> 14 | B << 18) ^ (H >>> 18 | B << 14) ^ (H << 23 | B >>> 9),\n              ke = (B >>> 14 | H << 18) ^ (B >>> 18 | H << 14) ^ (B << 23 | H >>> 9),\n              Ce = d[q],\n              Pe = Ce.high,\n              Te = Ce.low,\n              Ie = K + Se + ((ve = J + ke) >>> 0 < J >>> 0 ? 1 : 0),\n              Me = _e + we;\n            K = $, J = V, $ = G, V = Y, G = H, Y = B, H = W + (Ie = (Ie = (Ie = Ie + ye + ((ve += be) >>> 0 < be >>> 0 ? 1 : 0)) + Pe + ((ve += Te) >>> 0 < Te >>> 0 ? 1 : 0)) + Q + ((ve += ee) >>> 0 < ee >>> 0 ? 1 : 0)) + ((B = X + ve | 0) >>> 0 < X >>> 0 ? 1 : 0) | 0, W = z, X = N, z = U, N = O, U = D, O = j, D = Ie + (Ee + xe + (Me >>> 0 < _e >>> 0 ? 1 : 0)) + ((j = ve + Me | 0) >>> 0 < ve >>> 0 ? 1 : 0) | 0;\n          }\n          y = s.low = y + j, s.high = v + D + (y >>> 0 < j >>> 0 ? 1 : 0), x = c.low = x + O, c.high = b + U + (x >>> 0 < O >>> 0 ? 1 : 0), _ = l.low = _ + N, l.high = w + z + (_ >>> 0 < N >>> 0 ? 1 : 0), k = u.low = k + X, u.high = S + W + (k >>> 0 < X >>> 0 ? 1 : 0), P = h.low = P + B, h.high = C + H + (P >>> 0 < B >>> 0 ? 1 : 0), I = f.low = I + Y, f.high = T + G + (I >>> 0 < Y >>> 0 ? 1 : 0), R = g.low = R + V, g.high = M + $ + (R >>> 0 < V >>> 0 ? 1 : 0), A = m.low = A + J, m.high = L + K + (A >>> 0 < J >>> 0 ? 1 : 0);\n        },\n        _doFinalize: function () {\n          var n = this._data,\n            i = n.words,\n            a = 8 * this._nDataBytes,\n            s = 8 * n.sigBytes;\n          return i[s >>> 5] |= 128 << 24 - s % 32, i[30 + (s + 128 >>> 10 << 5)] = Math.floor(a / 4294967296), i[31 + (s + 128 >>> 10 << 5)] = a, n.sigBytes = 4 * i.length, this._process(), this._hash.toX32();\n        },\n        clone: function () {\n          var n = i.clone.call(this);\n          return n._hash = this._hash.clone(), n;\n        },\n        blockSize: 32\n      });\n      n.SHA512 = i._createHelper(h), n.HmacSHA512 = i._createHmacHelper(h);\n    }(), a.SHA512);\n  }), createCommonjsModule(function (n, i) {\n    var a, s, c;\n    n.exports = (s = (a = H).lib.Base, c = a.enc.Utf8, void (a.algo.HMAC = s.extend({\n      init: function (n, i) {\n        n = this._hasher = new n.init(), \"string\" == typeof i && (i = c.parse(i));\n        var a = n.blockSize,\n          s = 4 * a;\n        i.sigBytes > s && (i = n.finalize(i)), i.clamp();\n        for (var l = this._oKey = i.clone(), u = this._iKey = i.clone(), d = l.words, p = u.words, h = 0; h < a; h++) d[h] ^= 1549556828, p[h] ^= 909522486;\n        l.sigBytes = u.sigBytes = s, this.reset();\n      },\n      reset: function () {\n        var n = this._hasher;\n        n.reset(), n.update(this._iKey);\n      },\n      update: function (n) {\n        return this._hasher.update(n), this;\n      },\n      finalize: function (n) {\n        var i = this._hasher,\n          a = i.finalize(n);\n        return i.reset(), i.finalize(this._oKey.clone().concat(a));\n      }\n    })));\n  }), createCommonjsModule(function (n, i) {\n    n.exports = H.HmacSHA512;\n  }));\nfunction computeHmac(n, i, a) {\n  var s = \"object\" === X(n) ? JSON.stringify(n) : n;\n  return d.debug(\"The HmacSHA512 function is loaded\", G), new G(s, i + a).toString(B);\n}\nfunction parse(n) {\n  var i;\n  try {\n    i = JSON.parse(n.responseText);\n  } catch (a) {\n    i = n.responseText;\n  }\n  return i;\n}\nfunction post(n, i, a, s, c) {\n  return function xhr(n, i, a) {\n    var s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},\n      c = arguments.length > 5 ? arguments[5] : void 0,\n      l = \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\n      u = s.editor.configuration,\n      d = s;\n    return new Promise(function (s, p) {\n      var h = new XMLHttpRequest();\n      switch (h.open(n, i, !0), h.withCredentials = !0, u.recognitionParams.type) {\n        case \"TEXT\":\n        case \"MATH\":\n        case \"DIAGRAM\":\n        case \"Raw Content\":\n          h.setRequestHeader(\"Accept\", \"application/json,\" + c);\n      }\n      h.setRequestHeader(\"applicationKey\", u.recognitionParams.server.applicationKey), h.setRequestHeader(\"hmac\", computeHmac(JSON.stringify(a), u.recognitionParams.server.applicationKey, u.recognitionParams.server.hmacKey)), h.setRequestHeader(\"Content-Type\", \"application/json\");\n      var f = c && (c === l || c.startsWith(\"image/png\") || c.startsWith(\"image/jpeg\"));\n      f && (h.responseType = \"blob\"), h.onerror = function () {\n        p({\n          msg: \"Could not connect to \".concat(i, \" connection error\"),\n          recoverable: !1\n        });\n      }, h.onload = function () {\n        h.status >= 200 && h.status < 300 ? s(f ? h.response : parse(h)) : p(new Error(h.responseText));\n      }, h.onreadystatechange = function () {\n        4 === h.readyState && h.status >= 200 && h.status < 300 && s(f ? h.response : parse(h));\n      }, d && (d.idle = !1), h.send(JSON.stringify(a));\n    }).then(function (n) {\n      return d && (d.idle = !0), n;\n    });\n  }(\"POST\", i, a, n, s, c);\n}\nfunction createEmptyRecognizerContext(n) {\n  var i = Date.now();\n  return d.info(\"Create empty recognizer context with ID: \" + i), {\n    id: i,\n    editor: n,\n    recognitionContexts: [],\n    initPromise: void 0,\n    lastPositions: {\n      lastSentPosition: -1,\n      lastReceivedPosition: -1\n    },\n    url: void 0,\n    websocket: void 0,\n    websocketCallback: void 0,\n    reconnect: void 0,\n    currentReconnectionCount: 0,\n    sessionId: void 0,\n    contentPartCount: 0,\n    currentPartId: void 0,\n    instanceId: void 0,\n    canUndo: !1,\n    canRedo: !1,\n    isEmpty: void 0,\n    supportedImportMimeTypes: [],\n    undoStackIndex: 0,\n    possibleUndoCount: 0,\n    idle: !0,\n    initialized: !1\n  };\n}\nfunction isResetRequired(n, i) {\n  return !!n.lastPositions && n.lastPositions.lastSentPosition >= i.rawStrokes.length - 1;\n}\nfunction updateRecognitionPositions(n, i) {\n  var a = n;\n  return i && (a.lastPositions.lastSentPosition = i.lastSentPosition, a.lastPositions.lastReceivedPosition = i.lastReceivedPosition), a.lastPositions.lastSentPosition === a.lastPositions.lastReceivedPosition === -1 && delete a.instanceId, a;\n}\nfunction setRecognitionContext(n, i) {\n  var a = n;\n  return a.recognitionContexts[0] = i, a;\n}\nfunction canReconnect(n) {\n  return !0 === n.websocket.autoReconnect && n.currentReconnectionCount <= n.websocket.maxRetryCount;\n}\nfunction shouldAttemptImmediateReconnect(n) {\n  var i = n;\n  return !0 === i.websocket.autoReconnect && i.currentReconnectionCount++ <= i.websocket.maxRetryCount;\n}\nvar Y = {\n    type: \"LOST_CONNECTION\"\n  },\n  $ = Object.freeze({\n    __proto__: null,\n    createEmptyRecognizerContext: createEmptyRecognizerContext,\n    isResetRequired: isResetRequired,\n    updateRecognitionPositions: updateRecognitionPositions,\n    setRecognitionContext: setRecognitionContext,\n    canReconnect: canReconnect,\n    shouldAttemptImmediateReconnect: shouldAttemptImmediateReconnect,\n    LOST_CONNEXION_MESSAGE: Y,\n    CLOSE_RECOGNIZER_MESSAGE: \"CLOSE_RECOGNIZER\"\n  });\n/*!\n * perfect-scrollbar v1.5.0\n * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors\n * Licensed under MIT\n */\nfunction get(n) {\n  return getComputedStyle(n);\n}\nfunction set(n, i) {\n  for (var a in i) {\n    var s = i[a];\n    \"number\" == typeof s && (s += \"px\"), n.style[a] = s;\n  }\n  return n;\n}\nfunction div(n) {\n  var i = document.createElement(\"div\");\n  return i.className = n, i;\n}\nvar V = \"undefined\" != typeof Element && (Element.prototype.matches || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector);\nfunction matches(n, i) {\n  if (!V) throw new Error(\"No element matching method supported\");\n  return V.call(n, i);\n}\nfunction remove$1(n) {\n  n.remove ? n.remove() : n.parentNode && n.parentNode.removeChild(n);\n}\nfunction queryChildren(n, i) {\n  return Array.prototype.filter.call(n.children, function (n) {\n    return matches(n, i);\n  });\n}\nvar K = \"ps\",\n  J = \"ps__rtl\",\n  q = {\n    thumb: function (n) {\n      return \"ps__thumb-\" + n;\n    },\n    rail: function (n) {\n      return \"ps__rail-\" + n;\n    },\n    consuming: \"ps__child--consume\"\n  },\n  Z = {\n    focus: \"ps--focus\",\n    clicking: \"ps--clicking\",\n    active: function (n) {\n      return \"ps--active-\" + n;\n    },\n    scrolling: function (n) {\n      return \"ps--scrolling-\" + n;\n    }\n  },\n  Q = {\n    x: null,\n    y: null\n  };\nfunction addScrollingClass(n, i) {\n  var a = n.element.classList,\n    s = Z.scrolling(i);\n  a.contains(s) ? clearTimeout(Q[i]) : a.add(s);\n}\nfunction removeScrollingClass(n, i) {\n  Q[i] = setTimeout(function () {\n    return n.isAlive && n.element.classList.remove(Z.scrolling(i));\n  }, n.settings.scrollingThreshold);\n}\nvar ee = function EventElement(n) {\n    this.element = n, this.handlers = {};\n  },\n  te = {\n    isEmpty: {\n      configurable: !0\n    }\n  };\nee.prototype.bind = function bind(n, i) {\n  void 0 === this.handlers[n] && (this.handlers[n] = []), this.handlers[n].push(i), this.element.addEventListener(n, i, !1);\n}, ee.prototype.unbind = function unbind(n, i) {\n  var a = this;\n  this.handlers[n] = this.handlers[n].filter(function (s) {\n    return !(!i || s === i) || (a.element.removeEventListener(n, s, !1), !1);\n  });\n}, ee.prototype.unbindAll = function unbindAll() {\n  for (var n in this.handlers) this.unbind(n);\n}, te.isEmpty.get = function () {\n  var n = this;\n  return Object.keys(this.handlers).every(function (i) {\n    return 0 === n.handlers[i].length;\n  });\n}, Object.defineProperties(ee.prototype, te);\nvar ne = function EventManager() {\n  this.eventElements = [];\n};\nfunction createEvent(n) {\n  if (\"function\" == typeof window.CustomEvent) return new CustomEvent(n);\n  var i = document.createEvent(\"CustomEvent\");\n  return i.initCustomEvent(n, !1, !1, void 0), i;\n}\nfunction processScrollDiff(n, i, a, s, c) {\n  var l;\n  if (void 0 === s && (s = !0), void 0 === c && (c = !1), \"top\" === i) l = [\"contentHeight\", \"containerHeight\", \"scrollTop\", \"y\", \"up\", \"down\"];else {\n    if (\"left\" !== i) throw new Error(\"A proper axis should be provided\");\n    l = [\"contentWidth\", \"containerWidth\", \"scrollLeft\", \"x\", \"left\", \"right\"];\n  }\n  !function processScrollDiff$1(n, i, a, s, c) {\n    var l = a[0],\n      u = a[1],\n      d = a[2],\n      p = a[3],\n      h = a[4],\n      f = a[5];\n    void 0 === s && (s = !0);\n    void 0 === c && (c = !1);\n    var g = n.element;\n    n.reach[p] = null, g[d] < 1 && (n.reach[p] = \"start\");\n    g[d] > n[l] - n[u] - 1 && (n.reach[p] = \"end\");\n    i && (g.dispatchEvent(createEvent(\"ps-scroll-\" + p)), i < 0 ? g.dispatchEvent(createEvent(\"ps-scroll-\" + h)) : i > 0 && g.dispatchEvent(createEvent(\"ps-scroll-\" + f)), s && function setScrollingClassInstantly(n, i) {\n      addScrollingClass(n, i), removeScrollingClass(n, i);\n    }(n, p));\n    n.reach[p] && (i || c) && g.dispatchEvent(createEvent(\"ps-\" + p + \"-reach-\" + n.reach[p]));\n  }(n, a, l, s, c);\n}\nfunction toInt(n) {\n  return parseInt(n, 10) || 0;\n}\nne.prototype.eventElement = function eventElement(n) {\n  var i = this.eventElements.filter(function (i) {\n    return i.element === n;\n  })[0];\n  return i || (i = new ee(n), this.eventElements.push(i)), i;\n}, ne.prototype.bind = function bind(n, i, a) {\n  this.eventElement(n).bind(i, a);\n}, ne.prototype.unbind = function unbind(n, i, a) {\n  var s = this.eventElement(n);\n  s.unbind(i, a), s.isEmpty && this.eventElements.splice(this.eventElements.indexOf(s), 1);\n}, ne.prototype.unbindAll = function unbindAll() {\n  this.eventElements.forEach(function (n) {\n    return n.unbindAll();\n  }), this.eventElements = [];\n}, ne.prototype.once = function once(n, i, a) {\n  var s = this.eventElement(n),\n    onceHandler = function (n) {\n      s.unbind(i, onceHandler), a(n);\n    };\n  s.bind(i, onceHandler);\n};\nvar re = {\n  isWebKit: \"undefined\" != typeof document && \"WebkitAppearance\" in document.documentElement.style,\n  supportsTouch: \"undefined\" != typeof window && (\"ontouchstart\" in window || \"maxTouchPoints\" in window.navigator && window.navigator.maxTouchPoints > 0 || window.DocumentTouch && document instanceof window.DocumentTouch),\n  supportsIePointer: \"undefined\" != typeof navigator && navigator.msMaxTouchPoints,\n  isChrome: \"undefined\" != typeof navigator && /Chrome/i.test(navigator && navigator.userAgent)\n};\nfunction updateGeometry(n) {\n  var i = n.element,\n    a = Math.floor(i.scrollTop),\n    s = i.getBoundingClientRect();\n  n.containerWidth = Math.ceil(s.width), n.containerHeight = Math.ceil(s.height), n.contentWidth = i.scrollWidth, n.contentHeight = i.scrollHeight, i.contains(n.scrollbarXRail) || (queryChildren(i, q.rail(\"x\")).forEach(function (n) {\n    return remove$1(n);\n  }), i.appendChild(n.scrollbarXRail)), i.contains(n.scrollbarYRail) || (queryChildren(i, q.rail(\"y\")).forEach(function (n) {\n    return remove$1(n);\n  }), i.appendChild(n.scrollbarYRail)), !n.settings.suppressScrollX && n.containerWidth + n.settings.scrollXMarginOffset < n.contentWidth ? (n.scrollbarXActive = !0, n.railXWidth = n.containerWidth - n.railXMarginWidth, n.railXRatio = n.containerWidth / n.railXWidth, n.scrollbarXWidth = getThumbSize(n, toInt(n.railXWidth * n.containerWidth / n.contentWidth)), n.scrollbarXLeft = toInt((n.negativeScrollAdjustment + i.scrollLeft) * (n.railXWidth - n.scrollbarXWidth) / (n.contentWidth - n.containerWidth))) : n.scrollbarXActive = !1, !n.settings.suppressScrollY && n.containerHeight + n.settings.scrollYMarginOffset < n.contentHeight ? (n.scrollbarYActive = !0, n.railYHeight = n.containerHeight - n.railYMarginHeight, n.railYRatio = n.containerHeight / n.railYHeight, n.scrollbarYHeight = getThumbSize(n, toInt(n.railYHeight * n.containerHeight / n.contentHeight)), n.scrollbarYTop = toInt(a * (n.railYHeight - n.scrollbarYHeight) / (n.contentHeight - n.containerHeight))) : n.scrollbarYActive = !1, n.scrollbarXLeft >= n.railXWidth - n.scrollbarXWidth && (n.scrollbarXLeft = n.railXWidth - n.scrollbarXWidth), n.scrollbarYTop >= n.railYHeight - n.scrollbarYHeight && (n.scrollbarYTop = n.railYHeight - n.scrollbarYHeight), function updateCss(n, i) {\n    var a = {\n        width: i.railXWidth\n      },\n      s = Math.floor(n.scrollTop);\n    i.isRtl ? a.left = i.negativeScrollAdjustment + n.scrollLeft + i.containerWidth - i.contentWidth : a.left = n.scrollLeft;\n    i.isScrollbarXUsingBottom ? a.bottom = i.scrollbarXBottom - s : a.top = i.scrollbarXTop + s;\n    set(i.scrollbarXRail, a);\n    var c = {\n      top: s,\n      height: i.railYHeight\n    };\n    i.isScrollbarYUsingRight ? i.isRtl ? c.right = i.contentWidth - (i.negativeScrollAdjustment + n.scrollLeft) - i.scrollbarYRight - i.scrollbarYOuterWidth - 9 : c.right = i.scrollbarYRight - n.scrollLeft : i.isRtl ? c.left = i.negativeScrollAdjustment + n.scrollLeft + 2 * i.containerWidth - i.contentWidth - i.scrollbarYLeft - i.scrollbarYOuterWidth : c.left = i.scrollbarYLeft + n.scrollLeft;\n    set(i.scrollbarYRail, c), set(i.scrollbarX, {\n      left: i.scrollbarXLeft,\n      width: i.scrollbarXWidth - i.railBorderXWidth\n    }), set(i.scrollbarY, {\n      top: i.scrollbarYTop,\n      height: i.scrollbarYHeight - i.railBorderYWidth\n    });\n  }(i, n), n.scrollbarXActive ? i.classList.add(Z.active(\"x\")) : (i.classList.remove(Z.active(\"x\")), n.scrollbarXWidth = 0, n.scrollbarXLeft = 0, i.scrollLeft = !0 === n.isRtl ? n.contentWidth : 0), n.scrollbarYActive ? i.classList.add(Z.active(\"y\")) : (i.classList.remove(Z.active(\"y\")), n.scrollbarYHeight = 0, n.scrollbarYTop = 0, i.scrollTop = 0);\n}\nfunction getThumbSize(n, i) {\n  return n.settings.minScrollbarLength && (i = Math.max(i, n.settings.minScrollbarLength)), n.settings.maxScrollbarLength && (i = Math.min(i, n.settings.maxScrollbarLength)), i;\n}\nfunction bindMouseScrollHandler(n, i) {\n  var a = i[0],\n    s = i[1],\n    c = i[2],\n    l = i[3],\n    u = i[4],\n    d = i[5],\n    p = i[6],\n    h = i[7],\n    f = i[8],\n    g = n.element,\n    m = null,\n    v = null,\n    y = null;\n  function mouseMoveHandler(i) {\n    i.touches && i.touches[0] && (i[c] = i.touches[0].pageY), g[p] = m + y * (i[c] - v), addScrollingClass(n, h), updateGeometry(n), i.stopPropagation(), i.preventDefault();\n  }\n  function mouseUpHandler() {\n    removeScrollingClass(n, h), n[f].classList.remove(Z.clicking), n.event.unbind(n.ownerDocument, \"mousemove\", mouseMoveHandler);\n  }\n  function bindMoves(i, u) {\n    m = g[p], u && i.touches && (i[c] = i.touches[0].pageY), v = i[c], y = (n[s] - n[a]) / (n[l] - n[d]), u ? n.event.bind(n.ownerDocument, \"touchmove\", mouseMoveHandler) : (n.event.bind(n.ownerDocument, \"mousemove\", mouseMoveHandler), n.event.once(n.ownerDocument, \"mouseup\", mouseUpHandler), i.preventDefault()), n[f].classList.add(Z.clicking), i.stopPropagation();\n  }\n  n.event.bind(n[u], \"mousedown\", function (n) {\n    bindMoves(n);\n  }), n.event.bind(n[u], \"touchstart\", function (n) {\n    bindMoves(n, !0);\n  });\n}\nvar oe = {\n    \"click-rail\": function clickRail(n) {\n      n.element, n.event.bind(n.scrollbarY, \"mousedown\", function (n) {\n        return n.stopPropagation();\n      }), n.event.bind(n.scrollbarYRail, \"mousedown\", function (i) {\n        var a = i.pageY - window.pageYOffset - n.scrollbarYRail.getBoundingClientRect().top > n.scrollbarYTop ? 1 : -1;\n        n.element.scrollTop += a * n.containerHeight, updateGeometry(n), i.stopPropagation();\n      }), n.event.bind(n.scrollbarX, \"mousedown\", function (n) {\n        return n.stopPropagation();\n      }), n.event.bind(n.scrollbarXRail, \"mousedown\", function (i) {\n        var a = i.pageX - window.pageXOffset - n.scrollbarXRail.getBoundingClientRect().left > n.scrollbarXLeft ? 1 : -1;\n        n.element.scrollLeft += a * n.containerWidth, updateGeometry(n), i.stopPropagation();\n      });\n    },\n    \"drag-thumb\": function dragThumb(n) {\n      bindMouseScrollHandler(n, [\"containerWidth\", \"contentWidth\", \"pageX\", \"railXWidth\", \"scrollbarX\", \"scrollbarXWidth\", \"scrollLeft\", \"x\", \"scrollbarXRail\"]), bindMouseScrollHandler(n, [\"containerHeight\", \"contentHeight\", \"pageY\", \"railYHeight\", \"scrollbarY\", \"scrollbarYHeight\", \"scrollTop\", \"y\", \"scrollbarYRail\"]);\n    },\n    keyboard: function keyboard(n) {\n      var i = n.element;\n      n.event.bind(n.ownerDocument, \"keydown\", function (a) {\n        if (!(a.isDefaultPrevented && a.isDefaultPrevented() || a.defaultPrevented) && (matches(i, \":hover\") || matches(n.scrollbarX, \":focus\") || matches(n.scrollbarY, \":focus\"))) {\n          var s = document.activeElement ? document.activeElement : n.ownerDocument.activeElement;\n          if (s) {\n            if (\"IFRAME\" === s.tagName) s = s.contentDocument.activeElement;else for (; s.shadowRoot;) s = s.shadowRoot.activeElement;\n            if (function isEditable(n) {\n              return matches(n, \"input,[contenteditable]\") || matches(n, \"select,[contenteditable]\") || matches(n, \"textarea,[contenteditable]\") || matches(n, \"button,[contenteditable]\");\n            }(s)) return;\n          }\n          var c = 0,\n            l = 0;\n          switch (a.which) {\n            case 37:\n              c = a.metaKey ? -n.contentWidth : a.altKey ? -n.containerWidth : -30;\n              break;\n            case 38:\n              l = a.metaKey ? n.contentHeight : a.altKey ? n.containerHeight : 30;\n              break;\n            case 39:\n              c = a.metaKey ? n.contentWidth : a.altKey ? n.containerWidth : 30;\n              break;\n            case 40:\n              l = a.metaKey ? -n.contentHeight : a.altKey ? -n.containerHeight : -30;\n              break;\n            case 32:\n              l = a.shiftKey ? n.containerHeight : -n.containerHeight;\n              break;\n            case 33:\n              l = n.containerHeight;\n              break;\n            case 34:\n              l = -n.containerHeight;\n              break;\n            case 36:\n              l = n.contentHeight;\n              break;\n            case 35:\n              l = -n.contentHeight;\n              break;\n            default:\n              return;\n          }\n          n.settings.suppressScrollX && 0 !== c || n.settings.suppressScrollY && 0 !== l || (i.scrollTop -= l, i.scrollLeft += c, updateGeometry(n), function shouldPreventDefault(a, s) {\n            var c = Math.floor(i.scrollTop);\n            if (0 === a) {\n              if (!n.scrollbarYActive) return !1;\n              if (0 === c && s > 0 || c >= n.contentHeight - n.containerHeight && s < 0) return !n.settings.wheelPropagation;\n            }\n            var l = i.scrollLeft;\n            if (0 === s) {\n              if (!n.scrollbarXActive) return !1;\n              if (0 === l && a < 0 || l >= n.contentWidth - n.containerWidth && a > 0) return !n.settings.wheelPropagation;\n            }\n            return !0;\n          }(c, l) && a.preventDefault());\n        }\n      });\n    },\n    wheel: function wheel(n) {\n      var i = n.element;\n      function mousewheelHandler(a) {\n        var s = function getDeltaFromEvent(n) {\n            var i = n.deltaX,\n              a = -1 * n.deltaY;\n            return void 0 !== i && void 0 !== a || (i = -1 * n.wheelDeltaX / 6, a = n.wheelDeltaY / 6), n.deltaMode && 1 === n.deltaMode && (i *= 10, a *= 10), i != i && a != a && (i = 0, a = n.wheelDelta), n.shiftKey ? [-a, -i] : [i, a];\n          }(a),\n          c = s[0],\n          l = s[1];\n        if (!function shouldBeConsumedByChild(n, a, s) {\n          if (!re.isWebKit && i.querySelector(\"select:focus\")) return !0;\n          if (!i.contains(n)) return !1;\n          for (var c = n; c && c !== i;) {\n            if (c.classList.contains(q.consuming)) return !0;\n            var l = get(c);\n            if (s && l.overflowY.match(/(scroll|auto)/)) {\n              var u = c.scrollHeight - c.clientHeight;\n              if (u > 0 && (c.scrollTop > 0 && s < 0 || c.scrollTop < u && s > 0)) return !0;\n            }\n            if (a && l.overflowX.match(/(scroll|auto)/)) {\n              var d = c.scrollWidth - c.clientWidth;\n              if (d > 0 && (c.scrollLeft > 0 && a < 0 || c.scrollLeft < d && a > 0)) return !0;\n            }\n            c = c.parentNode;\n          }\n          return !1;\n        }(a.target, c, l)) {\n          var u = !1;\n          n.settings.useBothWheelAxes ? n.scrollbarYActive && !n.scrollbarXActive ? (l ? i.scrollTop -= l * n.settings.wheelSpeed : i.scrollTop += c * n.settings.wheelSpeed, u = !0) : n.scrollbarXActive && !n.scrollbarYActive && (c ? i.scrollLeft += c * n.settings.wheelSpeed : i.scrollLeft -= l * n.settings.wheelSpeed, u = !0) : (i.scrollTop -= l * n.settings.wheelSpeed, i.scrollLeft += c * n.settings.wheelSpeed), updateGeometry(n), (u = u || function shouldPreventDefault(a, s) {\n            var c = Math.floor(i.scrollTop),\n              l = 0 === i.scrollTop,\n              u = c + i.offsetHeight === i.scrollHeight,\n              d = 0 === i.scrollLeft,\n              p = i.scrollLeft + i.offsetWidth === i.scrollWidth;\n            return !(Math.abs(s) > Math.abs(a) ? l || u : d || p) || !n.settings.wheelPropagation;\n          }(c, l)) && !a.ctrlKey && (a.stopPropagation(), a.preventDefault());\n        }\n      }\n      void 0 !== window.onwheel ? n.event.bind(i, \"wheel\", mousewheelHandler) : void 0 !== window.onmousewheel && n.event.bind(i, \"mousewheel\", mousewheelHandler);\n    },\n    touch: function touch(n) {\n      if (re.supportsTouch || re.supportsIePointer) {\n        var i = n.element,\n          a = {},\n          s = 0,\n          c = {},\n          l = null;\n        re.supportsTouch ? (n.event.bind(i, \"touchstart\", touchStart), n.event.bind(i, \"touchmove\", touchMove), n.event.bind(i, \"touchend\", touchEnd)) : re.supportsIePointer && (window.PointerEvent ? (n.event.bind(i, \"pointerdown\", touchStart), n.event.bind(i, \"pointermove\", touchMove), n.event.bind(i, \"pointerup\", touchEnd)) : window.MSPointerEvent && (n.event.bind(i, \"MSPointerDown\", touchStart), n.event.bind(i, \"MSPointerMove\", touchMove), n.event.bind(i, \"MSPointerUp\", touchEnd)));\n      }\n      function applyTouchMove(a, s) {\n        i.scrollTop -= s, i.scrollLeft -= a, updateGeometry(n);\n      }\n      function getTouch(n) {\n        return n.targetTouches ? n.targetTouches[0] : n;\n      }\n      function shouldHandle(n) {\n        return (!n.pointerType || \"pen\" !== n.pointerType || 0 !== n.buttons) && (!(!n.targetTouches || 1 !== n.targetTouches.length) || !(!n.pointerType || \"mouse\" === n.pointerType || n.pointerType === n.MSPOINTER_TYPE_MOUSE));\n      }\n      function touchStart(n) {\n        if (shouldHandle(n)) {\n          var i = getTouch(n);\n          a.pageX = i.pageX, a.pageY = i.pageY, s = new Date().getTime(), null !== l && clearInterval(l);\n        }\n      }\n      function touchMove(l) {\n        if (shouldHandle(l)) {\n          var u = getTouch(l),\n            d = {\n              pageX: u.pageX,\n              pageY: u.pageY\n            },\n            p = d.pageX - a.pageX,\n            h = d.pageY - a.pageY;\n          if (function shouldBeConsumedByChild(n, a, s) {\n            if (!i.contains(n)) return !1;\n            for (var c = n; c && c !== i;) {\n              if (c.classList.contains(q.consuming)) return !0;\n              var l = get(c);\n              if (s && l.overflowY.match(/(scroll|auto)/)) {\n                var u = c.scrollHeight - c.clientHeight;\n                if (u > 0 && (c.scrollTop > 0 && s < 0 || c.scrollTop < u && s > 0)) return !0;\n              }\n              if (a && l.overflowX.match(/(scroll|auto)/)) {\n                var d = c.scrollWidth - c.clientWidth;\n                if (d > 0 && (c.scrollLeft > 0 && a < 0 || c.scrollLeft < d && a > 0)) return !0;\n              }\n              c = c.parentNode;\n            }\n            return !1;\n          }(l.target, p, h)) return;\n          applyTouchMove(p, h), a = d;\n          var f = new Date().getTime(),\n            g = f - s;\n          g > 0 && (c.x = p / g, c.y = h / g, s = f), function shouldPrevent(a, s) {\n            var c = Math.floor(i.scrollTop),\n              l = i.scrollLeft,\n              u = Math.abs(a),\n              d = Math.abs(s);\n            if (d > u) {\n              if (s < 0 && c === n.contentHeight - n.containerHeight || s > 0 && 0 === c) return 0 === window.scrollY && s > 0 && re.isChrome;\n            } else if (u > d && (a < 0 && l === n.contentWidth - n.containerWidth || a > 0 && 0 === l)) return !0;\n            return !0;\n          }(p, h) && l.preventDefault();\n        }\n      }\n      function touchEnd() {\n        n.settings.swipeEasing && (clearInterval(l), l = setInterval(function () {\n          n.isInitialized ? clearInterval(l) : c.x || c.y ? Math.abs(c.x) < .01 && Math.abs(c.y) < .01 ? clearInterval(l) : (applyTouchMove(30 * c.x, 30 * c.y), c.x *= .8, c.y *= .8) : clearInterval(l);\n        }, 10));\n      }\n    }\n  },\n  ie = function PerfectScrollbar(n, i) {\n    var a = this;\n    if (void 0 === i && (i = {}), \"string\" == typeof n && (n = document.querySelector(n)), !n || !n.nodeName) throw new Error(\"no element is specified to initialize PerfectScrollbar\");\n    for (var s in this.element = n, n.classList.add(K), this.settings = {\n      handlers: [\"click-rail\", \"drag-thumb\", \"keyboard\", \"wheel\", \"touch\"],\n      maxScrollbarLength: null,\n      minScrollbarLength: null,\n      scrollingThreshold: 1e3,\n      scrollXMarginOffset: 0,\n      scrollYMarginOffset: 0,\n      suppressScrollX: !1,\n      suppressScrollY: !1,\n      swipeEasing: !0,\n      useBothWheelAxes: !1,\n      wheelPropagation: !0,\n      wheelSpeed: 1\n    }, i) this.settings[s] = i[s];\n    this.containerWidth = null, this.containerHeight = null, this.contentWidth = null, this.contentHeight = null;\n    var c,\n      l,\n      focus = function () {\n        return n.classList.add(Z.focus);\n      },\n      blur = function () {\n        return n.classList.remove(Z.focus);\n      };\n    this.isRtl = \"rtl\" === get(n).direction, !0 === this.isRtl && n.classList.add(J), this.isNegativeScroll = (l = n.scrollLeft, n.scrollLeft = -1, c = n.scrollLeft < 0, n.scrollLeft = l, c), this.negativeScrollAdjustment = this.isNegativeScroll ? n.scrollWidth - n.clientWidth : 0, this.event = new ne(), this.ownerDocument = n.ownerDocument || document, this.scrollbarXRail = div(q.rail(\"x\")), n.appendChild(this.scrollbarXRail), this.scrollbarX = div(q.thumb(\"x\")), this.scrollbarXRail.appendChild(this.scrollbarX), this.scrollbarX.setAttribute(\"tabindex\", 0), this.event.bind(this.scrollbarX, \"focus\", focus), this.event.bind(this.scrollbarX, \"blur\", blur), this.scrollbarXActive = null, this.scrollbarXWidth = null, this.scrollbarXLeft = null;\n    var u = get(this.scrollbarXRail);\n    this.scrollbarXBottom = parseInt(u.bottom, 10), isNaN(this.scrollbarXBottom) ? (this.isScrollbarXUsingBottom = !1, this.scrollbarXTop = toInt(u.top)) : this.isScrollbarXUsingBottom = !0, this.railBorderXWidth = toInt(u.borderLeftWidth) + toInt(u.borderRightWidth), set(this.scrollbarXRail, {\n      display: \"block\"\n    }), this.railXMarginWidth = toInt(u.marginLeft) + toInt(u.marginRight), set(this.scrollbarXRail, {\n      display: \"\"\n    }), this.railXWidth = null, this.railXRatio = null, this.scrollbarYRail = div(q.rail(\"y\")), n.appendChild(this.scrollbarYRail), this.scrollbarY = div(q.thumb(\"y\")), this.scrollbarYRail.appendChild(this.scrollbarY), this.scrollbarY.setAttribute(\"tabindex\", 0), this.event.bind(this.scrollbarY, \"focus\", focus), this.event.bind(this.scrollbarY, \"blur\", blur), this.scrollbarYActive = null, this.scrollbarYHeight = null, this.scrollbarYTop = null;\n    var d = get(this.scrollbarYRail);\n    this.scrollbarYRight = parseInt(d.right, 10), isNaN(this.scrollbarYRight) ? (this.isScrollbarYUsingRight = !1, this.scrollbarYLeft = toInt(d.left)) : this.isScrollbarYUsingRight = !0, this.scrollbarYOuterWidth = this.isRtl ? function outerWidth(n) {\n      var i = get(n);\n      return toInt(i.width) + toInt(i.paddingLeft) + toInt(i.paddingRight) + toInt(i.borderLeftWidth) + toInt(i.borderRightWidth);\n    }(this.scrollbarY) : null, this.railBorderYWidth = toInt(d.borderTopWidth) + toInt(d.borderBottomWidth), set(this.scrollbarYRail, {\n      display: \"block\"\n    }), this.railYMarginHeight = toInt(d.marginTop) + toInt(d.marginBottom), set(this.scrollbarYRail, {\n      display: \"\"\n    }), this.railYHeight = null, this.railYRatio = null, this.reach = {\n      x: n.scrollLeft <= 0 ? \"start\" : n.scrollLeft >= this.contentWidth - this.containerWidth ? \"end\" : null,\n      y: n.scrollTop <= 0 ? \"start\" : n.scrollTop >= this.contentHeight - this.containerHeight ? \"end\" : null\n    }, this.isAlive = !0, this.settings.handlers.forEach(function (n) {\n      return oe[n](a);\n    }), this.lastScrollTop = Math.floor(n.scrollTop), this.lastScrollLeft = n.scrollLeft, this.event.bind(this.element, \"scroll\", function (n) {\n      return a.onScroll(n);\n    }), updateGeometry(this);\n  };\nie.prototype.update = function update() {\n  this.isAlive && (this.negativeScrollAdjustment = this.isNegativeScroll ? this.element.scrollWidth - this.element.clientWidth : 0, set(this.scrollbarXRail, {\n    display: \"block\"\n  }), set(this.scrollbarYRail, {\n    display: \"block\"\n  }), this.railXMarginWidth = toInt(get(this.scrollbarXRail).marginLeft) + toInt(get(this.scrollbarXRail).marginRight), this.railYMarginHeight = toInt(get(this.scrollbarYRail).marginTop) + toInt(get(this.scrollbarYRail).marginBottom), set(this.scrollbarXRail, {\n    display: \"none\"\n  }), set(this.scrollbarYRail, {\n    display: \"none\"\n  }), updateGeometry(this), processScrollDiff(this, \"top\", 0, !1, !0), processScrollDiff(this, \"left\", 0, !1, !0), set(this.scrollbarXRail, {\n    display: \"\"\n  }), set(this.scrollbarYRail, {\n    display: \"\"\n  }));\n}, ie.prototype.onScroll = function onScroll(n) {\n  this.isAlive && (updateGeometry(this), processScrollDiff(this, \"top\", this.element.scrollTop - this.lastScrollTop), processScrollDiff(this, \"left\", this.element.scrollLeft - this.lastScrollLeft), this.lastScrollTop = Math.floor(this.element.scrollTop), this.lastScrollLeft = this.element.scrollLeft);\n}, ie.prototype.destroy = function destroy() {\n  this.isAlive && (this.event.unbindAll(), remove$1(this.scrollbarX), remove$1(this.scrollbarY), remove$1(this.scrollbarXRail), remove$1(this.scrollbarYRail), this.removePsClasses(), this.element = null, this.scrollbarX = null, this.scrollbarY = null, this.scrollbarXRail = null, this.scrollbarYRail = null, this.isAlive = !1);\n}, ie.prototype.removePsClasses = function removePsClasses() {\n  this.element.className = this.element.className.split(\" \").filter(function (n) {\n    return !n.match(/^ps([-_].+|)$/);\n  }).join(\" \");\n};\nvar ae = function select$1(n) {\n    var i;\n    if (\"SELECT\" === n.nodeName) n.focus(), i = n.value;else if (\"INPUT\" === n.nodeName || \"TEXTAREA\" === n.nodeName) {\n      var a = n.hasAttribute(\"readonly\");\n      a || n.setAttribute(\"readonly\", \"\"), n.select(), n.setSelectionRange(0, n.value.length), a || n.removeAttribute(\"readonly\"), i = n.value;\n    } else {\n      n.hasAttribute(\"contenteditable\") && n.focus();\n      var s = window.getSelection(),\n        c = document.createRange();\n      c.selectNodeContents(n), s.removeAllRanges(), s.addRange(c), i = s.toString();\n    }\n    return i;\n  },\n  se = createCommonjsModule(function (n, i) {\n    !function (n, i) {\n      var a = function _interopRequireDefault(n) {\n          return n && n.__esModule ? n : {\n            default: n\n          };\n        }(i),\n        s = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (n) {\n          return typeof n;\n        } : function (n) {\n          return n && \"function\" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? \"symbol\" : typeof n;\n        },\n        c = function () {\n          function defineProperties(n, i) {\n            for (var a = 0; a < i.length; a++) {\n              var s = i[a];\n              s.enumerable = s.enumerable || !1, s.configurable = !0, \"value\" in s && (s.writable = !0), Object.defineProperty(n, s.key, s);\n            }\n          }\n          return function (n, i, a) {\n            return i && defineProperties(n.prototype, i), a && defineProperties(n, a), n;\n          };\n        }(),\n        l = function () {\n          function ClipboardAction(n) {\n            !function _classCallCheck(n, i) {\n              if (!(n instanceof i)) throw new TypeError(\"Cannot call a class as a function\");\n            }(this, ClipboardAction), this.resolveOptions(n), this.initSelection();\n          }\n          return c(ClipboardAction, [{\n            key: \"resolveOptions\",\n            value: function resolveOptions() {\n              var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n              this.action = n.action, this.container = n.container, this.emitter = n.emitter, this.target = n.target, this.text = n.text, this.trigger = n.trigger, this.selectedText = \"\";\n            }\n          }, {\n            key: \"initSelection\",\n            value: function initSelection() {\n              this.text ? this.selectFake() : this.target && this.selectTarget();\n            }\n          }, {\n            key: \"selectFake\",\n            value: function selectFake() {\n              var n = this,\n                i = \"rtl\" == document.documentElement.getAttribute(\"dir\");\n              this.removeFake(), this.fakeHandlerCallback = function () {\n                return n.removeFake();\n              }, this.fakeHandler = this.container.addEventListener(\"click\", this.fakeHandlerCallback) || !0, this.fakeElem = document.createElement(\"textarea\"), this.fakeElem.style.fontSize = \"12pt\", this.fakeElem.style.border = \"0\", this.fakeElem.style.padding = \"0\", this.fakeElem.style.margin = \"0\", this.fakeElem.style.position = \"absolute\", this.fakeElem.style[i ? \"right\" : \"left\"] = \"-9999px\";\n              var s = window.pageYOffset || document.documentElement.scrollTop;\n              this.fakeElem.style.top = s + \"px\", this.fakeElem.setAttribute(\"readonly\", \"\"), this.fakeElem.value = this.text, this.container.appendChild(this.fakeElem), this.selectedText = (0, a.default)(this.fakeElem), this.copyText();\n            }\n          }, {\n            key: \"removeFake\",\n            value: function removeFake() {\n              this.fakeHandler && (this.container.removeEventListener(\"click\", this.fakeHandlerCallback), this.fakeHandler = null, this.fakeHandlerCallback = null), this.fakeElem && (this.container.removeChild(this.fakeElem), this.fakeElem = null);\n            }\n          }, {\n            key: \"selectTarget\",\n            value: function selectTarget() {\n              this.selectedText = (0, a.default)(this.target), this.copyText();\n            }\n          }, {\n            key: \"copyText\",\n            value: function copyText() {\n              var n = void 0;\n              try {\n                n = document.execCommand(this.action);\n              } catch (i) {\n                n = !1;\n              }\n              this.handleResult(n);\n            }\n          }, {\n            key: \"handleResult\",\n            value: function handleResult(n) {\n              this.emitter.emit(n ? \"success\" : \"error\", {\n                action: this.action,\n                text: this.selectedText,\n                trigger: this.trigger,\n                clearSelection: this.clearSelection.bind(this)\n              });\n            }\n          }, {\n            key: \"clearSelection\",\n            value: function clearSelection() {\n              this.trigger && this.trigger.focus(), window.getSelection().removeAllRanges();\n            }\n          }, {\n            key: \"destroy\",\n            value: function destroy() {\n              this.removeFake();\n            }\n          }, {\n            key: \"action\",\n            set: function set() {\n              var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"copy\";\n              if (this._action = n, \"copy\" !== this._action && \"cut\" !== this._action) throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n            },\n            get: function get() {\n              return this._action;\n            }\n          }, {\n            key: \"target\",\n            set: function set(n) {\n              if (void 0 !== n) {\n                if (!n || \"object\" !== (void 0 === n ? \"undefined\" : s(n)) || 1 !== n.nodeType) throw new Error('Invalid \"target\" value, use a valid Element');\n                if (\"copy\" === this.action && n.hasAttribute(\"disabled\")) throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n                if (\"cut\" === this.action && (n.hasAttribute(\"readonly\") || n.hasAttribute(\"disabled\"))) throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n                this._target = n;\n              }\n            },\n            get: function get() {\n              return this._target;\n            }\n          }]), ClipboardAction;\n        }();\n      n.exports = l;\n    }(n, ae);\n  });\nfunction E() {}\nunwrapExports(se), E.prototype = {\n  on: function (n, i, a) {\n    var s = this.e || (this.e = {});\n    return (s[n] || (s[n] = [])).push({\n      fn: i,\n      ctx: a\n    }), this;\n  },\n  once: function (n, i, a) {\n    var s = this;\n    function listener() {\n      s.off(n, listener), i.apply(a, arguments);\n    }\n    return listener._ = i, this.on(n, listener, a);\n  },\n  emit: function (n) {\n    for (var i = [].slice.call(arguments, 1), a = ((this.e || (this.e = {}))[n] || []).slice(), s = 0, c = a.length; s < c; s++) a[s].fn.apply(a[s].ctx, i);\n    return this;\n  },\n  off: function (n, i) {\n    var a = this.e || (this.e = {}),\n      s = a[n],\n      c = [];\n    if (s && i) for (var l = 0, u = s.length; l < u; l++) s[l].fn !== i && s[l].fn._ !== i && c.push(s[l]);\n    return c.length ? a[n] = c : delete a[n], this;\n  }\n};\nvar ce = E,\n  le = createCommonjsModule(function (n, i) {\n    i.node = function (n) {\n      return void 0 !== n && n instanceof HTMLElement && 1 === n.nodeType;\n    }, i.nodeList = function (n) {\n      var a = Object.prototype.toString.call(n);\n      return void 0 !== n && (\"[object NodeList]\" === a || \"[object HTMLCollection]\" === a) && \"length\" in n && (0 === n.length || i.node(n[0]));\n    }, i.string = function (n) {\n      return \"string\" == typeof n || n instanceof String;\n    }, i.fn = function (n) {\n      return \"[object Function]\" === Object.prototype.toString.call(n);\n    };\n  });\nle.node, le.nodeList, le.string, le.fn;\nif (\"undefined\" != typeof Element && !Element.prototype.matches) {\n  var ue = Element.prototype;\n  ue.matches = ue.matchesSelector || ue.mozMatchesSelector || ue.msMatchesSelector || ue.oMatchesSelector || ue.webkitMatchesSelector;\n}\nvar de = function closest(n, i) {\n  for (; n && 9 !== n.nodeType;) {\n    if (\"function\" == typeof n.matches && n.matches(i)) return n;\n    n = n.parentNode;\n  }\n};\nfunction listener(n, i, a, s) {\n  return function (a) {\n    a.delegateTarget = de(a.target, i), a.delegateTarget && s.call(n, a);\n  };\n}\nvar pe = function delegate(n, i, a, s, c) {\n  var l = listener.apply(this, arguments);\n  return n.addEventListener(a, l, c), {\n    destroy: function () {\n      n.removeEventListener(a, l, c);\n    }\n  };\n};\nvar he = function listen(n, i, a) {\n    if (!n && !i && !a) throw new Error(\"Missing required arguments\");\n    if (!le.string(i)) throw new TypeError(\"Second argument must be a String\");\n    if (!le.fn(a)) throw new TypeError(\"Third argument must be a Function\");\n    if (le.node(n)) return function listenNode(n, i, a) {\n      return n.addEventListener(i, a), {\n        destroy: function () {\n          n.removeEventListener(i, a);\n        }\n      };\n    }(n, i, a);\n    if (le.nodeList(n)) return function listenNodeList(n, i, a) {\n      return Array.prototype.forEach.call(n, function (n) {\n        n.addEventListener(i, a);\n      }), {\n        destroy: function () {\n          Array.prototype.forEach.call(n, function (n) {\n            n.removeEventListener(i, a);\n          });\n        }\n      };\n    }(n, i, a);\n    if (le.string(n)) return function listenSelector(n, i, a) {\n      return pe(document.body, n, i, a);\n    }(n, i, a);\n    throw new TypeError(\"First argument must be a String, HTMLElement, HTMLCollection, or NodeList\");\n  },\n  fe = unwrapExports(createCommonjsModule(function (n, i) {\n    !function (n, i, a, s) {\n      var c = _interopRequireDefault(i),\n        l = _interopRequireDefault(a),\n        u = _interopRequireDefault(s);\n      function _interopRequireDefault(n) {\n        return n && n.__esModule ? n : {\n          default: n\n        };\n      }\n      var d = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (n) {\n          return typeof n;\n        } : function (n) {\n          return n && \"function\" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? \"symbol\" : typeof n;\n        },\n        p = function () {\n          function defineProperties(n, i) {\n            for (var a = 0; a < i.length; a++) {\n              var s = i[a];\n              s.enumerable = s.enumerable || !1, s.configurable = !0, \"value\" in s && (s.writable = !0), Object.defineProperty(n, s.key, s);\n            }\n          }\n          return function (n, i, a) {\n            return i && defineProperties(n.prototype, i), a && defineProperties(n, a), n;\n          };\n        }(),\n        h = function (n) {\n          function Clipboard(n, i) {\n            !function _classCallCheck(n, i) {\n              if (!(n instanceof i)) throw new TypeError(\"Cannot call a class as a function\");\n            }(this, Clipboard);\n            var a = function _possibleConstructorReturn(n, i) {\n              if (!n) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n              return !i || \"object\" != typeof i && \"function\" != typeof i ? n : i;\n            }(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));\n            return a.resolveOptions(i), a.listenClick(n), a;\n          }\n          return function _inherits(n, i) {\n            if (\"function\" != typeof i && null !== i) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof i);\n            n.prototype = Object.create(i && i.prototype, {\n              constructor: {\n                value: n,\n                enumerable: !1,\n                writable: !0,\n                configurable: !0\n              }\n            }), i && (Object.setPrototypeOf ? Object.setPrototypeOf(n, i) : n.__proto__ = i);\n          }(Clipboard, n), p(Clipboard, [{\n            key: \"resolveOptions\",\n            value: function resolveOptions() {\n              var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n              this.action = \"function\" == typeof n.action ? n.action : this.defaultAction, this.target = \"function\" == typeof n.target ? n.target : this.defaultTarget, this.text = \"function\" == typeof n.text ? n.text : this.defaultText, this.container = \"object\" === d(n.container) ? n.container : document.body;\n            }\n          }, {\n            key: \"listenClick\",\n            value: function listenClick(n) {\n              var i = this;\n              this.listener = (0, u.default)(n, \"click\", function (n) {\n                return i.onClick(n);\n              });\n            }\n          }, {\n            key: \"onClick\",\n            value: function onClick(n) {\n              var i = n.delegateTarget || n.currentTarget;\n              this.clipboardAction && (this.clipboardAction = null), this.clipboardAction = new c.default({\n                action: this.action(i),\n                target: this.target(i),\n                text: this.text(i),\n                container: this.container,\n                trigger: i,\n                emitter: this\n              });\n            }\n          }, {\n            key: \"defaultAction\",\n            value: function defaultAction(n) {\n              return getAttributeValue(\"action\", n);\n            }\n          }, {\n            key: \"defaultTarget\",\n            value: function defaultTarget(n) {\n              var i = getAttributeValue(\"target\", n);\n              if (i) return document.querySelector(i);\n            }\n          }, {\n            key: \"defaultText\",\n            value: function defaultText(n) {\n              return getAttributeValue(\"text\", n);\n            }\n          }, {\n            key: \"destroy\",\n            value: function destroy() {\n              this.listener.destroy(), this.clipboardAction && (this.clipboardAction.destroy(), this.clipboardAction = null);\n            }\n          }], [{\n            key: \"isSupported\",\n            value: function isSupported() {\n              var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [\"copy\", \"cut\"],\n                i = \"string\" == typeof n ? [n] : n,\n                a = !!document.queryCommandSupported;\n              return i.forEach(function (n) {\n                a = a && !!document.queryCommandSupported(n);\n              }), a;\n            }\n          }]), Clipboard;\n        }(l.default);\n      function getAttributeValue(n, i) {\n        var a = \"data-clipboard-\" + n;\n        if (i.hasAttribute(a)) return i.getAttribute(a);\n      }\n      n.exports = h;\n    }(n, se, ce, he);\n  }));\nfunction isInShadow(n) {\n  for (var i = n && n.parentNode; i;) {\n    if (\"[object ShadowRoot]\" === i.toString()) return !0;\n    i = i.parentNode;\n  }\n  return !1;\n}\nfunction addListeners(i, a) {\n  var s = a.elements;\n  s.textElement.addEventListener(\"click\", function (s) {\n    return function showCandidates(i, a, s) {\n      var c = s,\n        l = s.elements;\n      if (i.target.id !== \"prompter-text\".concat(s.randomString)) {\n        var u = i.target.id.replace(\"word-\", \"\").replace(s.randomString, \"\"),\n          d = JSON.parse(a.exports[n.Exports.JIIX]).words;\n        if (c.wordToChange = d[u], c.wordToChange.id = u, l.candidatesElement.innerHTML = \"\", c.wordToChange && c.wordToChange.candidates) {\n          l.candidatesElement.style.display = \"flex\", c.wordToChange.candidates.forEach(function (n, i) {\n            c.wordToChange.label === n ? l.candidatesElement.innerHTML += '<span id=\"cdt-'.concat(i).concat(s.randomString, '\" class=\"selected-word\">').concat(n, \"</span>\") : l.candidatesElement.innerHTML += '<span id=\"cdt-'.concat(i).concat(s.randomString, '\">').concat(n, \"</span>\");\n          });\n          var p = i.target.getBoundingClientRect().left - 60;\n          l.candidatesElement.style.top = \"\".concat(48, \"px\"), l.candidatesElement.style.left = \"\".concat(p, \"px\"), i.target.parentNode.parentNode.parentNode.insertBefore(l.candidatesElement, i.target.parentNode.parentNode);\n        }\n      }\n    }(s, i, a);\n  }), s.candidatesElement.addEventListener(\"click\", function (s) {\n    return function clickCandidate(i, a, s) {\n      var c = s,\n        l = s.elements,\n        u = i.target.innerText;\n      if (u !== c.wordToChange.label && c.wordToChange.candidates.includes(u)) {\n        var d = JSON.parse(a.exports[n.Exports.JIIX]);\n        d.words[c.wordToChange.id].label = u, a.import_(JSON.stringify(d), n.Exports.JIIX);\n      }\n      l.candidatesElement.style.display = \"none\";\n    }(s, i, a);\n  }), s.ellipsisElement.addEventListener(\"click\", function (n) {\n    return function showActions(n, i) {\n      var a = i,\n        s = function positionActions() {\n          var i = n.target.offsetLeft - 68;\n          a.menuElement.style.left = \"\".concat(i, \"px\");\n        },\n        c = document.contains(a.menuElement);\n      isInShadow(a.menuElement) || c ? \"none\" === a.menuElement.style.display && (s(), a.menuElement.style.display = \"flex\") : (a.menuElement.style.display = \"flex\", s(), function insertActions() {\n        a.menuElement.appendChild(a.convertElement), a.menuElement.appendChild(a.copyElement), a.menuElement.appendChild(a.deleteElement), n.target.parentNode.insertBefore(a.menuElement, n.target);\n      }());\n    }(n, s);\n  }), s.copyElement.addEventListener(\"click\", function () {\n    s.menuElement.style.display = \"none\";\n  }), s.convertElement.addEventListener(\"click\", function () {\n    s.menuElement.style.display = \"none\", i.convert();\n  }), s.deleteElement.addEventListener(\"click\", function () {\n    s.menuElement.style.display = \"none\", i.clear();\n  });\n}\nfunction createSmartGuide(n) {\n  var i = \"-\" + Math.random().toString(10).substring(2, 12),\n    a = function createHTMLElements(n) {\n      var i = document.createElement(\"div\");\n      i.id = \"smartguide\" + n, i.classList.add(\"smartguide\");\n      var a = document.createElement(\"div\");\n      a.id = \"prompter-text\" + n, a.classList.add(\"prompter-text\"), a.setAttribute(\"touch-action\", \"none\");\n      var s = document.createElement(\"div\");\n      s.id = \"prompter-text-container\" + n, s.classList.add(\"prompter-text-container\"), s.appendChild(a);\n      var c = document.createElement(\"div\");\n      c.id = \"ellipsis\" + n, c.classList.add(\"ellipsis\"), c.innerHTML = \"...\";\n      var l = document.createElement(\"div\");\n      l.id = \"tag-icon\" + n, l.classList.add(\"tag-icon\"), l.innerHTML = \"&#182;\";\n      var u = document.createElement(\"div\");\n      u.id = \"candidates\" + n, u.classList.add(\"candidates\");\n      var d = document.createElement(\"div\");\n      d.id = \"more-menu\" + n, d.classList.add(\"more-menu\");\n      var p = document.createElement(\"button\");\n      p.classList.add(\"options-label-button\"), p.id = \"convert\" + n, p.innerHTML = \"Convert\";\n      var h = document.createElement(\"button\");\n      h.classList.add(\"options-label-button\"), h.id = \"copy\" + n, h.innerHTML = \"Copy\";\n      var f = document.createElement(\"button\");\n      return f.classList.add(\"options-label-button\"), f.id = \"delete\" + n, f.innerHTML = \"Delete\", {\n        smartGuideElement: i,\n        textElement: a,\n        textContainer: s,\n        candidatesElement: u,\n        menuElement: d,\n        tagElement: l,\n        ellipsisElement: c,\n        convertElement: p,\n        copyElement: h,\n        deleteElement: f\n      };\n    }(i),\n    s = (new fe(a.copyElement), {\n      editor: n,\n      wordToChange: \"\",\n      lastWord: \"\",\n      previousLabelExport: \" \",\n      perfectScrollbar: new ie(a.textContainer, {\n        suppressScrollY: !0,\n        scrollXMarginOffset: 1\n      }),\n      elements: a,\n      smartGuideTimeOutId: 0,\n      randomString: i\n    });\n  return addListeners(n, s), n.configuration.recognitionParams.iink.text.smartGuideFadeOut.enable && function callFadeOutObserver() {\n    var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1e4,\n      i = arguments.length > 1 ? arguments[1] : void 0,\n      a = i,\n      s = i.elements,\n      c = new MutationObserver(function (i) {\n        i.forEach(function () {\n          a.smartGuideTimeOutId && clearTimeout(a.smartGuideTimeOutId), \"none\" === s.candidatesElement.style.display && \"none\" === s.menuElement.style.display ? a.smartGuideTimeOutId = setTimeout(function () {\n            s.smartGuideElement.classList.add(\"smartguide-out\"), s.smartGuideElement.classList.remove(\"smartguide-in\");\n          }, n) : document.contains(s.candidatesElement) || document.contains(s.menuElement) || (a.smartGuideTimeOutId = setTimeout(function () {\n            s.smartGuideElement.classList.add(\"smartguide-out\"), s.smartGuideElement.classList.remove(\"smartguide-in\");\n          }, n));\n        });\n      });\n    c.observe(s.smartGuideElement, {\n      childList: !0,\n      subtree: !0,\n      attributes: !0\n    });\n  }(n.configuration.recognitionParams.iink.text.smartGuideFadeOut.duration, s), s;\n}\nfunction resize$2(n) {\n  var i = n,\n    a = n.elements,\n    s = 3.779527559 * i.editor.configuration.recognitionParams.iink.text.margin.left,\n    c = i.editor.domElement.clientWidth - s - a.tagElement.offsetWidth - 35 - s;\n  a.textContainer.style.width = \"\".concat(c, \"px\"), a.textContainer.style.maxWidth = \"\".concat(c, \"px\"), s = a.tagElement.offsetWidth, s += c, a.ellipsisElement.style.left = \"\".concat(s, \"px\"), a.smartGuideElement.style.width = \"\".concat(a.tagElement.offsetWidth + a.textContainer.offsetWidth + a.ellipsisElement.offsetWidth, \"px\"), i.perfectScrollbar.update();\n}\nfunction launchSmartGuide(i, a) {\n  var s = i,\n    c = i.elements,\n    l = document.contains(c.smartGuideElement);\n  isInShadow(c.smartGuideElement) || l || function insertSmartGuide(n) {\n    var i = n,\n      a = n.elements,\n      s = 3.779527559 * i.editor.configuration.recognitionParams.iink.text.margin.top,\n      c = 3.779527559 * i.editor.configuration.recognitionParams.iink.text.margin.left;\n    !function insertSmartGuideElement(n, s) {\n      a.smartGuideElement.style.top = \"\".concat(s, \"px\"), a.smartGuideElement.style.left = \"\".concat(n, \"px\"), a.smartGuideElement.style.visibility = \"hidden\", i.editor.domElement.insertBefore(a.smartGuideElement, i.editor.loader);\n    }(c, s - 45.354330708), function insertTag() {\n      a.smartGuideElement.appendChild(a.tagElement);\n    }();\n    var l = i.editor.domElement.clientWidth - c - a.tagElement.offsetWidth - 35 - c;\n    (function insertTextContainer(n, i) {\n      a.textContainer.style.left = \"\".concat(n, \"px\"), a.textContainer.style.width = \"\".concat(i, \"px\"), a.textContainer.style.maxWidth = \"\".concat(i, \"px\"), a.smartGuideElement.appendChild(a.textContainer);\n    })(c = a.tagElement.offsetWidth, l), function insertEllipsis(n) {\n      a.ellipsisElement.style.left = \"\".concat(n, \"px\"), a.smartGuideElement.appendChild(a.ellipsisElement);\n    }(c += l), a.menuElement.style.display = \"none\", a.menuElement.appendChild(a.convertElement), a.menuElement.appendChild(a.copyElement), a.menuElement.appendChild(a.deleteElement), a.smartGuideElement.appendChild(a.menuElement), a.candidatesElement.style.display = \"none\", a.smartGuideElement.appendChild(a.candidatesElement), a.smartGuideElement.style.height = \"48px\", a.smartGuideElement.style.width = \"\".concat(a.tagElement.offsetWidth + a.textContainer.offsetWidth + a.ellipsisElement.offsetWidth, \"px\"), i.perfectScrollbar.update();\n  }(i);\n  var u = function createWordSpan(n, a, s) {\n    var c = document.createElement(\"span\");\n    return c.id = \"word-\".concat(a).concat(i.randomString), n ? c.innerHTML = \"&nbsp;\" : c.textContent = s.label, c;\n  };\n  if (a && JSON.parse(a[n.Exports.JIIX]).words.length > 0) {\n    if (c.smartGuideElement.classList.add(\"smartguide-in\"), c.smartGuideElement.classList.remove(\"smartguide-out\"), c.candidatesElement.style.display = \"none\", c.menuElement.style.display = \"none\", s.previousLabelExport && s.previousLabelExport !== JSON.parse(a[n.Exports.JIIX]).label) {\n      var d = JSON.parse(a[n.Exports.JIIX]).words;\n      !function populatePrompter(n) {\n        c.textElement.innerHTML = \"\";\n        var i = document.createDocumentFragment();\n        n.forEach(function (a, l) {\n          if (\" \" === a.label || a.label.includes(\"\\n\")) i.appendChild(u(!0, l));else if (l !== n.length - 1) i.appendChild(u(!1, l, a));else {\n            c.textElement.appendChild(i), s.perfectScrollbar.update(), \"\" === s.lastWord && (s.lastWord = a);\n            var d = u(!1, l, a);\n            s.lastWord.candidates !== a.candidates && s.lastWord.label !== a.label ? (d.classList.add(\"added-word\"), c.textElement.appendChild(d), c.textContainer.scrollLeft = d.offsetLeft, s.lastWord = a) : (c.textElement.appendChild(d), c.textContainer.scrollLeft = d.offsetLeft);\n          }\n        });\n      }(d), function addAnimationToModifiedWord(l) {\n        if (s.tempWords && s.tempWords.length === l.length) {\n          var u = l.map(function (n) {\n              return n.label;\n            }),\n            d = s.tempWords.map(function (n) {\n              return n.label;\n            }),\n            p = u.indexOf(u.filter(function (n) {\n              return -1 === d.indexOf(n);\n            })[0]);\n          document.getElementById(\"word-\".concat(p).concat(i.randomString)) && p > -1 && (document.getElementById(\"word-\".concat(p).concat(i.randomString)).classList.add(\"modified-word\"), c.textContainer.scrollLeft = document.getElementById(\"word-\".concat(p).concat(i.randomString)).offsetLeft - 10);\n        }\n        s.tempWords = JSON.parse(a[n.Exports.JIIX]).words;\n      }(d);\n    }\n    s.previousLabelExport = JSON.parse(a[n.Exports.JIIX]).label, c.copyElement.setAttribute(\"data-clipboard-text\", JSON.parse(a[n.Exports.JIIX]).label);\n  } else c.smartGuideElement.classList.add(\"smartguide-out\"), c.smartGuideElement.classList.remove(\"smartguide-in\");\n  return s;\n}\nvar ge = createCommonjsModule(function (n) {\n  var i = function (n) {\n    var i = Object.prototype,\n      a = i.hasOwnProperty,\n      s = \"function\" == typeof Symbol ? Symbol : {},\n      c = s.iterator || \"@@iterator\",\n      l = s.asyncIterator || \"@@asyncIterator\",\n      u = s.toStringTag || \"@@toStringTag\";\n    function wrap(n, i, a, s) {\n      var c = i && i.prototype instanceof Generator ? i : Generator,\n        l = Object.create(c.prototype),\n        u = new Context(s || []);\n      return l._invoke = function makeInvokeMethod(n, i, a) {\n        var s = \"suspendedStart\";\n        return function invoke(c, l) {\n          if (\"executing\" === s) throw new Error(\"Generator is already running\");\n          if (\"completed\" === s) {\n            if (\"throw\" === c) throw l;\n            return doneResult();\n          }\n          for (a.method = c, a.arg = l;;) {\n            var u = a.delegate;\n            if (u) {\n              var p = maybeInvokeDelegate(u, a);\n              if (p) {\n                if (p === d) continue;\n                return p;\n              }\n            }\n            if (\"next\" === a.method) a.sent = a._sent = a.arg;else if (\"throw\" === a.method) {\n              if (\"suspendedStart\" === s) throw s = \"completed\", a.arg;\n              a.dispatchException(a.arg);\n            } else \"return\" === a.method && a.abrupt(\"return\", a.arg);\n            s = \"executing\";\n            var h = tryCatch(n, i, a);\n            if (\"normal\" === h.type) {\n              if (s = a.done ? \"completed\" : \"suspendedYield\", h.arg === d) continue;\n              return {\n                value: h.arg,\n                done: a.done\n              };\n            }\n            \"throw\" === h.type && (s = \"completed\", a.method = \"throw\", a.arg = h.arg);\n          }\n        };\n      }(n, a, u), l;\n    }\n    function tryCatch(n, i, a) {\n      try {\n        return {\n          type: \"normal\",\n          arg: n.call(i, a)\n        };\n      } catch (n) {\n        return {\n          type: \"throw\",\n          arg: n\n        };\n      }\n    }\n    n.wrap = wrap;\n    var d = {};\n    function Generator() {}\n    function GeneratorFunction() {}\n    function GeneratorFunctionPrototype() {}\n    var p = {};\n    p[c] = function () {\n      return this;\n    };\n    var h = Object.getPrototypeOf,\n      f = h && h(h(values([])));\n    f && f !== i && a.call(f, c) && (p = f);\n    var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n    function defineIteratorMethods(n) {\n      [\"next\", \"throw\", \"return\"].forEach(function (i) {\n        n[i] = function (n) {\n          return this._invoke(i, n);\n        };\n      });\n    }\n    function AsyncIterator(n, i) {\n      var s;\n      this._invoke = function enqueue(c, l) {\n        function callInvokeWithMethodAndArg() {\n          return new i(function (s, u) {\n            !function invoke(s, c, l, u) {\n              var d = tryCatch(n[s], n, c);\n              if (\"throw\" !== d.type) {\n                var p = d.arg,\n                  h = p.value;\n                return h && \"object\" == typeof h && a.call(h, \"__await\") ? i.resolve(h.__await).then(function (n) {\n                  invoke(\"next\", n, l, u);\n                }, function (n) {\n                  invoke(\"throw\", n, l, u);\n                }) : i.resolve(h).then(function (n) {\n                  p.value = n, l(p);\n                }, function (n) {\n                  return invoke(\"throw\", n, l, u);\n                });\n              }\n              u(d.arg);\n            }(c, l, s, u);\n          });\n        }\n        return s = s ? s.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      };\n    }\n    function maybeInvokeDelegate(n, i) {\n      var a = n.iterator[i.method];\n      if (void 0 === a) {\n        if (i.delegate = null, \"throw\" === i.method) {\n          if (n.iterator.return && (i.method = \"return\", i.arg = void 0, maybeInvokeDelegate(n, i), \"throw\" === i.method)) return d;\n          i.method = \"throw\", i.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n        }\n        return d;\n      }\n      var s = tryCatch(a, n.iterator, i.arg);\n      if (\"throw\" === s.type) return i.method = \"throw\", i.arg = s.arg, i.delegate = null, d;\n      var c = s.arg;\n      return c ? c.done ? (i[n.resultName] = c.value, i.next = n.nextLoc, \"return\" !== i.method && (i.method = \"next\", i.arg = void 0), i.delegate = null, d) : c : (i.method = \"throw\", i.arg = new TypeError(\"iterator result is not an object\"), i.delegate = null, d);\n    }\n    function pushTryEntry(n) {\n      var i = {\n        tryLoc: n[0]\n      };\n      1 in n && (i.catchLoc = n[1]), 2 in n && (i.finallyLoc = n[2], i.afterLoc = n[3]), this.tryEntries.push(i);\n    }\n    function resetTryEntry(n) {\n      var i = n.completion || {};\n      i.type = \"normal\", delete i.arg, n.completion = i;\n    }\n    function Context(n) {\n      this.tryEntries = [{\n        tryLoc: \"root\"\n      }], n.forEach(pushTryEntry, this), this.reset(!0);\n    }\n    function values(n) {\n      if (n) {\n        var i = n[c];\n        if (i) return i.call(n);\n        if (\"function\" == typeof n.next) return n;\n        if (!isNaN(n.length)) {\n          var s = -1,\n            l = function next() {\n              for (; ++s < n.length;) if (a.call(n, s)) return next.value = n[s], next.done = !1, next;\n              return next.value = void 0, next.done = !0, next;\n            };\n          return l.next = l;\n        }\n      }\n      return {\n        next: doneResult\n      };\n    }\n    function doneResult() {\n      return {\n        value: void 0,\n        done: !0\n      };\n    }\n    return GeneratorFunction.prototype = g.constructor = GeneratorFunctionPrototype, GeneratorFunctionPrototype.constructor = GeneratorFunction, GeneratorFunctionPrototype[u] = GeneratorFunction.displayName = \"GeneratorFunction\", n.isGeneratorFunction = function (n) {\n      var i = \"function\" == typeof n && n.constructor;\n      return !!i && (i === GeneratorFunction || \"GeneratorFunction\" === (i.displayName || i.name));\n    }, n.mark = function (n) {\n      return Object.setPrototypeOf ? Object.setPrototypeOf(n, GeneratorFunctionPrototype) : (n.__proto__ = GeneratorFunctionPrototype, u in n || (n[u] = \"GeneratorFunction\")), n.prototype = Object.create(g), n;\n    }, n.awrap = function (n) {\n      return {\n        __await: n\n      };\n    }, defineIteratorMethods(AsyncIterator.prototype), AsyncIterator.prototype[l] = function () {\n      return this;\n    }, n.AsyncIterator = AsyncIterator, n.async = function (i, a, s, c, l) {\n      void 0 === l && (l = Promise);\n      var u = new AsyncIterator(wrap(i, a, s, c), l);\n      return n.isGeneratorFunction(a) ? u : u.next().then(function (n) {\n        return n.done ? n.value : u.next();\n      });\n    }, defineIteratorMethods(g), g[u] = \"Generator\", g[c] = function () {\n      return this;\n    }, g.toString = function () {\n      return \"[object Generator]\";\n    }, n.keys = function (n) {\n      var i = [];\n      for (var a in n) i.push(a);\n      return i.reverse(), function next() {\n        for (; i.length;) {\n          var a = i.pop();\n          if (a in n) return next.value = a, next.done = !1, next;\n        }\n        return next.done = !0, next;\n      };\n    }, n.values = values, Context.prototype = {\n      constructor: Context,\n      reset: function (n) {\n        if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = void 0, this.tryEntries.forEach(resetTryEntry), !n) for (var i in this) \"t\" === i.charAt(0) && a.call(this, i) && !isNaN(+i.slice(1)) && (this[i] = void 0);\n      },\n      stop: function () {\n        this.done = !0;\n        var n = this.tryEntries[0].completion;\n        if (\"throw\" === n.type) throw n.arg;\n        return this.rval;\n      },\n      dispatchException: function (n) {\n        if (this.done) throw n;\n        var i = this;\n        function handle(a, s) {\n          return l.type = \"throw\", l.arg = n, i.next = a, s && (i.method = \"next\", i.arg = void 0), !!s;\n        }\n        for (var s = this.tryEntries.length - 1; s >= 0; --s) {\n          var c = this.tryEntries[s],\n            l = c.completion;\n          if (\"root\" === c.tryLoc) return handle(\"end\");\n          if (c.tryLoc <= this.prev) {\n            var u = a.call(c, \"catchLoc\"),\n              d = a.call(c, \"finallyLoc\");\n            if (u && d) {\n              if (this.prev < c.catchLoc) return handle(c.catchLoc, !0);\n              if (this.prev < c.finallyLoc) return handle(c.finallyLoc);\n            } else if (u) {\n              if (this.prev < c.catchLoc) return handle(c.catchLoc, !0);\n            } else {\n              if (!d) throw new Error(\"try statement without catch or finally\");\n              if (this.prev < c.finallyLoc) return handle(c.finallyLoc);\n            }\n          }\n        }\n      },\n      abrupt: function (n, i) {\n        for (var s = this.tryEntries.length - 1; s >= 0; --s) {\n          var c = this.tryEntries[s];\n          if (c.tryLoc <= this.prev && a.call(c, \"finallyLoc\") && this.prev < c.finallyLoc) {\n            var l = c;\n            break;\n          }\n        }\n        l && (\"break\" === n || \"continue\" === n) && l.tryLoc <= i && i <= l.finallyLoc && (l = null);\n        var u = l ? l.completion : {};\n        return u.type = n, u.arg = i, l ? (this.method = \"next\", this.next = l.finallyLoc, d) : this.complete(u);\n      },\n      complete: function (n, i) {\n        if (\"throw\" === n.type) throw n.arg;\n        return \"break\" === n.type || \"continue\" === n.type ? this.next = n.arg : \"return\" === n.type ? (this.rval = this.arg = n.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === n.type && i && (this.next = i), d;\n      },\n      finish: function (n) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var a = this.tryEntries[i];\n          if (a.finallyLoc === n) return this.complete(a.completion, a.afterLoc), resetTryEntry(a), d;\n        }\n      },\n      catch: function (n) {\n        for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n          var a = this.tryEntries[i];\n          if (a.tryLoc === n) {\n            var s = a.completion;\n            if (\"throw\" === s.type) {\n              var c = s.arg;\n              resetTryEntry(a);\n            }\n            return c;\n          }\n        }\n        throw new Error(\"illegal catch attempt\");\n      },\n      delegateYield: function (n, i, a) {\n        return this.delegate = {\n          iterator: values(n),\n          resultName: i,\n          nextLoc: a\n        }, \"next\" === this.method && (this.arg = void 0), d;\n      }\n    }, n;\n  }(n.exports);\n  try {\n    regeneratorRuntime = i;\n  } catch (n) {\n    Function(\"r\", \"regeneratorRuntime = r\")(i);\n  }\n});\nvar me = function _classCallCheck(n, i) {\n  if (!(n instanceof i)) throw new TypeError(\"Cannot call a class as a function\");\n};\nfunction _defineProperties(n, i) {\n  for (var a = 0; a < i.length; a++) {\n    var s = i[a];\n    s.enumerable = s.enumerable || !1, s.configurable = !0, \"value\" in s && (s.writable = !0), Object.defineProperty(n, s.key, s);\n  }\n}\nvar ve = function _createClass(n, i, a) {\n  return i && _defineProperties(n.prototype, i), a && _defineProperties(n, a), n;\n};\nfunction asyncGeneratorStep(n, i, a, s, c, l, u) {\n  try {\n    var d = n[l](u),\n      p = d.value;\n  } catch (n) {\n    return void a(n);\n  }\n  d.done ? i(p) : Promise.resolve(p).then(s, c);\n}\nvar ye = function _asyncToGenerator(n) {\n  return function () {\n    var i = this,\n      a = arguments;\n    return new Promise(function (s, c) {\n      var l = n.apply(i, a);\n      function _next(n) {\n        asyncGeneratorStep(l, s, c, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(l, s, c, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n};\nfunction updateUndoRedoState(n) {\n  var i = n;\n  return i.canUndo = n.currentPosition > 0, i.canRedo = n.currentPosition < n.stack.length - 1, i;\n}\nfunction getModel(n) {\n  for (var i = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], a = n.stack[n.currentPosition], s = arguments.length, c = new Array(s > 2 ? s - 2 : 0), l = 2; l < s; l++) c[l - 2] = arguments[l];\n  var u = {\n    res: i ? cloneModel(a) : a,\n    types: c\n  };\n  return Promise.resolve(u);\n}\nvar be = Object.freeze({\n  __proto__: null,\n  getModel: getModel,\n  updateModel: function updateModel(i, a) {\n    var s = i.stack.findIndex(function (n) {\n        return n.modificationTime === a.modificationTime && n.rawStrokes.length === a.rawStrokes.length;\n      }),\n      l = a;\n    l.modificationTime = new Date().getTime();\n    var u = [];\n    if (s > -1) i.stack.splice(s, 1, cloneModel(l)), c.debug(\"model updated\", l);else {\n      var d = i;\n      d.currentPosition += 1, d.stack = d.stack.slice(0, d.currentPosition), d.stack.push(cloneModel(l)), d.stack.length > d.maxSize && (d.stack.shift(), d.currentPosition--), c.debug(\"model pushed\", l), u.push(n.EventType.CHANGED);\n    }\n    return updateUndoRedoState(i), c.debug(\"undo/redo stack updated\", i), getModel.apply(void 0, [i, !1].concat(u));\n  },\n  undo: function undo(i, a) {\n    var s = i;\n    return s.currentPosition > 0 && (s.currentPosition -= 1, updateUndoRedoState(i), c.debug(\"undo index\", s.currentPosition)), getModel(i, !0, n.EventType.CHANGED, n.EventType.EXPORTED);\n  },\n  redo: function redo(i, a) {\n    var s = i;\n    return s.currentPosition < s.stack.length - 1 && (s.currentPosition += 1, updateUndoRedoState(i), c.debug(\"redo index\", s.currentPosition)), getModel(i, !0, n.EventType.CHANGED, n.EventType.EXPORTED);\n  }\n});\nfunction createCanvas$1(n) {\n  var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10,\n    a = document,\n    s = a.createElement(\"canvas\");\n  return s.width = Math.abs(n.maxX - n.minX) + 2 * i, s.style.width = \"\".concat(s.width, \"px\"), s.height = Math.abs(n.maxY - n.minY) + 2 * i, s.style.height = \"\".concat(s.height, \"px\"), s;\n}\nvar xe = Object.freeze({\n  __proto__: null,\n  inkImporter: function inkImporter(n, i, a, c) {\n    var l = n;\n    s.debug(\"inkImporter start importing =>\", i);\n    var u = Object.assign({}, l.behavior.grabber);\n    u.detach = l.behavior.grabber.detach, l.behavior.grabber = {};\n    var d = [];\n    i.forEach(function (n) {\n      n.convert ? d.push({\n        action: \"convert\",\n        value: !0\n      }) : n.setDelay ? d.push({\n        action: \"setDelay\",\n        value: n.setDelay\n      }) : (n.color && d.push({\n        action: \"setColor\",\n        value: n.color\n      }), n.X.forEach(function (i, a) {\n        var s = \"move\";\n        0 === a ? s = \"down\" : a === n.X.length - 1 && (s = \"up\"), d.push({\n          action: s,\n          point: {\n            x: n.X[a],\n            y: n.Y[a]\n          }\n        });\n      }));\n    }), s.debug(\"Array of actions =>\", d), function play(n, i, a) {\n      if (i < n.length) {\n        var s = n[i],\n          d = a;\n        if (\"convert\" === s.action ? l.convert() : \"setDelay\" === s.action ? d = s.value : \"setColor\" === s.action ? l.penStyle = {\n          color: s.value\n        } : (s.point.t = new Date().getTime(), \"down\" === s.action ? l.pointerDown(s.point) : \"up\" === s.action ? l.pointerUp(s.point) : \"move\" === s.action && l.pointerMove(s.point)), c && i === n.map(function (n) {\n          return n.action;\n        }).lastIndexOf(\"down\") - 1) setTimeout(function () {\n          play(n, i + 1, d);\n        }, c);else if (i === n.length - 1) {\n          var p = new Event(\"drawEnded\");\n          document.dispatchEvent(p), l.behavior.grabber = u;\n        } else setTimeout(function () {\n          play(n, i + 1, d);\n        }, d);\n      }\n    }(d, 0, a);\n  },\n  importStrokeGroups: function importStrokeGroups(n, i) {\n    i.forEach(function (i) {\n      i.strokes.forEach(function (a) {\n        addStroke(n.model, a), addStrokeToGroup(n.model, a, i.penStyle);\n      });\n    }), n.renderer.drawModel(n.rendererContext, n.model, n.stroker);\n  }\n});\nfunction destructurePromise() {\n  var n, i;\n  return {\n    promise: new Promise(function (a, s) {\n      n = a, i = s;\n    }),\n    resolve: n,\n    reject: i\n  };\n}\nfunction delay(n) {\n  var i = null;\n  return {\n    promise: new Promise(function (a) {\n      i = setTimeout(a, n);\n    }),\n    timer: i\n  };\n}\nfunction manageResetState(n, i) {\n  return n.recognizer.reset && isResetRequired(n.recognizerContext, i) ? n.recognizer.reset(n.recognizerContext, i) : null;\n}\nfunction isTriggerValid(n, i) {\n  var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : n.configuration.triggers[i];\n  return !(!n.recognizer || !n.recognizer.getInfo().availableTriggers[i].includes(a)) || (s.error(\"\".concat(a, \" is not a valid trigger for \").concat(i)), !1);\n}\nfunction _addStrokes() {\n  return (_addStrokes = ye(ge.mark(function _callee4(n, i) {\n    var a,\n      s,\n      c = arguments;\n    return ge.wrap(function _callee4$(l) {\n      for (;;) switch (l.prev = l.next) {\n        case 0:\n          if (a = c.length > 2 && void 0 !== c[2] ? c[2] : n.configuration.triggers.addStrokes, !n.recognizer || !n.recognizer.addStrokes) {\n            l.next = 13;\n            break;\n          }\n          return l.next = 4, n.recognizerContext.initPromise;\n        case 4:\n          if (!l.sent) {\n            l.next = 13;\n            break;\n          }\n          if (!isTriggerValid(n, \"addStrokes\", a)) {\n            l.next = 13;\n            break;\n          }\n          return l.next = 9, manageResetState(n, i);\n        case 9:\n          if (!(s = l.sent)) {\n            l.next = 12;\n            break;\n          }\n          return l.abrupt(\"return\", n.recognizer.addStrokes(n.recognizerContext, s));\n        case 12:\n          return l.abrupt(\"return\", n.recognizer.addStrokes(n.recognizerContext, i));\n        case 13:\n          return l.abrupt(\"return\", Promise.reject(new Error(\"Cannot addStrokes\")));\n        case 14:\n        case \"end\":\n          return l.stop();\n      }\n    }, _callee4);\n  }))).apply(this, arguments);\n}\nfunction _launchPointerEvents() {\n  return (_launchPointerEvents = ye(ge.mark(function _callee5(n, i, a) {\n    return ge.wrap(function _callee5$(s) {\n      for (;;) switch (s.prev = s.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.pointerEvents) {\n            s.next = 6;\n            break;\n          }\n          return s.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!s.sent) {\n            s.next = 6;\n            break;\n          }\n          return s.abrupt(\"return\", n.recognizer.pointerEvents(n.recognizerContext, i, a));\n        case 6:\n          return s.abrupt(\"return\", Promise.reject(new Error(\"Cannot launch pointerEvents\")));\n        case 7:\n        case \"end\":\n          return s.stop();\n      }\n    }, _callee5);\n  }))).apply(this, arguments);\n}\nfunction launchExport(n, i, a) {\n  return _launchExport.apply(this, arguments);\n}\nfunction _launchExport() {\n  return (_launchExport = ye(ge.mark(function _callee6(i, a, s) {\n    var c,\n      l,\n      u,\n      d,\n      p,\n      h = arguments;\n    return ge.wrap(function _callee6$(f) {\n      for (;;) switch (f.prev = f.next) {\n        case 0:\n          if (c = h.length > 3 && void 0 !== h[3] ? h[3] : i.configuration.triggers.exportContent, !i.recognizer || !i.recognizer.export_) {\n            f.next = 20;\n            break;\n          }\n          return f.next = 4, i.recognizerContext.initPromise;\n        case 4:\n          if (!f.sent) {\n            f.next = 20;\n            break;\n          }\n          if (!isTriggerValid(i, \"exportContent\", c)) {\n            f.next = 20;\n            break;\n          }\n          return l = i, window.clearTimeout(i.exportTimer), u = c === n.Trigger.QUIET_PERIOD ? i.configuration.triggerDelay : 0, d = delay(u), l.exportTimer = d.timer, f.next = 14, d.promise;\n        case 14:\n          return f.next = 16, manageResetState(i, a);\n        case 16:\n          if (!(p = f.sent)) {\n            f.next = 19;\n            break;\n          }\n          return f.abrupt(\"return\", i.recognizer.export_(i.recognizerContext, p, s));\n        case 19:\n          return f.abrupt(\"return\", i.recognizer.export_(i.recognizerContext, a, s));\n        case 20:\n          return f.abrupt(\"return\", Promise.reject(new Error(\"Cannot launch export\")));\n        case 21:\n        case \"end\":\n          return f.stop();\n      }\n    }, _callee6);\n  }))).apply(this, arguments);\n}\nfunction _launchImport() {\n  return (_launchImport = ye(ge.mark(function _callee7(n, i, a) {\n    return ge.wrap(function _callee7$(s) {\n      for (;;) switch (s.prev = s.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.import_) {\n            s.next = 6;\n            break;\n          }\n          return s.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!s.sent) {\n            s.next = 6;\n            break;\n          }\n          return s.abrupt(\"return\", n.recognizer.import_(n.recognizerContext, i, a));\n        case 6:\n          return s.abrupt(\"return\", Promise.reject(new Error(\"Cannot launch import\")));\n        case 7:\n        case \"end\":\n          return s.stop();\n      }\n    }, _callee7);\n  }))).apply(this, arguments);\n}\nfunction _launchGetSupportedImportMimeTypes() {\n  return (_launchGetSupportedImportMimeTypes = ye(ge.mark(function _callee8(n, i) {\n    return ge.wrap(function _callee8$(a) {\n      for (;;) switch (a.prev = a.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.getSupportedImportMimeTypes) {\n            a.next = 6;\n            break;\n          }\n          return a.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!a.sent) {\n            a.next = 6;\n            break;\n          }\n          return a.abrupt(\"return\", n.recognizer.getSupportedImportMimeTypes(n.recognizerContext, i));\n        case 6:\n          return a.abrupt(\"return\", Promise.reject(new Error(\"Cannot launch getSupportedImportMimeTypes\")));\n        case 7:\n        case \"end\":\n          return a.stop();\n      }\n    }, _callee8);\n  }))).apply(this, arguments);\n}\nfunction launchConvert(n, i, a) {\n  return _launchConvert.apply(this, arguments);\n}\nfunction _launchConvert() {\n  return (_launchConvert = ye(ge.mark(function _callee9(n, i, a) {\n    return ge.wrap(function _callee9$(s) {\n      for (;;) switch (s.prev = s.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.convert) {\n            s.next = 6;\n            break;\n          }\n          return s.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!s.sent) {\n            s.next = 6;\n            break;\n          }\n          return s.abrupt(\"return\", n.recognizer.convert(n.recognizerContext, i, a));\n        case 6:\n          return s.abrupt(\"return\", Promise.reject(new Error(\"Cannot launch convert\")));\n        case 7:\n        case \"end\":\n          return s.stop();\n      }\n    }, _callee9);\n  }))).apply(this, arguments);\n}\nfunction launchConfig(n, i) {\n  return _launchConfig.apply(this, arguments);\n}\nfunction _launchConfig() {\n  return (_launchConfig = ye(ge.mark(function _callee10(n, i) {\n    return ge.wrap(function _callee10$(a) {\n      for (;;) switch (a.prev = a.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.sendConfiguration) {\n            a.next = 6;\n            break;\n          }\n          return a.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!a.sent) {\n            a.next = 6;\n            break;\n          }\n          return a.abrupt(\"return\", n.recognizer.sendConfiguration(n.recognizerContext, i));\n        case 6:\n          return a.abrupt(\"return\", Promise.reject(new Error(\"Cannot launch config\")));\n        case 7:\n        case \"end\":\n          return a.stop();\n      }\n    }, _callee10);\n  }))).apply(this, arguments);\n}\nfunction _launchResize() {\n  return (_launchResize = ye(ge.mark(function _callee11(n, i) {\n    var a, s;\n    return ge.wrap(function _callee11$(c) {\n      for (;;) switch (c.prev = c.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.resize) {\n            c.next = 13;\n            break;\n          }\n          return c.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!c.sent) {\n            c.next = 13;\n            break;\n          }\n          return a = n, window.clearTimeout(n.resizeTimer), s = delay(n.configuration.resizeTriggerDelay), a.resizeTimer = s.timer, resize$2(n.smartGuide), c.next = 12, s.promise;\n        case 12:\n          return c.abrupt(\"return\", n.recognizer.resize(n.recognizerContext, i, n.domElement));\n        case 13:\n          return c.abrupt(\"return\", Promise.reject(new Error(\"Cannot launch resize\")));\n        case 14:\n        case \"end\":\n          return c.stop();\n      }\n    }, _callee11);\n  }))).apply(this, arguments);\n}\nfunction _launchWaitForIdle() {\n  return (_launchWaitForIdle = ye(ge.mark(function _callee12(n, i) {\n    return ge.wrap(function _callee12$(a) {\n      for (;;) switch (a.prev = a.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.waitForIdle) {\n            a.next = 6;\n            break;\n          }\n          return a.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!a.sent) {\n            a.next = 6;\n            break;\n          }\n          return a.abrupt(\"return\", n.recognizer.waitForIdle(n.recognizerContext, i));\n        case 6:\n          return a.abrupt(\"return\", Promise.reject(new Error(\"Cannot launch wait for idle\")));\n        case 7:\n        case \"end\":\n          return a.stop();\n      }\n    }, _callee12);\n  }))).apply(this, arguments);\n}\nfunction _launchClose() {\n  return (_launchClose = ye(ge.mark(function _callee13(n, i) {\n    return ge.wrap(function _callee13$(a) {\n      for (;;) switch (a.prev = a.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.close) {\n            a.next = 6;\n            break;\n          }\n          return a.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!a.sent) {\n            a.next = 6;\n            break;\n          }\n          return a.abrupt(\"return\", n.recognizer.close(n.recognizerContext, i));\n        case 6:\n          return a.abrupt(\"return\", Promise.reject(new Error(\"Cannot launch close\")));\n        case 7:\n        case \"end\":\n          return a.stop();\n      }\n    }, _callee13);\n  }))).apply(this, arguments);\n}\nfunction _setPenStyle() {\n  return (_setPenStyle = ye(ge.mark(function _callee14(n, i) {\n    return ge.wrap(function _callee14$(a) {\n      for (;;) switch (a.prev = a.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.setPenStyle) {\n            a.next = 6;\n            break;\n          }\n          return a.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!a.sent) {\n            a.next = 6;\n            break;\n          }\n          return a.abrupt(\"return\", n.recognizer.setPenStyle(n.recognizerContext, i, n.penStyle));\n        case 6:\n          return a.abrupt(\"return\", Promise.reject(new Error(\"Cannot set pentStyle\")));\n        case 7:\n        case \"end\":\n          return a.stop();\n      }\n    }, _callee14);\n  }))).apply(this, arguments);\n}\nfunction _setPenStyleClasses() {\n  return (_setPenStyleClasses = ye(ge.mark(function _callee15(n, i) {\n    return ge.wrap(function _callee15$(a) {\n      for (;;) switch (a.prev = a.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.setPenStyleClasses) {\n            a.next = 6;\n            break;\n          }\n          return a.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!a.sent) {\n            a.next = 6;\n            break;\n          }\n          return a.abrupt(\"return\", n.recognizer.setPenStyleClasses(n.recognizerContext, i, n.penStyleClasses));\n        case 6:\n          return a.abrupt(\"return\", Promise.reject(new Error(\"Cannot set penStyleClasses\")));\n        case 7:\n        case \"end\":\n          return a.stop();\n      }\n    }, _callee15);\n  }))).apply(this, arguments);\n}\nfunction _setTheme() {\n  return (_setTheme = ye(ge.mark(function _callee16(n, i) {\n    return ge.wrap(function _callee16$(a) {\n      for (;;) switch (a.prev = a.next) {\n        case 0:\n          if (!n.recognizer || !n.recognizer.setTheme) {\n            a.next = 6;\n            break;\n          }\n          return a.next = 3, n.recognizerContext.initPromise;\n        case 3:\n          if (!a.sent) {\n            a.next = 6;\n            break;\n          }\n          return a.abrupt(\"return\", n.recognizer.setTheme(n.recognizerContext, i, n.theme));\n        case 6:\n          return a.abrupt(\"return\", Promise.reject(new Error(\"Cannot set theme\")));\n        case 7:\n        case \"end\":\n          return a.stop();\n      }\n    }, _callee16);\n  }))).apply(this, arguments);\n}\nvar we = function () {\n  function Editor(n, i, a, c, l) {\n    me(this, Editor);\n    var u = document.createElement(\"style\");\n    u.appendChild(document.createTextNode(\"\")), n.appendChild(u);\n    var d = u.sheet;\n    u.textContent = \"/*\\n * Container style\\n */\\n.ps {\\n  overflow: hidden !important;\\n  overflow-anchor: none;\\n  -ms-overflow-style: none;\\n  touch-action: auto;\\n  -ms-touch-action: auto;\\n}\\n/*\\n * Scrollbar rail styles\\n */\\n.ps__rail-x {\\n  display: none;\\n  opacity: 0;\\n  transition: background-color .2s linear, opacity .2s linear;\\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\\n  height: 15px;\\n  /* there must be 'bottom' or 'top' for ps__rail-x */\\n  bottom: 0px;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n.ps__rail-y {\\n  display: none;\\n  opacity: 0;\\n  transition: background-color .2s linear, opacity .2s linear;\\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\\n  width: 15px;\\n  /* there must be 'right' or 'left' for ps__rail-y */\\n  right: 0;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n.ps--active-x > .ps__rail-x,\\n.ps--active-y > .ps__rail-y {\\n  display: block;\\n  background-color: transparent;\\n}\\n.ps:hover > .ps__rail-x,\\n.ps:hover > .ps__rail-y,\\n.ps--focus > .ps__rail-x,\\n.ps--focus > .ps__rail-y,\\n.ps--scrolling-x > .ps__rail-x,\\n.ps--scrolling-y > .ps__rail-y {\\n  opacity: 0.6;\\n}\\n.ps .ps__rail-x:hover,\\n.ps .ps__rail-y:hover,\\n.ps .ps__rail-x:focus,\\n.ps .ps__rail-y:focus,\\n.ps .ps__rail-x.ps--clicking,\\n.ps .ps__rail-y.ps--clicking {\\n  background-color: #eee;\\n  opacity: 0.9;\\n}\\n/*\\n * Scrollbar thumb styles\\n */\\n.ps__thumb-x {\\n  background-color: #aaa;\\n  border-radius: 6px;\\n  transition: background-color .2s linear, height .2s ease-in-out;\\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\\n  height: 6px;\\n  /* there must be 'bottom' for ps__thumb-x */\\n  bottom: 2px;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n.ps__thumb-y {\\n  background-color: #aaa;\\n  border-radius: 6px;\\n  transition: background-color .2s linear, width .2s ease-in-out;\\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\\n  width: 6px;\\n  /* there must be 'right' for ps__thumb-y */\\n  right: 2px;\\n  /* please don't change 'position' */\\n  position: absolute;\\n}\\n.ps__rail-x:hover > .ps__thumb-x,\\n.ps__rail-x:focus > .ps__thumb-x,\\n.ps__rail-x.ps--clicking .ps__thumb-x {\\n  background-color: #999;\\n  height: 11px;\\n}\\n.ps__rail-y:hover > .ps__thumb-y,\\n.ps__rail-y:focus > .ps__thumb-y,\\n.ps__rail-y.ps--clicking .ps__thumb-y {\\n  background-color: #999;\\n  width: 11px;\\n}\\n/* MS supports */\\n@supports (-ms-overflow-style: none) {\\n  .ps {\\n    overflow: auto !important;\\n  }\\n}\\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\\n  .ps {\\n    overflow: auto !important;\\n  }\\n}\\n.ms-editor {\\n    position: relative;\\n    z-index: 20;\\n    color: #1A9FFF;\\n    font-family: sans-serif;\\n}\\n.ms-editor canvas,\\n.ms-editor svg {\\n    z-index: 15;\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    height: 100%;\\n    width: 100%;\\n}\\n.ms-editor canvas.ms-rendering-canvas {\\n    z-index: 10;\\n    pointer-events: none;\\n    background-image: linear-gradient(to right, #F5F6F7 1px, transparent 1px),\\n    linear-gradient(to bottom, #F5F6F7 1px, transparent 1px);\\n    background-size: 18px 18px;\\n}\\n.ms-editor svg {\\n    z-index: 10;\\n    pointer-events: none;\\n}\\n.ms-editor svg[data-layer=\\\"BACKGROUND\\\"] {\\n    z-index: 9;\\n}\\n.ms-editor .loader {\\n    z-index: 30;\\n    position: absolute;\\n    width: 120px;\\n    height: 120px;\\n    top: calc(50% - 60px);\\n    left: calc(50% - 60px);\\n    border: 16px solid #F5F6F7;\\n    border-radius: 50%;\\n    border-top-color: #1A9FFF;\\n    -webkit-animation: spin 2s linear infinite;\\n    animation: spin 2s linear infinite;\\n}\\n.ms-editor .error-msg {\\n    z-index: 25;\\n    position: absolute;\\n    width: 200px;\\n    height: 200px;\\n    top: calc(50% - 100px);\\n    left: calc(50% - 100px);\\n    font-size: 16px;\\n    text-align: center;\\n    word-wrap: break-word;\\n}\\n.ms-editor .error-msg::before {\\n    content: url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCA3Ni41IDYxMiA0NTkiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaW5ZTWluIG1lZXQiPgogICAgPHBhdGggZmlsbD0iIzFBOUZGRiIgZD0iTTQ5NC43LDIyOS41Yy0xNy44NTEtODYuNy05NC4zNTEtMTUzLTE4OC43LTE1M2MtMzguMjUsMC03My45NSwxMC4yLTEwMiwzMC42bDM4LjI1LDM4LjI1IGMxNy44NS0xMi43NSw0MC44LTE3Ljg1LDYzLjc1LTE3Ljg1Yzc2LjUsMCwxNDAuMjUsNjMuNzUsMTQwLjI1LDE0MC4yNXYxMi43NWgzOC4yNWM0My4zNSwwLDc2LjUsMzMuMTUsNzYuNSw3Ni41IGMwLDI4LjA1LTE1LjMsNTMuNTUtNDAuOCw2Ni4zbDM4LjI1LDM4LjI1QzU5MS42LDQzOC42LDYxMiw0MDAuMzUsNjEyLDM1N0M2MTIsMjkwLjcsNTU4LjQ1LDIzNC42LDQ5NC43LDIyOS41eiBNNzYuNSwxMDkuNjUgbDcxLjQsNjguODVDNjYuMywxODMuNiwwLDI0OS45LDAsMzMxLjVjMCw4NC4xNSw2OC44NSwxNTMsMTUzLDE1M2gyOTguMzVsNTEsNTFsMzMuMTUtMzMuMTVMMTA5LjY1LDc2LjVMNzYuNSwxMDkuNjV6IE0xOTYuMzUsMjI5LjVsMjA0LDIwNEgxNTNjLTU2LjEsMC0xMDItNDUuOS0xMDItMTAyYzAtNTYuMSw0NS45LTEwMiwxMDItMTAySDE5Ni4zNXoiIC8+Cjwvc3ZnPgo=);\\n}\\n.smartguide {\\n    position: absolute;\\n    z-index: 40;\\n    font-size: 16px;\\n}\\n.smartguide-in {\\n    visibility: visible !important;\\n    transition: opacity 0.5s;\\n    opacity: 1;\\n}\\n.smartguide-out {\\n    transition: opacity 1s, visibility 1s;\\n    visibility: hidden !important;\\n    opacity: 0;\\n}\\n.prompter-text-container {\\n    background-color: rgba(255, 255, 255, 0.9);\\n    height: 48px;\\n    line-height: 48px;\\n    overflow: hidden;\\n    white-space: nowrap;\\n    display: block;\\n    text-align: left;\\n    border-bottom: 1px solid #959DA6;\\n    position: absolute;\\n    z-index: 30;\\n    color: #bfbfbf;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    -ms-user-select: none;\\n    user-select: none;\\n    -webkit-tap-highlight-color: transparent;\\n}\\n.prompter-text-container > div > span {\\n    cursor: pointer;\\n    display: inline-block;\\n}\\n.prompter-text {\\n    margin-left: 12px;\\n}\\n.added-word {\\n    animation: 0.1s linear word-added,\\n    3s ease-in-out color-input;\\n}\\n.modified-word {\\n    animation: 0.1s linear word-modified,\\n    3s ease-in-out color-input;\\n}\\n@keyframes color-input {\\n    0% {\\n        color: black;\\n    }\\n    100% {\\n        color: #bfbfbf;\\n    }\\n}\\n@keyframes word-added {\\n    0% {\\n        transform: translate(5px, 0);\\n    }\\n    100% {\\n        transform: none;\\n    }\\n}\\n@keyframes word-modified {\\n    0% {\\n        transform: translate(0, 5px);\\n    }\\n    100% {\\n        transform: none;\\n    }\\n}\\n.candidates {\\n    color: black;\\n    flex-direction: column;\\n    text-align: center;\\n    line-height: 30px;\\n    border-radius: 3px;\\n    position: absolute;\\n    box-shadow: 2px 2px 12px #BDBDBD, -2px 2px 12px #BDBDBD;\\n    background-color: #F5F5F5;\\n    z-index: 100;\\n    -webkit-tap-highlight-color: transparent;\\n}\\n.candidates > span {\\n    cursor: pointer;\\n    padding: 2px 20px;\\n}\\n.candidates > span:hover {\\n    background-color: #EEEEEE;\\n}\\n.candidates > span:active {\\n    background-color: #E0E0E0;\\n}\\n.selected-word {\\n    font-weight: bold;\\n    background-color: #E0E0E0;\\n}\\n.tag-icon {\\n    padding: 0 18px;\\n    border: 1px solid #959DA6;\\n    font-weight: bold;\\n    font-size: large;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    -ms-user-select: none;\\n    user-select: none;\\n    position: absolute;\\n    z-index: 31;\\n    height: 48px;\\n    line-height: 48px;\\n    background-color: rgba(255, 255, 255, 0.9);\\n    color: #959DA6;\\n}\\n.ellipsis {\\n    cursor: pointer;\\n    border-bottom: 1px solid #959DA6;\\n    position: absolute;\\n    z-index: 31;\\n    height: 48px;\\n    line-height: 38px;\\n    padding: 0 8px;\\n    font-weight: bold;\\n    font-size: x-large;\\n    background-color: rgba(255, 255, 255, 0.9);\\n    color: #959DA6;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    -ms-user-select: none;\\n    user-select: none;\\n    -webkit-tap-highlight-color: transparent;\\n}\\n.ellipsis:active {\\n    background-color: #e0e0e0;\\n}\\n.more-menu {\\n    flex-direction: column;\\n    margin-right: 12px;\\n    line-height: 30px;\\n    border-radius: 3px;\\n    position: absolute;\\n    z-index: 100;\\n    box-shadow: 2px 2px 12px #BDBDBD;\\n    background-color: #F5F5F5;\\n}\\n.options-label-button {\\n    color: black;\\n    font-size: 16px;\\n    cursor: pointer;\\n    box-sizing: border-box;\\n    background: transparent;\\n    border: none;\\n    padding: 0 24px;\\n    margin: 0;\\n    height: 40px;\\n    outline: none;\\n    -webkit-tap-highlight-color: transparent;\\n}\\n.options-label-button:hover {\\n    background-color: #EEEEEE;\\n}\\n.options-label-button:active {\\n    background-color: #E0E0E0;\\n}\\n.ps__rail-x {\\n    top: 32px !important;\\n}\\n/** Stroke **/\\n.removed-stroke {\\n    opacity: 0;\\n    transition: opacity 0.1s ease-in-out;\\n}\\n.added-stroke {\\n    animation: 0.2s opacity-appear;\\n}\\n@keyframes opacity-appear {\\n    0% {\\n        opacity: 0;\\n    }\\n    100% {\\n        opacity : 1;\\n    }\\n}\\n@keyframes spin {\\n    0% {\\n        transform: rotate(0deg);\\n    }\\n    100% {\\n        transform: rotate(360deg);\\n    }\\n}\\n@keyframes rotate-plan {\\n    0% {\\n        transform: perspective(120px) rotateX(0deg) rotateY(0deg);\\n    }\\n    25% {\\n        transform: perspective(120px) rotateX(0deg) rotateY(-180deg);\\n    }\\n    50% {\\n        transform: perspective(120px) rotateX(-180deg) rotateY(-180deg);\\n    }\\n    75% {\\n        transform: perspective(120px) rotateX(-180deg) rotateY(0deg);\\n    }\\n    100% {\\n        transform: perspective(120px) rotateX(0deg) rotateY(0deg);\\n    }\\n}\\n@-webkit-keyframes rotate-plan {\\n    0% {\\n        -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg)\\n    }\\n    25% {\\n        -webkit-transform: perspective(120px) rotateX(180deg) rotateY(0deg)\\n    }\\n    50% {\\n        -webkit-transform: perspective(120px) rotateX(180deg) rotateY(180deg)\\n    }\\n    75% {\\n        -webkit-transform: perspective(120px) rotateX(0deg) rotateY(180deg)\\n    }\\n    100% {\\n        -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg)\\n    }\\n}\\n@-webkit-keyframes spin {\\n    0% {\\n        -webkit-transform: rotate(0deg);\\n    }\\n    100% {\\n        -webkit-transform: rotate(360deg);\\n    }\\n}\\n\", this.sheet = d, this.domElement = n, this.domElement.classList.add(\"ms-editor\"), this.loader = document.createElement(\"div\"), this.loader.classList.add(\"loader\"), this.loader = this.domElement.appendChild(this.loader), this.error = document.createElement(\"div\"), this.error.classList.add(\"error-msg\"), this.error = this.domElement.appendChild(this.error), this.exportTimer = void 0, this.resizeTimer = void 0, this.notifyTimer = void 0, this.innerBehaviors = function overrideDefaultBehaviors(n) {\n      if (n) {\n        var i = {\n          grabber: n.grabber || Ae.grabber,\n          rendererList: n.rendererList || Ae.rendererList,\n          strokerList: n.strokerList || Ae.strokerList,\n          recognizerList: n.recognizerList || Ae.recognizerList,\n          events: n.events || Ae.events,\n          getBehaviorFromConfiguration: n.getBehaviorFromConfiguration || Ae.getBehaviorFromConfiguration\n        };\n        return s.debug(\"Override default behaviors\", i), i;\n      }\n      return Ae;\n    }(l), this.configuration = i, this.smartGuide = createSmartGuide(this), this.localTheme = \"\", this.theme = c, this.penStyle = a, this.penStyleClasses = \"\", this.domElement.editor = this;\n  }\n  var i, a;\n  return ve(Editor, [{\n    key: \"pointerDown\",\n    value: function pointerDown(n) {\n      var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"pen\",\n        a = arguments.length > 2 ? arguments[2] : void 0;\n      s.trace(\"Pointer down\", n), window.clearTimeout(this.notifyTimer), window.clearTimeout(this.exportTimer), this.model = initPendingStroke(this.model, n, Object.assign({\n        pointerType: i,\n        pointerId: a\n      }, this.theme.ink, this.localPenStyle)), this.renderer.drawCurrentStroke(this.rendererContext, this.model, this.stroker);\n    }\n  }, {\n    key: \"pointerMove\",\n    value: function pointerMove(n) {\n      s.trace(\"Pointer move\", n), this.model = appendToPendingStroke(this.model, n), this.renderer.drawCurrentStroke(this.rendererContext, this.model, this.stroker);\n    }\n  }, {\n    key: \"pointerUp\",\n    value: function pointerUp(n) {\n      s.trace(\"Pointer up\", n), this.model = endPendingStroke(this.model, n, this.penStyle), this.renderer.drawModel(this.rendererContext, this.model, this.stroker), this.recognizer.addStrokes ? function addStrokes(n, i) {\n        return _addStrokes.apply(this, arguments);\n      }(this, this.model) : handleSuccess(this, this.model);\n    }\n  }, {\n    key: \"removeStroke\",\n    value: function removeStroke(n) {\n      this.model.strokeGroups.forEach(function (i) {\n        var a = i.strokes.map(function (n) {\n          return JSON.stringify(n);\n        }).indexOf(JSON.stringify(n));\n        -1 !== a && i.strokes.splice(a, 1);\n      });\n      var i = this.model.rawStrokes.map(function (n) {\n        return JSON.stringify(n);\n      }).indexOf(JSON.stringify(n));\n      -1 !== i && this.model.rawStrokes.splice(i, 1), this.renderer.drawModel(this.rendererContext, this.model, this.stroker), handleSuccess(this, this.model), \"DEMAND\" !== this.configuration.triggers.exportContent && launchExport(this, this.model);\n    }\n  }, {\n    key: \"reDraw\",\n    value: function reDraw(n, i) {\n      var a = this;\n      n.forEach(function (n) {\n        addStroke(a.model, n);\n      }), i.forEach(function (n) {\n        n.strokes.forEach(function (i) {\n          addStrokeToGroup(a.model, i, n.penStyle);\n        });\n      }), this.renderer.drawModel(this.rendererContext, this.model, this.stroker), handleSuccess(this, this.model);\n    }\n  }, {\n    key: \"waitForIdle\",\n    value: function waitForIdle() {\n      return emitEvents(this, void 0, n.EventType.IDLE), function launchWaitForIdle(n, i) {\n        return _launchWaitForIdle.apply(this, arguments);\n      }(this, this.model);\n    }\n  }, {\n    key: \"undo\",\n    value: (a = ye(ge.mark(function _callee() {\n      var i,\n        a,\n        c,\n        l = this;\n      return ge.wrap(function _callee$(u) {\n        for (;;) switch (u.prev = u.next) {\n          case 0:\n            return s.debug(\"Undo current model\", this.model), emitEvents(this, void 0, n.EventType.UNDO), u.next = 4, this.undoRedoManager.undo(this.undoRedoContext, this.model).catch(function (n) {\n              return handleError(l, n);\n            });\n          case 4:\n            return i = u.sent, a = i.res, c = i.types, manageRecognizedModel.apply(void 0, [this, a].concat(I(c))), u.abrupt(\"return\", a);\n          case 9:\n          case \"end\":\n            return u.stop();\n        }\n      }, _callee, this);\n    })), function undo() {\n      return a.apply(this, arguments);\n    })\n  }, {\n    key: \"redo\",\n    value: (i = ye(ge.mark(function _callee2() {\n      var i,\n        a,\n        c,\n        l = this;\n      return ge.wrap(function _callee2$(u) {\n        for (;;) switch (u.prev = u.next) {\n          case 0:\n            return s.debug(\"Redo current model\", this.model), emitEvents(this, void 0, n.EventType.REDO), u.next = 4, this.undoRedoManager.redo(this.undoRedoContext, this.model).catch(function (n) {\n              return handleError(l, n);\n            });\n          case 4:\n            return i = u.sent, a = i.res, c = i.types, manageRecognizedModel.apply(void 0, [this, a].concat(I(c))), u.abrupt(\"return\", a);\n          case 9:\n          case \"end\":\n            return u.stop();\n        }\n      }, _callee2, this);\n    })), function redo() {\n      return i.apply(this, arguments);\n    })\n  }, {\n    key: \"clear\",\n    value: function () {\n      var i = ye(ge.mark(function _callee3() {\n        var i,\n          a,\n          c,\n          l = this;\n        return ge.wrap(function _callee3$(u) {\n          for (;;) switch (u.prev = u.next) {\n            case 0:\n              if (!this.canClear) {\n                u.next = 10;\n                break;\n              }\n              return s.debug(\"Clear current model\", this.model), emitEvents(this, void 0, n.EventType.CLEAR), u.next = 5, this.recognizer.clear(this.recognizerContext, this.model).catch(function (n) {\n                return handleError(l, n);\n              });\n            case 5:\n              return i = u.sent, a = i.res, c = i.events, handleSuccess.apply(void 0, [this, a].concat(I(c))), u.abrupt(\"return\", a);\n            case 10:\n              return u.abrupt(\"return\", Promise.reject(new Error(\"Cannot launch clear\")));\n            case 11:\n            case \"end\":\n              return u.stop();\n          }\n        }, _callee3, this);\n      }));\n      return function clear() {\n        return i.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"convert\",\n    value: function convert() {\n      var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"DIGITAL_EDIT\";\n      return this.canConvert ? (emitEvents(this, void 0, n.EventType.CONVERT), launchConvert(this, this.model, i)) : Promise.reject(new Error(\"Cannot launch convert\"));\n    }\n  }, {\n    key: \"setGuides\",\n    value: function setGuides() {\n      var n = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];\n      return this.configuration.recognitionParams.iink.text.guides.enable = n, launchConfig(this, this.model);\n    }\n  }, {\n    key: \"export_\",\n    value: function export_(i) {\n      return this.canExport ? (emitEvents(this, void 0, n.EventType.EXPORT), launchExport(this, this.model, i, n.Trigger.DEMAND)) : Promise.reject(new Error(\"Cannot launch export\"));\n    }\n  }, {\n    key: \"import_\",\n    value: function import_(i, a) {\n      return emitEvents(this, void 0, n.EventType.IMPORT), function launchImport(n, i, a) {\n        return _launchImport.apply(this, arguments);\n      }(this, this.model, i instanceof Blob ? i : new Blob([i], {\n        type: a\n      }));\n    }\n  }, {\n    key: \"getSupportedImportMimeTypes\",\n    value: function getSupportedImportMimeTypes() {\n      return function launchGetSupportedImportMimeTypes(n, i) {\n        return _launchGetSupportedImportMimeTypes.apply(this, arguments);\n      }(this, this.model);\n    }\n  }, {\n    key: \"pointerEvents\",\n    value: function pointerEvents(n) {\n      return function launchPointerEvents(n, i, a) {\n        return _launchPointerEvents.apply(this, arguments);\n      }(this, this.model, n);\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      return s.debug(\"Resizing editor\"), this.renderer.resize(this.rendererContext, this.model, this.stroker, this.configuration.renderingParams.minHeight, this.configuration.renderingParams.minWidth), function launchResize(n, i) {\n        return _launchResize.apply(this, arguments);\n      }(this, this.model);\n    }\n  }, {\n    key: \"setThemeForFont\",\n    value: function setThemeForFont(i) {\n      var a = !Object.keys(n.Languages).includes(i),\n        s = \"hy_AM\" === i,\n        c = a || s ? n.Languages.default : n.Languages[i],\n        l = a || s ? \"1.2\" : \"1.8\";\n      this.theme = {\n        \".text\": {\n          \"font-family\": c,\n          \"line-height\": l\n        }\n      };\n    }\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      this.grabber && this.grabber.detach(this.domElement, this.grabberContext), this.innerRenderer && this.innerRenderer.detach(this.domElement, this.rendererContext);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      return this.configuration.recognitionParams.protocol === n.Protocol.WEBSOCKET ? function launchClose(n, i) {\n        return _launchClose.apply(this, arguments);\n      }(this, this.model) : null;\n    }\n  }, {\n    key: \"forceChange\",\n    value: function forceChange() {\n      emitEvents(this, void 0, n.EventType.CHANGED);\n    }\n  }, {\n    key: \"configuration\",\n    set: function set(n) {\n      this.loader.style.display = \"initial\", this.error.style.display = \"none\", this.innerConfiguration = function overrideDefaultConfiguration(n) {\n        var i,\n          a = n;\n        return a && a.recognitionParams.server && a.recognitionParams.server.useWindowLocation ? (a.recognitionParams.server.scheme = window.location.protocol.slice(0, -1), a.recognitionParams.server.host = window.location.host, i = h({}, f, void 0 === a ? {} : a)) : i = h({}, f, void 0 === n ? {} : n), s.debug(\"Override default configuration\", i), i;\n      }(n), this.setThemeForFont(this.innerConfiguration.recognitionParams.iink.lang), this.behavior = this.behaviors.getBehaviorFromConfiguration(this.behaviors, this.innerConfiguration);\n    },\n    get: function get() {\n      return this.innerConfiguration;\n    }\n  }, {\n    key: \"penStyle\",\n    set: function set(n) {\n      this.innerPenStyle = function overrideDefaultPenStyle(n) {\n        var i = h({}, void 0, void 0 === n ? {} : n);\n        return s.debug(\"Override default pen style\", i), i;\n      }(n), this.localPenStyle = this.innerPenStyle, function setPenStyle(n, i) {\n        return _setPenStyle.apply(this, arguments);\n      }(this, this.model);\n    },\n    get: function get() {\n      return this.innerPenStyle;\n    }\n  }, {\n    key: \"penStyleClasses\",\n    set: function set(n) {\n      this.innerPenStyleClasses = n, this.localPenStyle = this.theme[\".\".concat(this.innerPenStyleClasses)], function setPenStyleClasses(n, i) {\n        return _setPenStyleClasses.apply(this, arguments);\n      }(this, this.model);\n    },\n    get: function get() {\n      return this.innerPenStyleClasses;\n    }\n  }, {\n    key: \"theme\",\n    set: function set(n) {\n      this.innerTheme = function overrideDefaultTheme(n) {\n        var i = h({}, b, void 0 === n ? {} : n);\n        return s.debug(\"Override default theme\", i), i;\n      }(n), function setTheme(n, i) {\n        return _setTheme.apply(this, arguments);\n      }(this, this.model).then(function (n) {\n        return console.log(n);\n      }).catch(function (n) {\n        return console.error(n);\n      });\n    },\n    get: function get() {\n      return this.innerTheme;\n    }\n  }, {\n    key: \"behaviors\",\n    get: function get() {\n      return this.innerBehaviors;\n    }\n  }, {\n    key: \"behavior\",\n    set: function set(n) {\n      n && (this.grabber && this.grabber.detach(this.domElement, this.grabberContext), this.innerBehavior = n, this.renderer = this.innerBehavior.renderer, this.recognizer = this.innerBehavior.recognizer, this.grabberContext = this.grabber.attach(this.domElement, this));\n    },\n    get: function get() {\n      return this.innerBehavior;\n    }\n  }, {\n    key: \"recognizer\",\n    set: function set(n) {\n      var i = this;\n      this.undoRedoContext = function createUndoRedoContext(n) {\n        return {\n          stack: [],\n          currentPosition: -1,\n          maxSize: n.undoRedoMaxStackSize,\n          canUndo: !1,\n          canRedo: !1\n        };\n      }(this.configuration), this.undoRedoManager = be;\n      var a = function initialize(a) {\n        i.innerRecognizer = n, i.innerRecognizer && (i.recognizerContext = createEmptyRecognizerContext(i), i.innerRecognizer.undo && i.innerRecognizer.redo && i.innerRecognizer.clear && (i.undoRedoContext = i.recognizerContext, i.undoRedoManager = i.innerRecognizer), i.innerRecognizer.init(i.recognizerContext, a).then(function (n) {\n          s.info(\"Recognizer initialized !\"), i.loader.style.display = \"none\";\n        }).catch(function (n) {\n          return handleError(i, n);\n        }));\n      };\n      n && (this.innerRecognizer ? this.innerRecognizer.close(this.recognizerContext, this.model).then(function (n) {\n        s.info(\"Recognizer closed\"), handleSuccess(i, n), a(clearModel(n));\n      }).catch(function (n) {\n        return handleError(i, n);\n      }) : (this.model = createModel(this.configuration), a(this.model)));\n    },\n    get: function get() {\n      return this.innerRecognizer;\n    }\n  }, {\n    key: \"renderer\",\n    set: function set(n) {\n      n && (this.innerRenderer && this.innerRenderer.detach(this.domElement, this.rendererContext), this.innerRenderer = n, this.innerRenderer && (this.rendererContext = this.innerRenderer.attach(this.domElement, this.configuration.renderingParams.minHeight, this.configuration.renderingParams.minWidth)));\n    },\n    get: function get() {\n      return this.innerRenderer;\n    }\n  }, {\n    key: \"grabber\",\n    get: function get() {\n      return this.behavior ? this.behavior.grabber : void 0;\n    }\n  }, {\n    key: \"stroker\",\n    get: function get() {\n      return this.behavior ? this.behavior.stroker : void 0;\n    }\n  }, {\n    key: \"emit\",\n    get: function get() {\n      return this.behavior ? this.behavior.events : void 0;\n    }\n  }, {\n    key: \"png\",\n    get: function get() {\n      return function getImage(n, i) {\n        var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 10;\n        if (n.rawStrokes.length > 0) {\n          var s = getBorderCoordinates(n),\n            c = createCanvas$1(s, a),\n            l = createCanvas$1(s, a),\n            u = {\n              renderingCanvas: l,\n              renderingCanvasContext: l.getContext(\"2d\"),\n              capturingCanvas: c,\n              capturingCanvasContext: c.getContext(\"2d\")\n            };\n          return u.renderingCanvasContext.translate(-s.minX + a, -s.minY + a), drawModel(u, n, i), u.renderingCanvas.toDataURL(\"image/png\");\n        }\n        return null;\n      }(this.model, this.stroker);\n    }\n  }, {\n    key: \"initialized\",\n    get: function get() {\n      return !!this.recognizerContext && this.recognizerContext.initialized;\n    }\n  }, {\n    key: \"idle\",\n    get: function get() {\n      return this.recognizerContext.idle;\n    }\n  }, {\n    key: \"canUndo\",\n    get: function get() {\n      return this.undoRedoContext.canUndo;\n    }\n  }, {\n    key: \"canRedo\",\n    get: function get() {\n      return this.undoRedoContext.canRedo;\n    }\n  }, {\n    key: \"isEmpty\",\n    get: function get() {\n      return this.recognizerContext.isEmpty;\n    }\n  }, {\n    key: \"canClear\",\n    get: function get() {\n      return !this.isEmpty;\n    }\n  }, {\n    key: \"canConvert\",\n    get: function get() {\n      return !!(this.canUndo && this.canClear && this.recognizer && this.recognizer.convert);\n    }\n  }, {\n    key: \"possibleUndoCount\",\n    get: function get() {\n      return this.recognizerContext.possibleUndoCount;\n    }\n  }, {\n    key: \"undoStackIndex\",\n    get: function get() {\n      return this.recognizerContext.undoStackIndex;\n    }\n  }, {\n    key: \"canExport\",\n    get: function get() {\n      return this.canUndo && this.canClear && this.recognizer && this.recognizer.getInfo().availableTriggers.exportContent.includes(n.Trigger.DEMAND);\n    }\n  }, {\n    key: \"exports\",\n    get: function get() {\n      return this.model ? this.model.exports : void 0;\n    }\n  }, {\n    key: \"supportedImportMimeTypes\",\n    get: function get() {\n      return this.recognizerContext.supportedImportMimeTypes;\n    }\n  }, {\n    key: \"eastereggs\",\n    get: function get() {\n      return xe;\n    }\n  }]), Editor;\n}();\nfunction emitEvents(i, a) {\n  for (var s = i, c = arguments.length, l = new Array(c > 2 ? c - 2 : 0), u = 2; u < c; u++) l[u - 2] = arguments[u];\n  l.forEach(function (c) {\n    switch (c) {\n      case n.EventType.RENDERED:\n        break;\n      case n.EventType.UNDO:\n      case n.EventType.REDO:\n      case n.EventType.CLEAR:\n      case n.EventType.CONVERT:\n      case n.EventType.EXPORT:\n        i.emit.call(i.domElement, c);\n        break;\n      case n.EventType.LOADED:\n      case n.EventType.CHANGED:\n        i.emit.call(i.domElement, c, {\n          initialized: i.initialized,\n          canUndo: i.canUndo,\n          canRedo: i.canRedo,\n          canClear: i.canClear,\n          isEmpty: i.isEmpty,\n          possibleUndoCount: i.possibleUndoCount,\n          undoStackIndex: i.undoStackIndex,\n          canConvert: i.canConvert,\n          canExport: i.canExport\n        });\n        break;\n      case n.EventType.EXPORTED:\n        window.clearTimeout(s.notifyTimer), s.notifyTimer = window.setTimeout(function () {\n          i.emit.call(i.domElement, c, {\n            exports: i.exports\n          });\n        }, s.configuration.processDelay);\n        break;\n      case n.EventType.SUPPORTED_IMPORT_MIMETYPES:\n        i.emit.call(i.domElement, c, {\n          mimeTypes: i.supportedImportMimeTypes\n        });\n        break;\n      case n.EventType.ERROR:\n        i.emit.call(i.domElement, c, a);\n        break;\n      case n.EventType.IDLE:\n        i.emit.call(i.domElement, c, {\n          idle: i.idle\n        });\n        break;\n      default:\n        d.debug(\"No valid trigger configured for \".concat(c));\n    }\n  });\n}\nfunction manageRecognizedModel(i, a) {\n  for (var s = i, c = a, l = arguments.length, u = new Array(l > 2 ? l - 2 : 0), p = 2; p < l; p++) u[p - 2] = arguments[p];\n  d.debug(\"model changed callback on \".concat(u, \" event(s)\"), a), c.creationTime === i.model.creationTime && (c.rawStrokes.length === i.model.rawStrokes.length && c.lastPositions.lastSentPosition >= i.model.lastPositions.lastReceivedPosition ? (s.model = mergeModels(s.model, c), (needRedraw(s.model) || u.includes(n.EventType.RENDERED)) && i.renderer.drawModel(i.rendererContext, s.model, i.stroker)) : (s.model = c, i.renderer.drawModel(i.rendererContext, s.model, i.stroker)), emitEvents.apply(void 0, [i, void 0].concat(u))), \"TEXT\" === i.configuration.recognitionParams.type && \"REST\" !== i.configuration.recognitionParams.protocol && i.configuration.recognitionParams.iink.text.mimeTypes.includes(n.Exports.JIIX) && i.configuration.recognitionParams.iink.text.smartGuide && (s.smartGuide = launchSmartGuide(i.smartGuide, c.exports)), extractPendingStrokes(a).length > 0 && !i.recognizer.addStrokes && i.configuration.triggers.exportContent !== n.Trigger.DEMAND && launchExport(i, a);\n}\nfunction handleError(i, a) {\n  var s = i;\n  if (\"close\" !== a.type && d.error(\"Error while firing the recognition\", a.stack || a), \"Invalid application key.\" === a.message || \"Invalid HMAC\" === a.message || a.error && a.error.result && a.error.result.error && (\"InvalidApplicationKeyException\" === a.error.result.error || \"InvalidHMACSignatureException\" === a.error.result.error) || a.code && \"access.not.granted\" === a.code ? s.error.innerText = n.Error.WRONG_CREDENTIALS : \"Session is too old. Max Session Duration Reached.\" === a.message || a.code && \"session.too.old\" === a.code ? s.error.innerText = n.Error.TOO_OLD : 1006 !== a.code && 1e3 !== a.code || \"none\" !== s.error.style.display || (s.error.innerText = n.Error.NOT_REACHABLE), s.error.innerText !== n.Error.TOO_OLD && \"CLOSE_RECOGNIZER\" !== a.reason || !canReconnect(i.recognizerContext)) {\n    s.loader.style.display = \"none\", s.error.style.display = \"initial\";\n    for (var c = arguments.length, l = new Array(c > 2 ? c - 2 : 0), u = 2; u < c; u++) l[u - 2] = arguments[u];\n    emitEvents.apply(void 0, [i, a, n.EventType.ERROR].concat(l));\n  } else d.info(\"Reconnection is available\", a.stack || a), s.error.style.display = \"none\";\n}\nfunction handleSuccess(n, i) {\n  for (var a = arguments.length, s = new Array(a > 2 ? a - 2 : 0), c = 2; c < a; c++) s[c - 2] = arguments[c];\n  var l = n;\n  n.undoRedoManager.updateModel ? n.undoRedoManager.updateModel(n.undoRedoContext, i).then(function (n) {\n    var i = n.res,\n      a = n.types;\n    manageRecognizedModel.apply(void 0, [l, i].concat(I([].concat(s, I(a)).filter(function (n, i, a) {\n      return i === a.indexOf(n);\n    }))));\n  }) : (\"initial\" === l.error.style.display && (l.error.style.display = \"none\"), manageRecognizedModel.apply(void 0, [l, i].concat(s)));\n}\nfunction clear(i, a) {\n  var s = clearModel(a);\n  d.debug(\"Updated model\", s);\n  var c = updateRecognitionPositions(i, s.lastPositions);\n  return delete c.instanceId, d.debug(\"Updated recognizer context\", c), Promise.resolve({\n    err: void 0,\n    res: s,\n    events: [n.EventType.CHANGED, n.EventType.EXPORTED, n.EventType.RENDERED]\n  });\n}\nvar Ee = {\n  types: [n.RecognitionType.TEXT, n.RecognitionType.DIAGRAM, n.RecognitionType.MATH, n.RecognitionType.RAWCONTENT],\n  protocol: n.Protocol.REST,\n  availableTriggers: {\n    exportContent: [n.Trigger.QUIET_PERIOD, n.Trigger.DEMAND]\n  }\n};\nfunction postMessage(n, i, a, s) {\n  var c = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : \"\",\n    l = arguments.length > 5 ? arguments[5] : void 0,\n    u = i.editor.configuration;\n  return post(i, \"\".concat(u.recognitionParams.server.scheme, \"://\").concat(u.recognitionParams.server.host).concat(n), s(i, a, c), \"V4\", l).then(function (n) {\n    d.debug(\"iinkRestRecognizer success\", n);\n    var a = i.lastPositions;\n    a.lastReceivedPosition = a.lastSentPosition;\n    var s = updateRecognitionPositions(i, a);\n    return n.instanceId && (s.instanceId = n.instanceId), n;\n  });\n}\nfunction buildData(n, i, a) {\n  var s,\n    c = n.editor.configuration;\n  \"TEXT\" === c.recognitionParams.type ? s = function buildTextConf(n) {\n    return {\n      text: n.recognitionParams.iink.text,\n      lang: n.recognitionParams.iink.lang,\n      export: n.recognitionParams.iink.export\n    };\n  }(c) : \"MATH\" === c.recognitionParams.type ? s = function buildMathConf(n) {\n    return {\n      math: n.recognitionParams.iink.math,\n      lang: n.recognitionParams.iink.lang,\n      export: n.recognitionParams.iink.export\n    };\n  }(c) : \"DIAGRAM\" === c.recognitionParams.type ? s = function buildDiagramConf(n) {\n    return {\n      diagram: n.recognitionParams.iink.diagram,\n      lang: n.recognitionParams.iink.lang,\n      export: n.recognitionParams.iink.export\n    };\n  }(c) : \"Raw Content\" === c.recognitionParams.type && (s = function buildRawContentConf(n) {\n    return {\n      \"raw-content\": {\n        recognition: n.recognitionParams.iink[\"raw-content\"].recognition\n      },\n      lang: n.recognitionParams.iink.lang,\n      export: n.recognitionParams.iink.export\n    };\n  }(c));\n  var l = [];\n  i.strokeGroups.forEach(function (n) {\n    var i = {\n      penStyle: \"{}\" === JSON.stringify(n.penStyle) ? null : toCSS(n.penStyle),\n      strokes: n.strokes.map(function (n) {\n        return function toJSON(n) {\n          return {\n            x: n.x,\n            y: n.y,\n            t: n.t\n          };\n        }(n);\n      })\n    };\n    l.push(i);\n  });\n  var u = {\n    configuration: s,\n    xDPI: 96,\n    yDPI: 96,\n    contentType: \"Raw Content\" === c.recognitionParams.type ? \"Raw Content\" : c.recognitionParams.type.charAt(0).toUpperCase() + c.recognitionParams.type.slice(1).toLowerCase(),\n    theme: toCSS$1(n.editor.theme),\n    strokeGroups: l\n  };\n  return n.editor.domElement && (u.height = n.editor.domElement.clientHeight, u.width = n.editor.domElement.clientWidth), a && (u.conversionState = \"DIGITAL_EDIT\"), updateModelSentPosition(i), u;\n}\nfunction extractExports(n, i, a) {\n  var s = {};\n  return s[i] = a, s;\n}\nfunction resultCallback(i, a, s, c, l) {\n  d.debug(\"iinkRestRecognizer result callback\", a);\n  var u = updateModelReceivedPosition(a);\n  u.rawResults.exports = c, u.exports ? Object.assign(u.exports, extractExports(0, l, c)) : u.exports = extractExports(0, l, c), d.debug(\"iinkRestRecognizer model updated\", u), i.editor.undoRedoManager && handleSuccess(i.editor, u, n.EventType.EXPORTED, n.EventType.IDLE);\n}\nvar _e = Object.freeze({\n  __proto__: null,\n  iinkRestConfiguration: Ee,\n  getInfo: function getInfo$4() {\n    return Ee;\n  },\n  postMessage: postMessage,\n  export_: function export_(n, i, a) {\n    var s = n.editor.configuration;\n    function callPostMessage(a) {\n      return postMessage(\"/api/v4.0/iink/batch\", n, i, buildData, s.restConversionState, a).then(function (s) {\n        return resultCallback(n, i, 0, s, a), i;\n      }).catch(function (i) {\n        return handleError(n.editor, i), i;\n      });\n    }\n    return a ? Promise.all(a.map(function (n) {\n      return callPostMessage(n);\n    })) : \"TEXT\" === s.recognitionParams.type ? Promise.all(s.recognitionParams.iink.text.mimeTypes.map(function (n) {\n      return callPostMessage(n);\n    })) : \"DIAGRAM\" === s.recognitionParams.type ? Promise.all(s.recognitionParams.iink.diagram.mimeTypes.map(function (n) {\n      return callPostMessage(n);\n    })) : \"MATH\" === s.recognitionParams.type ? Promise.all(s.recognitionParams.iink.math.mimeTypes.map(function (n) {\n      return callPostMessage(n);\n    })) : \"Raw Content\" === s.recognitionParams.type ? Promise.all(s.recognitionParams.iink[\"raw-content\"].mimeTypes.map(function (n) {\n      return callPostMessage(n);\n    })) : Promise.reject(new Error(\"Export failed\"));\n  },\n  convert: function convert(n, i) {\n    var a = n.editor.configuration;\n    postMessage(\"/api/v4.0/iink/batch\", n, i, buildData, \"DIGITAL_EDIT\").then(function (n) {\n      return resultCallback(i, a);\n    }).catch(function (i) {\n      return handleError(n.editor, i);\n    });\n  },\n  init: function init(i, a) {\n    var s = resetModelPositions(a);\n    d.debug(\"Updated model\", s);\n    var c = updateRecognitionPositions(i, s.lastPositions);\n    return c.initPromise = Promise.resolve(s), c.initPromise.then(function (i) {\n      return c.initialized = !0, d.debug(\"Updated recognizer context\", c), handleSuccess(c.editor, i, n.EventType.LOADED), i;\n    });\n  },\n  close: function close(n, i) {\n    var a = n;\n    return a.initialized = !1, delete a.instanceId, Promise.resolve(i);\n  },\n  clear: clear,\n  reset: function reset(n, i) {\n    var a = resetModelPositions(i);\n    d.debug(\"Updated model\", a);\n    var s = updateRecognitionPositions(n, a.lastPositions);\n    return delete s.instanceId, d.debug(\"Updated recognizer context\", s), Promise.resolve({\n      res: a\n    });\n  }\n});\nvar Se = function _arrayWithHoles(n) {\n  if (Array.isArray(n)) return n;\n};\nvar ke = function _iterableToArrayLimit(n, i) {\n  if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(n)) {\n    var a = [],\n      s = !0,\n      c = !1,\n      l = void 0;\n    try {\n      for (var u, d = n[Symbol.iterator](); !(s = (u = d.next()).done) && (a.push(u.value), !i || a.length !== i); s = !0);\n    } catch (n) {\n      c = !0, l = n;\n    } finally {\n      try {\n        s || null == d.return || d.return();\n      } finally {\n        if (c) throw l;\n      }\n    }\n    return a;\n  }\n};\nvar Ce = function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n};\nvar Pe = function _slicedToArray(n, i) {\n  return Se(n) || ke(n, i) || P(n, i) || Ce();\n};\nfunction UUIDjs() {}\nfunction getRandomInt(n, i) {\n  return Math.floor(Math.random() * (i - n + 1)) + n;\n}\nUUIDjs.maxFromBits = function (n) {\n  return Math.pow(2, n);\n}, UUIDjs.limitUI04 = UUIDjs.maxFromBits(4), UUIDjs.limitUI06 = UUIDjs.maxFromBits(6), UUIDjs.limitUI08 = UUIDjs.maxFromBits(8), UUIDjs.limitUI12 = UUIDjs.maxFromBits(12), UUIDjs.limitUI14 = UUIDjs.maxFromBits(14), UUIDjs.limitUI16 = UUIDjs.maxFromBits(16), UUIDjs.limitUI32 = UUIDjs.maxFromBits(32), UUIDjs.limitUI40 = UUIDjs.maxFromBits(40), UUIDjs.limitUI48 = UUIDjs.maxFromBits(48), UUIDjs.randomUI04 = function () {\n  return getRandomInt(0, UUIDjs.limitUI04 - 1);\n}, UUIDjs.randomUI06 = function () {\n  return getRandomInt(0, UUIDjs.limitUI06 - 1);\n}, UUIDjs.randomUI08 = function () {\n  return getRandomInt(0, UUIDjs.limitUI08 - 1);\n}, UUIDjs.randomUI12 = function () {\n  return getRandomInt(0, UUIDjs.limitUI12 - 1);\n}, UUIDjs.randomUI14 = function () {\n  return getRandomInt(0, UUIDjs.limitUI14 - 1);\n}, UUIDjs.randomUI16 = function () {\n  return getRandomInt(0, UUIDjs.limitUI16 - 1);\n}, UUIDjs.randomUI32 = function () {\n  return getRandomInt(0, UUIDjs.limitUI32 - 1);\n}, UUIDjs.randomUI40 = function () {\n  return (0 | Math.random() * (1 << 30)) + (0 | 1024 * Math.random()) * (1 << 30);\n}, UUIDjs.randomUI48 = function () {\n  return (0 | Math.random() * (1 << 30)) + (0 | Math.random() * (1 << 18)) * (1 << 30);\n}, UUIDjs.paddedString = function (n, i, a) {\n  a = a || \"0\";\n  for (var s = i - (n = String(n)).length; s > 0; s >>>= 1, a += a) 1 & s && (n = a + n);\n  return n;\n}, UUIDjs.prototype.fromParts = function (n, i, a, s, c, l) {\n  return this.version = a >> 12 & 15, this.hex = UUIDjs.paddedString(n.toString(16), 8) + \"-\" + UUIDjs.paddedString(i.toString(16), 4) + \"-\" + UUIDjs.paddedString(a.toString(16), 4) + \"-\" + UUIDjs.paddedString(s.toString(16), 2) + UUIDjs.paddedString(c.toString(16), 2) + \"-\" + UUIDjs.paddedString(l.toString(16), 12), this;\n}, UUIDjs.prototype.toString = function () {\n  return this.hex;\n}, UUIDjs.prototype.toURN = function () {\n  return \"urn:uuid:\" + this.hex;\n}, UUIDjs.prototype.toBytes = function () {\n  for (var n = this.hex.split(\"-\"), i = [], a = 0, s = 0; s < n.length; s++) for (var c = 0; c < n[s].length; c += 2) i[a++] = parseInt(n[s].substr(c, 2), 16);\n  return i;\n}, UUIDjs.prototype.equals = function (n) {\n  return n instanceof UUID && this.hex === n.hex;\n}, UUIDjs.getTimeFieldValues = function (n) {\n  var i = n - Date.UTC(1582, 9, 15),\n    a = i / 4294967296 * 1e4 & 268435455;\n  return {\n    low: 1e4 * (268435455 & i) % 4294967296,\n    mid: 65535 & a,\n    hi: a >>> 16,\n    timestamp: i\n  };\n}, UUIDjs._create4 = function () {\n  return new UUIDjs().fromParts(UUIDjs.randomUI32(), UUIDjs.randomUI16(), 16384 | UUIDjs.randomUI12(), 128 | UUIDjs.randomUI06(), UUIDjs.randomUI08(), UUIDjs.randomUI48());\n}, UUIDjs._create1 = function () {\n  var n = new Date().getTime(),\n    i = UUIDjs.randomUI14(),\n    a = 1099511627776 * (1 | UUIDjs.randomUI08()) + UUIDjs.randomUI40(),\n    s = UUIDjs.randomUI04(),\n    c = 0;\n  n != c ? (n < c && i++, c = n, s = UUIDjs.randomUI04()) : Math.random() < 1 / 4 && s < 9984 ? s += 1 + UUIDjs.randomUI04() : i++;\n  var l = UUIDjs.getTimeFieldValues(c),\n    u = l.low + s,\n    d = 4095 & l.hi | 4096,\n    p = (i &= 16383) >>> 8 | 128,\n    h = 255 & i;\n  return new UUIDjs().fromParts(u, l.mid, d, p, h, a);\n}, UUIDjs.create = function (n) {\n  return this[\"_create\" + (n = n || 4)]();\n}, UUIDjs.fromTime = function (n, i) {\n  i = i || !1;\n  var a = UUIDjs.getTimeFieldValues(n),\n    s = a.low,\n    c = 4095 & a.hi | 4096;\n  return !1 === i ? new UUIDjs().fromParts(s, a.mid, c, 0, 0, 0) : new UUIDjs().fromParts(s, a.mid, c, 128 | UUIDjs.limitUI06, UUIDjs.limitUI08 - 1, UUIDjs.limitUI48 - 1);\n}, UUIDjs.firstFromTime = function (n) {\n  return UUIDjs.fromTime(n, !1);\n}, UUIDjs.lastFromTime = function (n) {\n  return UUIDjs.fromTime(n, !0);\n}, UUIDjs.fromURN = function (n) {\n  var i;\n  return (i = /^(?:urn:uuid:|\\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\\})?$/i.exec(n)) ? new UUIDjs().fromParts(parseInt(i[1], 16), parseInt(i[2], 16), parseInt(i[3], 16), parseInt(i[4], 16), parseInt(i[5], 16), parseInt(i[6], 16)) : null;\n}, UUIDjs.fromBytes = function (n) {\n  if (n.length < 5) return null;\n  for (var i = \"\", a = 0, s = [4, 2, 2, 2, 6], c = 0; c < s.length; c++) {\n    for (var l = 0; l < s[c]; l++) {\n      var u = n[a++].toString(16);\n      1 == u.length && (u = \"0\" + u), i += u;\n    }\n    6 !== s[c] && (i += \"-\");\n  }\n  return UUIDjs.fromURN(i);\n}, UUIDjs.fromBinary = function (n) {\n  for (var i = [], a = 0; a < n.length; a++) if (i[a] = n.charCodeAt(a), i[a] > 255 || i[a] < 0) throw new Error(\"Unexpected byte in binary data.\");\n  return UUIDjs.fromBytes(i);\n}, UUIDjs.new = function () {\n  return this.create(4);\n}, UUIDjs.newTS = function () {\n  return this.create(1);\n};\nvar Te = UUIDjs;\nfunction openWebSocket(n) {\n  var i;\n  try {\n    i = new WebSocket(n.url);\n  } catch (n) {\n    d.error(\"Unable to open websocket, Check the host and your connectivity\");\n  }\n  return function addWebsocketAttributes(n, i) {\n    var a = i.editor.configuration.recognitionParams.server.websocket,\n      s = n;\n    s.start = new Date(), s.autoReconnect = a.autoReconnect, s.maxRetryCount = a.maxRetryCount, s.pingEnabled = a.pingEnabled, s.pingDelay = a.pingDelay, s.maxPingLost = a.maxPingLostCount, s.pingLostCount = 0, s.recognizerContext = i;\n  }(i, n), i.pingEnabled && function infinitePing(n) {\n    var i = n;\n    i.pingLostCount++, i.pingLostCount > i.maxPingLost ? n.close(1e3, \"PING_LOST\") : i.readyState <= 1 && setTimeout(function () {\n      i.readyState <= 1 && (i.send(JSON.stringify({\n        type: \"ping\"\n      })), infinitePing(i));\n    }, i.pingDelay);\n  }(i), i.onopen = function (i) {\n    d.trace(\"onOpen\"), n.websocketCallback(i);\n  }, i.onclose = function (a) {\n    d.trace(\"onClose\", new Date() - i.start), n.websocketCallback(a);\n  }, i.onerror = function (i) {\n    d.trace(\"onError\"), n.websocketCallback(i);\n  }, i.onmessage = function (a) {\n    if (d.trace(\"onMessage\"), i.pingLostCount = 0, \"pong\" !== JSON.parse(a.data).type) {\n      var s = {\n        type: a.type,\n        data: JSON.parse(a.data)\n      };\n      n.websocketCallback(s);\n    }\n  }, i;\n}\nfunction send(n, i) {\n  var a = n;\n  a.idle = !1;\n  var s = a.websocket;\n  if (1 !== s.readyState) throw Y;\n  s.send(JSON.stringify(i)), d.debug(\"\".concat(i.type, \" message sent\"), i);\n}\nfunction buildWebSocketCallback(n) {\n  return function (i) {\n    var a = n;\n    d.trace(\"\".concat(i.type, \" websocket callback\"), i);\n    var s = n.recognitionContexts[n.recognitionContexts.length - 1];\n    switch (d.debug(\"Current recognition context\", s), i.type) {\n      case \"open\":\n        n.sessionId ? send(n, buildRestoreIInkSessionInput(n.editor.configuration, n.editor.domElement, n.sessionId)) : send(n, buildNewContentPackageInput(n.editor.configuration, n.editor.domElement));\n        break;\n      case \"message\":\n        switch (d.debug(\"Receiving \".concat(i.data.type, \" message\"), i), i.data.type) {\n          case \"ack\":\n            i.data.hmacChallenge && send(n, function buildHmacMessage(n, i) {\n              return {\n                type: \"hmac\",\n                hmac: computeHmac(i.data.hmacChallenge, n.recognitionParams.server.applicationKey, n.recognitionParams.server.hmacKey)\n              };\n            }(n.editor.configuration, i)), i.data.iinkSessionId && (a.sessionId = i.data.iinkSessionId);\n            break;\n          case \"newPart\":\n            break;\n          case \"contentPackageDescription\":\n            a.currentReconnectionCount = 0, a.contentPartCount = i.data.contentPartCount, send(n, buildConfiguration(n.editor.configuration)), a.currentPartId ? send(n, buildOpenContentPart(n.editor.configuration, n.currentPartId)) : send(n, buildNewContentPart(n.editor.configuration));\n            break;\n          case \"partChanged\":\n            i.data.partId && (a.currentPartId = i.data.partId), a.initialized = !0, send(n, buildSetTheme(n.editor.theme)), send(n, buildSetPenStyle(n.editor.penStyle)), send(n, buildSetPenStyleClasses(n.editor.penStyleClasses)), s.partChange ? s.partChange.resolve([void 0, i.data]) : s.error(i);\n            break;\n          case \"contentChanged\":\n            void 0 !== i.data.canUndo && (a.canUndo = i.data.canUndo), void 0 !== i.data.canRedo && (a.canRedo = i.data.canRedo), void 0 !== i.data.empty && (a.isEmpty = i.data.empty), void 0 !== i.data.possibleUndoCount && (a.possibleUndoCount = i.data.possibleUndoCount), void 0 !== i.data.undoStackIndex && (a.undoStackIndex = i.data.undoStackIndex), s.contentChange.resolve([void 0, i.data]);\n            break;\n          case \"exported\":\n            s.response.resolve([void 0, i.data]);\n            break;\n          case \"svgPatch\":\n            s.patch(void 0, i.data);\n            break;\n          case \"supportedImportMimeTypes\":\n            a.supportedImportMimeTypes = i.data.mimeTypes, s.response.resolve([void 0, i.data]);\n            break;\n          case \"fileChunkAck\":\n            s.response.resolve([void 0, i.data]);\n            break;\n          case \"idle\":\n            a.idle = !0, s.patch(void 0, i.data);\n            break;\n          case \"error\":\n            if (d.debug(\"Error detected stopping all recognition\", i), s) {\n              var c = function func() {};\n              s.patch ? c = s.patch : s.response && (c = s.response), c(i.data);\n            } else s.initPromise.reject(Object.assign({}, i.data, {\n              recoverable: !1\n            }));\n            break;\n          default:\n            d.warn(\"This is something unexpected in current recognizer. Not the type of message we should have here.\", i);\n        }\n        break;\n      case \"error\":\n        if (d.debug(\"Error detected stopping all recognition\", i), s) {\n          var l = function _func() {};\n          s.patch ? l = s.patch : s.response && (l = s.response), l(Object.assign({}, i, {\n            recoverable: !1\n          }));\n        } else s.initPromise.reject(Object.assign({}, i, {\n          recoverable: !1\n        }));\n        break;\n      case \"close\":\n        d.debug(\"Close detected stopping all recognition\", i), a.initialized = !1, s ? s.error(i) : s.initPromise.reject(i);\n        break;\n      default:\n        d.warn(\"This is something unexpected in current recognizer. Not the type of message we should have here.\", i);\n    }\n  };\n}\nfunction init$1(n, i, a, s) {\n  var c = i.recognitionContexts[0],\n    l = updateRecognitionPositions(i, c.model.lastPositions);\n  return l.url = function buildUrl(n, i) {\n    var a = \"https\" === n.recognitionParams.server.scheme ? \"wss\" : \"ws\";\n    return \"\".concat(a, \"://\").concat(n.recognitionParams.server.host).concat(i);\n  }(i.editor.configuration, n), l.reconnect = s, l.initPromise = c.initPromise.promise, d.debug(\"Opening the websocket for context \", i), l.websocketCallback = a(l), l.websocket = openWebSocket(l), l.initPromise;\n}\nfunction retry(n, i, a, s) {\n  return _retry.apply(this, arguments);\n}\nfunction _retry() {\n  return (_retry = ye(ge.mark(function _callee(n, i, a, s) {\n    var c,\n      l,\n      u,\n      p = arguments;\n    return ge.wrap(function _callee$(h) {\n      for (;;) switch (h.prev = h.next) {\n        case 0:\n          for (c = p.length, l = new Array(c > 4 ? c - 4 : 0), u = 4; u < c; u++) l[u - 4] = p[u];\n          if (!shouldAttemptImmediateReconnect(i) || !i.reconnect) {\n            h.next = 8;\n            break;\n          }\n          return d.info(\"Attempting a retry\", i.currentReconnectionCount), h.next = 5, i.reconnect(i, a).catch(function (c) {\n            d.error(\"Failed retry\", c), retry.apply(void 0, [n, i, a, s].concat(l));\n          });\n        case 5:\n          return h.abrupt(\"return\", n.apply(void 0, [i, a, s].concat(l)));\n        case 8:\n          Re(a, \"Unable to reconnect\");\n        case 9:\n        case \"end\":\n          return h.stop();\n      }\n    }, _callee);\n  }))).apply(this, arguments);\n}\nfunction sendMessage(n, i) {\n  for (var a = arguments.length, s = new Array(a > 2 ? a - 2 : 0), c = 2; c < a; c++) s[c - 2] = arguments[c];\n  return n.initPromise.then(function () {\n    d.trace(\"Init was done. Sending message\");\n    var a = i.apply(void 0, s);\n    if (a) {\n      send(n, a);\n      var c = n.recognitionContexts[0].model.lastPositions;\n      c && updateRecognitionPositions(n, c);\n    } else d.warn(\"empty message\");\n  });\n}\nfunction close$2(n, i) {\n  var a = destructurePromise(),\n    s = n,\n    c = {\n      model: i,\n      initPromise: a,\n      error: function error(n, a) {\n        return Re(i, n, a, s);\n      }\n    };\n  return n.initPromise.then(function () {\n    return s.recognitionContexts[0] = c, s;\n  }).then(function (n) {\n    return function close$1(n, i, a) {\n      var s = n.websocket;\n      s && s.readyState < 2 && s.close(i, a);\n    }(n, 1e3, \"CLOSE_RECOGNIZER\"), c.model;\n  });\n}\nvar Ie = Object.freeze({\n  __proto__: null,\n  init: init$1,\n  retry: retry,\n  sendMessage: sendMessage,\n  clear: function clear$1(n, i, a) {\n    var s = clearModel(i),\n      c = updateRecognitionPositions(n, s.lastPositions);\n    if (c && c.websocket) {\n      delete c.instanceId;\n      try {\n        send(c, {\n          type: \"reset\"\n        });\n      } catch (n) {\n        c.websocketCallback(destructurePromise(), c, i);\n      }\n    }\n    a(void 0, s);\n  },\n  close: close$2\n});\nvar Me = {\n  types: [n.RecognitionType.MATH, n.RecognitionType.TEXT, n.RecognitionType.DIAGRAM, n.RecognitionType.NEBO],\n  protocol: n.Protocol.WEBSOCKET,\n  availableTriggers: {\n    exportContent: [n.Trigger.POINTER_UP, n.Trigger.DEMAND],\n    addStrokes: [n.Trigger.POINTER_UP]\n  }\n};\nfunction buildNewContentPackageInput(n, i) {\n  return {\n    type: \"newContentPackage\",\n    applicationKey: n.recognitionParams.server.applicationKey,\n    xDpi: 96,\n    yDpi: 96,\n    viewSizeHeight: i.clientHeight < n.renderingParams.minHeight ? n.renderingParams.minHeight : i.clientHeight,\n    viewSizeWidth: i.clientWidth < n.renderingParams.minWidth ? n.renderingParams.minWidth : i.clientWidth\n  };\n}\nfunction buildRestoreIInkSessionInput(n, i, a) {\n  return {\n    type: \"restoreIInkSession\",\n    iinkSessionId: a,\n    applicationKey: n.recognitionParams.server.applicationKey,\n    xDpi: 96,\n    yDpi: 96,\n    viewSizeHeight: i.clientHeight < n.renderingParams.minHeight ? n.renderingParams.minHeight : i.clientHeight,\n    viewSizeWidth: i.clientWidth < n.renderingParams.minWidth ? n.renderingParams.minWidth : i.clientWidth\n  };\n}\nfunction buildNewContentPart(i) {\n  return {\n    type: \"newContentPart\",\n    contentType: i.recognitionParams.type,\n    mimeTypes: i.triggers.exportContent !== n.Trigger.DEMAND ? i.recognitionParams.iink[\"\".concat(i.recognitionParams.type.toLowerCase())].mimeTypes : void 0\n  };\n}\nfunction buildOpenContentPart(i, a) {\n  return {\n    type: \"openContentPart\",\n    id: a,\n    mimeTypes: i.triggers.exportContent !== n.Trigger.DEMAND ? i.recognitionParams.iink[\"\".concat(i.recognitionParams.type.toLowerCase())].mimeTypes : void 0\n  };\n}\nfunction buildConfiguration(n) {\n  return Object.assign({\n    type: \"configuration\"\n  }, n.recognitionParams.iink);\n}\nfunction buildAddStrokes(n, i) {\n  var a = extractPendingStrokes(i, n.lastPositions.lastSentPosition + 1);\n  if (a.length > 0) return updateModelSentPosition(i), {\n    type: \"addStrokes\",\n    strokes: a.map(function (n) {\n      return Object.assign({}, {\n        id: n.id,\n        pointerType: n.pointerType,\n        pointerId: n.pointerId,\n        x: n.x,\n        y: n.y,\n        t: n.t,\n        p: n.p\n      });\n    })\n  };\n}\nfunction buildUndo() {\n  return {\n    type: \"undo\"\n  };\n}\nfunction buildRedo() {\n  return {\n    type: \"redo\"\n  };\n}\nfunction buildClear() {\n  return {\n    type: \"clear\"\n  };\n}\nfunction buildConvert(n) {\n  return {\n    type: \"convert\",\n    conversionState: n\n  };\n}\nfunction buildZoom(n) {\n  return {\n    type: \"zoom\",\n    zoom: n\n  };\n}\nfunction buildResize(n) {\n  var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,\n    a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;\n  return {\n    type: \"changeViewSize\",\n    height: n.clientHeight < i ? i : n.clientHeight,\n    width: n.clientWidth < a ? a : n.clientWidth\n  };\n}\nfunction buildExport(n, i, a) {\n  return {\n    type: \"export\",\n    partId: i,\n    mimeTypes: a && 0 !== Object.keys(a).length ? a : n.recognitionParams.iink[\"\".concat(n.recognitionParams.type.toLowerCase())].mimeTypes\n  };\n}\nfunction buildImportFile(n, i) {\n  return {\n    type: \"importFile\",\n    importFileId: n,\n    mimeType: i\n  };\n}\nfunction buildImportChunk(n, i, a) {\n  return {\n    type: \"fileChunk\",\n    importFileId: n,\n    data: i,\n    lastChunk: a\n  };\n}\nfunction buildPointerEvents(n) {\n  return Object.assign({\n    type: \"pointerEvents\"\n  }, n);\n}\nfunction buildWaitForIdle() {\n  return {\n    type: \"waitForIdle\"\n  };\n}\nfunction buildGetSupportedImportMimeTypes() {\n  return {\n    type: \"getSupportedImportMimeTypes\"\n  };\n}\nfunction buildSetPenStyle(n) {\n  return {\n    type: \"setPenStyle\",\n    style: n ? toCSS(n) : \"\"\n  };\n}\nfunction buildSetPenStyleClasses(n) {\n  return {\n    type: \"setPenStyleClasses\",\n    styleClasses: n\n  };\n}\nfunction buildSetTheme(n) {\n  return {\n    type: \"setTheme\",\n    theme: toCSS$1(n)\n  };\n}\nvar Re = function responseCallback(i, a, s, c) {\n  var l = updateModelReceivedPosition(i);\n  if (s) {\n    var u = \"\";\n    return void 0 !== s.updates && (l.recognizedSymbols ? l.recognizedSymbols.push(s) : l.recognizedSymbols = [s], u = n.EventType.RENDERED), void 0 !== s.exports && (l.rawResults.exports = s, l.exports = s.exports, u = n.EventType.EXPORTED), void 0 === s.canUndo && void 0 === s.canRedo || (u = n.EventType.CHANGED), \"supportedImportMimeTypes\" === s.type && (u = n.EventType.SUPPORTED_IMPORT_MIMETYPES), \"partChanged\" === s.type && (u = n.EventType.LOADED), \"idle\" === s.type && (u = n.EventType.IDLE), \"close\" === s.type && (u = n.EventType.CHANGED), handleSuccess(c.editor, i, u);\n  }\n  return handleError(c.editor, a);\n};\nfunction init$2(n, i) {\n  return _init.apply(this, arguments);\n}\nfunction _init() {\n  return (_init = ye(ge.mark(function _callee2(n, i) {\n    var a, s, c, l, u, p, h, f, g, m, v, y, b, x;\n    return ge.wrap(function _callee2$(w) {\n      for (;;) switch (w.prev = w.next) {\n        case 0:\n          return a = destructurePromise(), s = destructurePromise(), c = destructurePromise(), l = destructurePromise(), p = null, \"MATH\" === n.editor.innerConfiguration.recognitionParams.type || \"DIAGRAM\" === n.editor.innerConfiguration.recognitionParams.type ? u = setRecognitionContext(n, {\n            model: updateModelSentPosition(i, i.lastPositions.lastReceivedPosition),\n            partChange: s,\n            initPromise: l,\n            patch: function patch(n, a) {\n              return Re(i, n, a, u);\n            },\n            error: function error(n, a) {\n              return Re(i, n, a, u);\n            }\n          }) : (u = setRecognitionContext(n, {\n            model: updateModelSentPosition(i, i.lastPositions.lastReceivedPosition),\n            contentChange: a,\n            partChange: s,\n            response: c,\n            initPromise: l,\n            patch: function patch(n, a) {\n              return Re(i, n, a, u);\n            },\n            error: function error(n, a) {\n              return Re(i, n, a, u);\n            }\n          }), p = u.recognitionContexts[0].contentChange.promise), init$1(\"/api/v4.0/iink/document\", u, buildWebSocketCallback, init$2).catch(function () {\n            var a = ye(ge.mark(function _callee(a) {\n              return ge.wrap(function _callee$(s) {\n                for (;;) switch (s.prev = s.next) {\n                  case 0:\n                    if (!shouldAttemptImmediateReconnect(n) || !n.reconnect) {\n                      s.next = 6;\n                      break;\n                    }\n                    return d.info(\"Attempting a reconnect\", n.currentReconnectionCount), s.next = 4, n.reconnect(n, i);\n                  case 4:\n                    s.next = 8;\n                    break;\n                  case 6:\n                    d.error(\"Unable to reconnect\", a), Re(i, a, void 0, n);\n                  case 8:\n                  case \"end\":\n                    return s.stop();\n                }\n              }, _callee);\n            }));\n            return function (n) {\n              return a.apply(this, arguments);\n            };\n          }()), w.next = 9, u.recognitionContexts[0].partChange.promise;\n        case 9:\n          if (h = w.sent, f = Pe(h, 2), g = f[0], !(m = f[1])) {\n            w.next = 24;\n            break;\n          }\n          if (Re(i, g, m, n), null === p) {\n            w.next = 23;\n            break;\n          }\n          return w.next = 18, p;\n        case 18:\n          v = w.sent, y = Pe(v, 2), b = y[0], (x = y[1]) && Re(i, b, x, n);\n        case 23:\n          u.recognitionContexts[0].initPromise.resolve(!0);\n        case 24:\n          return w.abrupt(\"return\", u.recognitionContexts[0].initPromise);\n        case 25:\n        case \"end\":\n          return w.stop();\n      }\n    }, _callee2);\n  }))).apply(this, arguments);\n}\nfunction _prepareMessage(n, i, a) {\n  return _prepareMessage2.apply(this, arguments);\n}\nfunction _prepareMessage2() {\n  return (_prepareMessage2 = ye(ge.mark(function _callee3(i, a, s) {\n    var c,\n      l,\n      u,\n      p,\n      h,\n      f,\n      g,\n      m,\n      v,\n      y = arguments;\n    return ge.wrap(function _callee3$(b) {\n      for (;;) switch (b.prev = b.next) {\n        case 0:\n          for (c = y.length, l = new Array(c > 3 ? c - 3 : 0), u = 3; u < c; u++) l[u - 3] = y[u];\n          if (d.info(\"-- Prepare message for \".concat(s.name, \" --\")), p = destructurePromise(), h = destructurePromise(), f = setRecognitionContext(i, {\n            model: a,\n            response: p,\n            contentChange: h,\n            patch: function patch(n, i) {\n              return Re(a, n, i, f);\n            },\n            error: function error(n, i) {\n              return Re(a, n, i, f);\n            }\n          }), sendMessage.apply(Ie, [f, s].concat(l)).catch(function (n) {\n            d.error(n), retry.apply(Ie, [_prepareMessage, i, a, s].concat(l));\n          }), (g = i.editor.configuration.triggers.exportContent === n.Trigger.DEMAND) && (!g || \"buildExport\" !== s.name)) {\n            b.next = 12;\n            break;\n          }\n          return b.next = 10, f.recognitionContexts[0].response.promise;\n        case 10:\n          (m = b.sent) && Re(a, m[0], m[1], f);\n        case 12:\n          return b.next = 14, f.recognitionContexts[0].contentChange.promise;\n        case 14:\n          if (!(v = b.sent)) {\n            b.next = 18;\n            break;\n          }\n          return Re(a, v[0], v[1], f), b.abrupt(\"return\", {\n            res: a,\n            types: []\n          });\n        case 18:\n          return b.abrupt(\"return\", null);\n        case 19:\n        case \"end\":\n          return b.stop();\n      }\n    }, _callee3);\n  }))).apply(this, arguments);\n}\nfunction clear$2(n, i) {\n  return _clear.apply(this, arguments);\n}\nfunction _clear() {\n  return (_clear = ye(ge.mark(function _callee5(i, a) {\n    var s, c, l, u, d;\n    return ge.wrap(function _callee5$(p) {\n      for (;;) switch (p.prev = p.next) {\n        case 0:\n          if (s = destructurePromise(), c = destructurePromise(), sendMessage(l = setRecognitionContext(i, {\n            model: a,\n            response: s,\n            contentChange: c,\n            patch: function () {\n              var n = ye(ge.mark(function _callee4(n, s) {\n                var c, u, d;\n                return ge.wrap(function _callee4$(n) {\n                  for (;;) switch (n.prev = n.next) {\n                    case 0:\n                      return n.next = 2, clear(i, a);\n                    case 2:\n                      c = n.sent, u = c.err, d = c.res, Re(d, u, s, l);\n                    case 6:\n                    case \"end\":\n                      return n.stop();\n                  }\n                }, _callee4);\n              }));\n              return function patch(i, a) {\n                return n.apply(this, arguments);\n              };\n            }()\n          }), buildClear).catch(function (n) {\n            return retry(clear$2, i, a);\n          }), i.editor.configuration.triggers.exportContent === n.Trigger.DEMAND) {\n            p.next = 9;\n            break;\n          }\n          return p.next = 7, l.recognitionContexts[0].response.promise;\n        case 7:\n          (u = p.sent) && Re(a, u[0], u[1], l);\n        case 9:\n          return p.next = 11, l.recognitionContexts[0].contentChange.promise;\n        case 11:\n          if (!(d = p.sent)) {\n            p.next = 15;\n            break;\n          }\n          return Re(a, d[0], d[1], l), p.abrupt(\"return\", {\n            err: void 0,\n            res: l.recognitionContexts[0].model,\n            events: []\n          });\n        case 15:\n          return p.abrupt(\"return\", null);\n        case 16:\n        case \"end\":\n          return p.stop();\n      }\n    }, _callee5);\n  }))).apply(this, arguments);\n}\nvar Le = Object.freeze({\n  __proto__: null,\n  IinkWsConfiguration: Me,\n  getInfo: function getInfo$5() {\n    return Me;\n  },\n  buildNewContentPackageInput: buildNewContentPackageInput,\n  buildRestoreIInkSessionInput: buildRestoreIInkSessionInput,\n  buildNewContentPart: buildNewContentPart,\n  buildOpenContentPart: buildOpenContentPart,\n  buildConfiguration: buildConfiguration,\n  buildSetPenStyle: buildSetPenStyle,\n  buildSetPenStyleClasses: buildSetPenStyleClasses,\n  buildSetTheme: buildSetTheme,\n  responseCallback: Re,\n  init: init$2,\n  newContentPart: function newContentPart(n, i) {\n    return _prepareMessage(n, i, buildNewContentPart, n.editor.configuration);\n  },\n  openContentPart: function openContentPart(n, i) {\n    return _prepareMessage(n, i, buildOpenContentPart, [n.editor.configuration, n.currentPartId]);\n  },\n  sendConfiguration: function sendConfiguration(n, i) {\n    return _prepareMessage(n, i, buildConfiguration, n.editor.configuration);\n  },\n  pointerEvents: function pointerEvents(n, i, a) {\n    return _prepareMessage(n, i, buildPointerEvents, a);\n  },\n  addStrokes: function addStrokes$1(n, i) {\n    var a = [n, i];\n    return _prepareMessage.apply(void 0, [n, i, buildAddStrokes].concat(a));\n  },\n  undo: function undo$1(n, i) {\n    return _prepareMessage(n, i, buildUndo);\n  },\n  redo: function redo$1(n, i) {\n    return _prepareMessage(n, i, buildRedo);\n  },\n  clear: clear$2,\n  convert: function convert$1(n, i, a) {\n    return _prepareMessage(n, i, buildConvert, a);\n  },\n  export_: function export_$1(n, i, a) {\n    var s = [n.editor.configuration, n.currentPartId, a];\n    return _prepareMessage.apply(void 0, [n, i, buildExport].concat(s));\n  },\n  import_: function import_(n, i, a) {\n    for (var s = {\n        model: i,\n        response: function response(a, s) {\n          return Re(i, a, s, n);\n        },\n        importFileId: Te.create(4).toString()\n      }, c = setRecognitionContext(n, s), l = n.editor.configuration.recognitionParams.server.websocket.fileChunkSize, u = [], d = function _loop(n) {\n        0 === n && u.push(_prepareMessage(c, i, buildImportFile, s.importFileId, a.type)), function readBlob(n) {\n          var i = this,\n            a = new FileReader();\n          return new Promise(function (s, c) {\n            a.onload = function (n) {\n              return s(n.target.result);\n            }, a.onerror = function () {\n              return c(new Error(i));\n            }, a.readAsText(n);\n          });\n        }(a.slice(n, l, a.type)).then(function (d) {\n          var p = [s.importFileId, d, n + l > a.size];\n          u.push(_prepareMessage.apply(void 0, [c, i, buildImportChunk].concat(p)));\n        });\n      }, p = 0; p < a.size; p += l) d(p);\n    return Promise.all(u);\n  },\n  getSupportedImportMimeTypes: function getSupportedImportMimeTypes(n, i) {\n    return _prepareMessage(n, i, buildGetSupportedImportMimeTypes);\n  },\n  waitForIdle: function waitForIdle(n, i) {\n    return _prepareMessage(n, i, buildWaitForIdle);\n  },\n  resize: function resize$3(n, i, a) {\n    var s = [a, n.editor.configuration.renderingParams.minHeight, n.editor.configuration.renderingParams.minWidth];\n    return _prepareMessage.apply(void 0, [n, i, buildResize].concat(s));\n  },\n  zoom: function zoom(n, i) {\n    var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 10;\n    return _prepareMessage(n, i, buildZoom, a);\n  },\n  setPenStyle: function setPenStyle$1(n, i, a) {\n    return _prepareMessage(n, i, buildSetPenStyle, a);\n  },\n  setPenStyleClasses: function setPenStyleClasses$1(n, i, a) {\n    return _prepareMessage(n, i, buildSetPenStyleClasses, a);\n  },\n  setTheme: function setTheme$1(n, i, a) {\n    return _prepareMessage(n, i, buildSetTheme, a);\n  },\n  close: close$2\n});\nvar Ae = {\n  grabber: _,\n  strokerList: [D, W],\n  rendererList: [A, N],\n  recognizerList: [_e, Le],\n  events: function emit(n, i) {\n    p.info(\"emitting \".concat(n, \" event\"), i), this.dispatchEvent(new CustomEvent(n, Object.assign({\n      bubbles: !0,\n      composed: !0\n    }, i ? {\n      detail: i\n    } : void 0)));\n  },\n  getBehaviorFromConfiguration: function getBehaviorFromConfiguration(n, i) {\n    var a = {};\n    return a.grabber = n.grabber, i && (\"REST\" === i.recognitionParams.protocol ? (a.stroker = D, a.renderer = A, a.recognizer = _e) : (a.stroker = W, a.renderer = N, a.recognizer = Le)), a.events = n.events, a;\n  }\n};\nfunction register(n, i, a, c, l) {\n  return s.debug(\"Registering a new editor\"), new we(n, i, a, c, l);\n}\nfunction getAvailableLanguageList(n) {\n  return _getAvailableLanguageList.apply(this, arguments);\n}\nfunction _getAvailableLanguageList() {\n  return (_getAvailableLanguageList = ye(ge.mark(function _callee(n) {\n    var i, a;\n    return ge.wrap(function _callee$(s) {\n      for (;;) switch (s.prev = s.next) {\n        case 0:\n          if (s.prev = 0, !(n && n.recognitionParams && n.recognitionParams.server && n.recognitionParams.server.host)) {\n            s.next = 10;\n            break;\n          }\n          return i = n.recognitionParams.server, s.next = 5, fetch(\"\".concat(i.scheme, \"://\").concat(i.host, \"/api/v4.0/iink/availableLanguageList\"));\n        case 5:\n          if (!(a = s.sent) || !a.ok) {\n            s.next = 8;\n            break;\n          }\n          return s.abrupt(\"return\", a.json());\n        case 8:\n          s.next = 11;\n          break;\n        case 10:\n          console.error(\"Cannot get languages ! Please check your configuration!\");\n        case 11:\n          s.next = 16;\n          break;\n        case 13:\n          s.prev = 13, s.t0 = s.catch(0), console.error(s.t0);\n        case 16:\n        case \"end\":\n          return s.stop();\n      }\n    }, _callee, null, [[0, 13]]);\n  }))).apply(this, arguments);\n}\nvar De = {\n  Constants: n,\n  DefaultConfiguration: f,\n  DefaultBehaviors: Ae,\n  DefaultPenStyle: void 0,\n  DefaultTheme: b,\n  register: register,\n  getAvailableLanguageList: getAvailableLanguageList,\n  LoggerConfig: a,\n  Editor: we,\n  InkModel: L,\n  RecognizerContext: $\n};\nexport default De;\nexport { n as Constants, Ae as DefaultBehaviors, f as DefaultConfiguration, v as DefaultPenStyle, b as DefaultTheme, we as Editor, L as InkModel, a as LoggerConfig, $ as RecognizerContext, getAvailableLanguageList, register };","map":{"version":3,"names":["n","EventType","IDLE","CHANGED","IMPORTED","EXPORTED","CONVERTED","RENDERED","LOADED","UNDO","REDO","CLEAR","IMPORT","SUPPORTED_IMPORT_MIMETYPES","EXPORT","CONVERT","ERROR","RecognitionType","TEXT","MATH","DIAGRAM","RAWCONTENT","Protocol","WEBSOCKET","REST","ModelState","INITIALIZING","INITIALIZED","EXPORTING","PENDING","MODIFIED","Trigger","QUIET_PERIOD","POINTER_UP","DEMAND","Logger","EDITOR","MODEL","GRABBER","RENDERER","RECOGNIZER","EVENT","UTIL","SMARTGUIDE","LogLevel","TRACE","DEBUG","INFO","WARN","Languages","zh_CN","zh_HK","zh_TW","ko_KR","ja_JP","hy_AM","default","Error","NOT_REACHABLE","WRONG_CREDENTIALS","TOO_OLD","Exports","JIIX","i","globalThis","window","global","self","unwrapExports","__esModule","Object","prototype","hasOwnProperty","call","createCommonjsModule","exports","a","log","noop","navigator","test","userAgent","bindMethod","bind","Function","apply","arguments","traceForIE","console","trace","realMethod","replaceLoggingMethods","s","length","c","methodFactory","debug","enableLoggingWhenConsoleArrives","defaultMethodFactory","l","u","getPersistedLevel","localStorage","document","cookie","indexOf","encodeURIComponent","exec","slice","levels","name","SILENT","getLevel","setLevel","toUpperCase","persistLevelIfPossible","setDefaultLevel","enableAll","disableAll","d","getLogger","TypeError","noConflict","getLoggers","p","h","nodeType","f","g","m","process","v","require","types","binding","y","isTypedArray","b","x","Array","w","_","S","k","toString","C","P","keys","IE_PROTO","T","I","M","RegExp","replace","R","Buffer","L","Symbol","A","Uint8Array","D","allocUnsafe","j","overArg","getPrototypeOf","U","create","O","propertyIsEnumerable","z","splice","N","toStringTag","W","getNative","X","isBuffer","H","Math","max","B","Date","now","G","Y","$","object","isObject","Hash","clear","set","ListCache","MapCache","Stack","__data__","size","arrayLikeKeys","q","J","Z","Q","baseTimes","String","isIndex","push","assignMergeValue","eq","baseAssignValue","assignValue","assocIndexOf","configurable","enumerable","value","writable","hashClear","delete","hashDelete","has","get","hashGet","hashHas","hashSet","listCacheClear","listCacheDelete","pop","listCacheGet","listCacheHas","listCacheSet","mapCacheClear","hash","map","string","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","stackClear","stackDelete","stackGet","stackHas","stackSet","V","createBaseFor","baseGetTag","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsNative","isMasked","isFunction","toSource","baseKeysIn","nativeKeysIn","isPrototype","baseMerge","baseMergeDeep","safeGet","isArrayLikeObject","isArrayLike","cloneBuffer","constructor","copy","cloneTypedArray","cloneArrayBuffer","byteLength","buffer","byteOffset","copyArray","isPlainObject","toPlainObject","copyObject","keysIn","initCloneObject","baseRest","K","overRest","identity","isKeyable","getValue","shortOut","isArray","isLength","stubFalse","baseUnary","baseIsTypedArray","ee","createAssigner","isIterateeCall","recognitionParams","type","protocol","server","scheme","host","applicationKey","hmacKey","useWindowLocation","websocket","pingEnabled","pingDelay","maxPingLostCount","autoReconnect","maxRetryCount","fileChunkSize","iink","alwaysConnected","lang","export","jiix","strokes","text","chars","words","renderer","math","mimeTypes","solver","enable","margin","bottom","left","right","top","guides","smartGuide","smartGuideFadeOut","duration","diagram","recognition","shape","listenerOptions","capture","passive","undoRedoMaxStackSize","xyFloatPrecision","timestampFloatPrecision","triggerDelay","processDelay","resizeTriggerDelay","triggers","exportContent","addStrokes","restConversionState","renderingParams","stroker","minHeight","minWidth","e","o","defineProperty","iterator","t","toJSON","error","split","forEach","trim","substring","_trimSemiColon","toCSS","JsonCSS","css","ink","color","toCSS$1","roundFloat","round","extractPoint","changedTouches","getBoundingClientRect","clientX","clientLeft","clientY","clientTop","freeze","__proto__","attach","unfocus","getSelection","removeAllRanges","hideMenu","querySelector","target","classList","contains","style","display","hideCandidates","tagName","pointerDownHandler","id","domElement","activePointerId","pointerId","concat","button","buttons","stopPropagation","pointerDown","configuration","pointerType","smartGuidePointerDown","downSmartGuidePoint","pointerMoveHandler","pointerMove","abs","pointerUpHandler","relatedTarget","includes","className","pointerUp","options","listeners","listener","addEventListener","documentElement","detach","removeEventListener","_arrayLikeToArray","_arrayWithoutHoles","_iterableToArray","from","_unsupportedIterableToArray","_nonIterableSpread","_toConsumableArray","drawStroke","table","recognizedShape","ellipse","line","phi","PI","drawArrowHead","save","fillStyle","strokeStyle","moveTo","beginPath","lineTo","cos","sin","fill","restore","drawShapeEllipse","drawEllipseArc","floor","atan2","stroke","center","maxRadius","minRadius","orientation","startAngle","sweepAngle","beginDecoration","beginTangentAngle","endDecoration","endTangentAngle","drawLine","drawShapeSymbol","lineWidth","width","elementType","candidates","selectedCandidateIndex","lines","data","p1","p2","drawShapeLine","firstPoint","lastPoint","primitives","inputCharacter","char","textLine","drawTextLine","drawText","font","textHeight","textAlign","justificationType","textBaseline","fillText","topLeftPoint","height","label","underlineList","drawUnderline","firstCharacter","lastCharacter","computeDistance","sqrt","pow","isNaN","computeLength","createStrokeComponent","assign","addPoint","filterPointByAcquisitionDelta","computePressure","parseFloat","getPointByIndex","mergeBounds","minX","min","maxX","minY","maxY","getLineBounds","getEllipseBounds","getTextLineBounds","getClefBounds","boundingBox","getStrokeBounds","getSymbolsBounds","Number","MAX_VALUE","MIN_VALUE","filter","reduce","createModel","currentStroke","rawStrokes","strokeGroups","lastPositions","lastSentPosition","lastReceivedPosition","lastRenderedPosition","defaultSymbols","recognizedSymbols","rawResults","convert","creationTime","getTime","modificationTime","clearModel","needRedraw","addStroke","addStrokeToGroup","penStyle","extractPendingStrokes","initPendingStroke","appendToPendingStroke","endPendingStroke","getBorderCoordinates","updateModelSentPosition","updateModelReceivedPosition","resetModelPositions","updateModelRenderedPosition","extractPendingRecognizedSymbols","cloneModel","JSON","parse","stringify","mergeModels","extractStrokesFromInkRange","resetModelRendererPosition","detectPixelRatio","getPixelRatio","getContext","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","createElement","createCanvas","add","appendChild","resizeContent","renderingCanvas","capturingCanvas","parentNode","clientWidth","clientHeight","pixelRatio","scale","drawSymbol","drawTextSymbol","warn","drawModel","renderingCanvasContext","clearRect","capturingCanvasContext","getInfo","attach$1","detach$1","removeChild","resize","drawCurrentStroke","computeLinksPoints","computeMiddlePoint","computeAxeAngle","renderArc","arc","renderLine","renderQuadratic","quadraticCurveTo","getInfo$1","drawStroke$1","renderFinal","closePath","svg","xhtml","xlink","xml","xmlns","namespace","space","local","creatorInherit","ownerDocument","namespaceURI","createElementNS","creatorFixed","creator","none","selector","empty","sparse","EnterNode","_next","_parent","insertBefore","querySelectorAll","bindIndex","bindKey","ascending","NaN","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","styleRemove","removeProperty","styleConstant","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","ClassList","_node","_names","getAttribute","classedAdd","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","constantNull","selection_cloneShallow","cloneNode","selection_cloneDeep","join","mouseenter","mouseleave","filterContextListener","contextListener","compareDocumentPosition","parseTypenames","onRemove","__on","onAdd","dispatchEvent","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","_groups","_parents","drawStroke$2","insertAdjacentSVG","toLowerCase","lastChild","selection","select","selection_select","selectAll","selection_selectAll","selectorAll","selection_filter","matcher","matches","selection_data","each","constant","_enter","_exit","enter","selection_enter","exit","selection_exit","selection_join","append","merge","order","selection_merge","selection_order","sort","selection_sort","compareNode","selection_call","nodes","selection_nodes","node","selection_node","selection_size","selection_empty","selection_each","attr","selection_attr","getAttributeNS","selection_style","property","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","clone","selection_clone","datum","selection_datum","on","selection_on","dispatch","selection_dispatch","getInfo$2","attach$2","fontSize","detach$2","resize$1","drawCurrentStroke$1","drawModel$1","updateView","updates","layer","insertAdjacentHTML","outerHTML","parentId","index","refId","renderArc$1","renderLine$1","renderQuadratic$1","getInfo$3","drawStroke$3","renderFinal$1","_typeof","F","lib","Base","extend","mixIn","init","$super","WordArray","sigBytes","clamp","ceil","random","r","enc","Hex","parseInt","substr","Latin1","fromCharCode","charCodeAt","Utf8","decodeURIComponent","escape","unescape","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","blockSize","_minBufferSize","_doProcessBlock","Hasher","cfg","_doReset","update","finalize","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","x64","Word","high","low","toX32","X64Word_create","SHA512","_hash","te","ne","re","oe","ie","ae","se","ce","le","ue","de","pe","he","fe","ge","me","ve","ye","be","xe","we","Ee","_e","Se","ke","Ce","Pe","Te","Ie","Me","HmacSHA512","_hasher","_oKey","_iKey","computeHmac","responseText","post","xhr","editor","Promise","XMLHttpRequest","open","withCredentials","setRequestHeader","startsWith","responseType","onerror","msg","recoverable","onload","status","response","onreadystatechange","readyState","idle","send","then","createEmptyRecognizerContext","info","recognitionContexts","initPromise","url","websocketCallback","reconnect","currentReconnectionCount","sessionId","contentPartCount","currentPartId","instanceId","canUndo","canRedo","isEmpty","supportedImportMimeTypes","undoStackIndex","possibleUndoCount","initialized","isResetRequired","updateRecognitionPositions","setRecognitionContext","canReconnect","shouldAttemptImmediateReconnect","LOST_CONNEXION_MESSAGE","CLOSE_RECOGNIZER_MESSAGE","div","Element","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","remove$1","queryChildren","children","thumb","rail","consuming","focus","clicking","active","scrolling","addScrollingClass","element","clearTimeout","removeScrollingClass","setTimeout","isAlive","settings","scrollingThreshold","EventElement","handlers","unbind","unbindAll","every","defineProperties","EventManager","eventElements","initCustomEvent","processScrollDiff","processScrollDiff$1","reach","setScrollingClassInstantly","toInt","eventElement","once","onceHandler","isWebKit","supportsTouch","maxTouchPoints","DocumentTouch","supportsIePointer","msMaxTouchPoints","isChrome","updateGeometry","scrollTop","containerWidth","containerHeight","contentWidth","scrollWidth","contentHeight","scrollHeight","scrollbarXRail","scrollbarYRail","suppressScrollX","scrollXMarginOffset","scrollbarXActive","railXWidth","railXMarginWidth","railXRatio","scrollbarXWidth","getThumbSize","scrollbarXLeft","negativeScrollAdjustment","scrollLeft","suppressScrollY","scrollYMarginOffset","scrollbarYActive","railYHeight","railYMarginHeight","railYRatio","scrollbarYHeight","scrollbarYTop","updateCss","isRtl","isScrollbarXUsingBottom","scrollbarXBottom","scrollbarXTop","isScrollbarYUsingRight","scrollbarYRight","scrollbarYOuterWidth","scrollbarYLeft","scrollbarX","railBorderXWidth","scrollbarY","railBorderYWidth","minScrollbarLength","maxScrollbarLength","bindMouseScrollHandler","mouseMoveHandler","touches","pageY","preventDefault","mouseUpHandler","event","bindMoves","clickRail","pageYOffset","pageX","pageXOffset","dragThumb","keyboard","isDefaultPrevented","defaultPrevented","activeElement","contentDocument","shadowRoot","isEditable","which","metaKey","altKey","shiftKey","shouldPreventDefault","wheelPropagation","wheel","mousewheelHandler","getDeltaFromEvent","deltaX","deltaY","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","shouldBeConsumedByChild","overflowY","match","overflowX","useBothWheelAxes","wheelSpeed","offsetHeight","offsetWidth","ctrlKey","onwheel","onmousewheel","touch","touchStart","touchMove","touchEnd","PointerEvent","MSPointerEvent","applyTouchMove","getTouch","targetTouches","shouldHandle","MSPOINTER_TYPE_MOUSE","clearInterval","shouldPrevent","scrollY","swipeEasing","setInterval","isInitialized","PerfectScrollbar","nodeName","blur","direction","isNegativeScroll","borderLeftWidth","borderRightWidth","marginLeft","marginRight","outerWidth","paddingLeft","paddingRight","borderTopWidth","borderBottomWidth","marginTop","marginBottom","lastScrollTop","lastScrollLeft","onScroll","destroy","removePsClasses","select$1","hasAttribute","setSelectionRange","createRange","selectNodeContents","addRange","_interopRequireDefault","key","ClipboardAction","_classCallCheck","resolveOptions","initSelection","action","container","emitter","trigger","selectedText","selectFake","selectTarget","removeFake","fakeHandlerCallback","fakeHandler","fakeElem","border","padding","position","copyText","execCommand","handleResult","emit","clearSelection","_action","_target","E","fn","ctx","off","HTMLElement","nodeList","matchesSelector","oMatchesSelector","closest","delegateTarget","delegate","listen","listenNode","listenNodeList","listenSelector","body","Clipboard","_possibleConstructorReturn","ReferenceError","listenClick","_inherits","setPrototypeOf","defaultAction","defaultTarget","defaultText","onClick","currentTarget","clipboardAction","getAttributeValue","isSupported","queryCommandSupported","isInShadow","addListeners","elements","textElement","showCandidates","randomString","wordToChange","candidatesElement","clickCandidate","innerText","import_","ellipsisElement","showActions","positionActions","offsetLeft","menuElement","insertActions","convertElement","copyElement","deleteElement","createSmartGuide","createHTMLElements","smartGuideElement","textContainer","tagElement","lastWord","previousLabelExport","perfectScrollbar","smartGuideTimeOutId","callFadeOutObserver","MutationObserver","observe","childList","subtree","attributes","resize$2","maxWidth","launchSmartGuide","insertSmartGuide","insertSmartGuideElement","visibility","loader","insertTag","insertTextContainer","insertEllipsis","createWordSpan","populatePrompter","createDocumentFragment","addAnimationToModifiedWord","tempWords","getElementById","asyncIterator","wrap","Generator","Context","_invoke","makeInvokeMethod","invoke","doneResult","method","arg","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","tryCatch","done","GeneratorFunction","GeneratorFunctionPrototype","values","defineIteratorMethods","AsyncIterator","enqueue","callInvokeWithMethodAndArg","resolve","__await","return","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","displayName","isGeneratorFunction","mark","awrap","async","reverse","prev","charAt","stop","rval","handle","complete","finish","catch","delegateYield","regeneratorRuntime","_defineProperties","_createClass","asyncGeneratorStep","_asyncToGenerator","_throw","updateUndoRedoState","currentPosition","stack","getModel","res","updateModel","findIndex","maxSize","shift","undo","redo","createCanvas$1","inkImporter","behavior","grabber","setDelay","point","play","lastIndexOf","Event","importStrokeGroups","model","rendererContext","destructurePromise","promise","reject","delay","timer","manageResetState","recognizer","recognizerContext","isTriggerValid","availableTriggers","_addStrokes","_callee4","_callee4$","_launchPointerEvents","_callee5","_callee5$","pointerEvents","launchExport","_launchExport","_callee6","_callee6$","export_","exportTimer","_launchImport","_callee7","_callee7$","_launchGetSupportedImportMimeTypes","_callee8","_callee8$","getSupportedImportMimeTypes","launchConvert","_launchConvert","_callee9","_callee9$","launchConfig","_launchConfig","_callee10","_callee10$","sendConfiguration","_launchResize","_callee11","_callee11$","resizeTimer","_launchWaitForIdle","_callee12","_callee12$","waitForIdle","_launchClose","_callee13","_callee13$","close","_setPenStyle","_callee14","_callee14$","setPenStyle","_setPenStyleClasses","_callee15","_callee15$","setPenStyleClasses","penStyleClasses","_setTheme","_callee16","_callee16$","setTheme","theme","Editor","createTextNode","sheet","notifyTimer","innerBehaviors","overrideDefaultBehaviors","Ae","rendererList","strokerList","recognizerList","events","getBehaviorFromConfiguration","localTheme","localPenStyle","handleSuccess","removeStroke","reDraw","emitEvents","launchWaitForIdle","_callee","_callee$","undoRedoManager","undoRedoContext","handleError","manageRecognizedModel","_callee2","_callee2$","_callee3","_callee3$","canClear","canConvert","setGuides","canExport","launchImport","Blob","launchGetSupportedImportMimeTypes","launchPointerEvents","launchResize","setThemeForFont","unload","grabberContext","innerRenderer","launchClose","forceChange","innerConfiguration","overrideDefaultConfiguration","location","behaviors","innerPenStyle","overrideDefaultPenStyle","innerPenStyleClasses","innerTheme","overrideDefaultTheme","innerBehavior","createUndoRedoContext","initialize","innerRecognizer","getImage","translate","toDataURL","message","result","code","reason","err","postMessage","buildData","buildTextConf","buildMathConf","buildDiagramConf","buildRawContentConf","xDPI","yDPI","contentType","conversionState","extractExports","resultCallback","iinkRestConfiguration","getInfo$4","callPostMessage","all","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_slicedToArray","UUIDjs","getRandomInt","maxFromBits","limitUI04","limitUI06","limitUI08","limitUI12","limitUI14","limitUI16","limitUI32","limitUI40","limitUI48","randomUI04","randomUI06","randomUI08","randomUI12","randomUI14","randomUI16","randomUI32","randomUI40","randomUI48","paddedString","fromParts","version","hex","toURN","toBytes","equals","UUID","getTimeFieldValues","UTC","mid","hi","timestamp","_create4","_create1","fromTime","firstFromTime","lastFromTime","fromURN","fromBytes","fromBinary","new","newTS","openWebSocket","WebSocket","addWebsocketAttributes","start","maxPingLost","pingLostCount","infinitePing","onopen","onclose","onmessage","buildWebSocketCallback","buildRestoreIInkSessionInput","buildNewContentPackageInput","hmacChallenge","buildHmacMessage","hmac","iinkSessionId","buildConfiguration","buildOpenContentPart","buildNewContentPart","partId","buildSetTheme","buildSetPenStyle","buildSetPenStyleClasses","partChange","contentChange","patch","func","_func","init$1","buildUrl","retry","_retry","Re","sendMessage","close$2","close$1","clear$1","NEBO","xDpi","yDpi","viewSizeHeight","viewSizeWidth","buildAddStrokes","buildUndo","buildRedo","buildClear","buildConvert","buildZoom","zoom","buildResize","buildExport","buildImportFile","importFileId","mimeType","buildImportChunk","lastChunk","buildPointerEvents","buildWaitForIdle","buildGetSupportedImportMimeTypes","styleClasses","responseCallback","init$2","_init","_prepareMessage","_prepareMessage2","clear$2","_clear","Le","IinkWsConfiguration","getInfo$5","newContentPart","openContentPart","addStrokes$1","undo$1","redo$1","convert$1","export_$1","_loop","readBlob","FileReader","readAsText","resize$3","setPenStyle$1","setPenStyleClasses$1","setTheme$1","composed","register","getAvailableLanguageList","_getAvailableLanguageList","fetch","ok","json","t0","De","Constants","DefaultConfiguration","DefaultBehaviors","DefaultPenStyle","DefaultTheme","LoggerConfig","InkModel","RecognizerContext"],"sources":["/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/configuration/Constants.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/configuration/LoggerConfig.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/loglevel/lib/loglevel.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/lodash.merge/index.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/configuration/DefaultConfiguration.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/json-css/lib/jsoncss.min.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/configuration/DefaultPenStyle.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/configuration/DefaultTheme.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/grabber/PointerEventGrabber.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/iterableToArray.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/nonIterableSpread.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/toConsumableArray.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/renderer/canvas/symbols/StrokeSymbolCanvasRenderer.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/renderer/canvas/symbols/ShapeSymbolCanvasRenderer.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/renderer/canvas/symbols/TextSymbolCanvasRenderer.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/model/StrokeComponent.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/model/Symbol.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/model/InkModel.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/renderer/canvas/CanvasRenderer.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/renderer/QuadraticUtils.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/renderer/canvas/stroker/QuadraticCanvasStroker.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/namespaces.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/namespace.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/creator.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selector.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selectorAll.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/sparse.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/enter.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/data.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/sort.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/attr.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/window.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/style.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/property.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/classed.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/text.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/html.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/raise.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/lower.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/insert.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/remove.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/clone.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/on.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/dispatch.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/index.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/renderer/svg/symbols/StrokeSymbolSVGRenderer.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/renderer/svg/SVGRenderer.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/select.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/selectAll.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/filter.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/matcher.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/constant.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/exit.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/join.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/merge.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/order.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/call.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/nodes.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/node.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/size.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/empty.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/each.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/append.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/selection/datum.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/d3-selection/src/select.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/renderer/svg/stroker/QuadraticSVGStroker.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/typeof.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/crypto-js/core.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/crypto-js/enc-hex.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/crypto-js/x64-core.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/crypto-js/sha512.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/crypto-js/hmac.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/crypto-js/hmac-sha512.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/recognizer/CryptoHelper.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/recognizer/rest/networkInterface.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/model/RecognizerContext.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/select/src/select.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/clipboard/lib/clipboard-action.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/tiny-emitter/index.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/good-listener/src/is.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/delegate/src/closest.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/delegate/src/delegate.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/good-listener/src/listen.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/clipboard/lib/clipboard.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/smartguide/SmartGuide.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/regenerator-runtime/runtime.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/classCallCheck.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/createClass.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/asyncToGenerator.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/model/UndoRedoContext.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/model/UndoRedoManager.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/renderer/canvas/ImageRenderer.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/eastereggs/InkImporter.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/util/PromiseHelper.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/Editor.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/configuration/DefaultBehaviors.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/recognizer/RecognizerService.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/recognizer/DefaultRecognizer.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/recognizer/rest/iinkRestRecognizer.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/arrayWithHoles.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/nonIterableRest.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/@babel/runtime/helpers/slicedToArray.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/node_modules/uuid-js/lib/uuid.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/recognizer/websocket/networkWSInterface.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/recognizer/websocket/WsBuilder.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/recognizer/websocket/WsRecognizerUtil.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/recognizer/websocket/iinkWsRecognizer.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/event/Event.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/EditorFacade.js","/home/user/WEB/KeyboardApp/MainReactAppMath/node_modules/iink-js/src/iink.js"],"sourcesContent":["/**\n * @typedef {Object} Constants\n */\n\nconst Constants = {\n  EventType: {\n    IDLE: 'idle',\n    CHANGED: 'changed',\n    IMPORTED: 'imported',\n    EXPORTED: 'exported',\n    CONVERTED: 'converted',\n    RENDERED: 'rendered', // Internal use only\n    LOADED: 'loaded',\n    UNDO: 'undo',\n    REDO: 'redo',\n    CLEAR: 'clear',\n    IMPORT: 'import',\n    SUPPORTED_IMPORT_MIMETYPES: 'supportedImportMimeTypes',\n    EXPORT: 'export',\n    CONVERT: 'convert',\n    ERROR: 'error'\n  },\n  RecognitionType: {\n    TEXT: 'TEXT',\n    MATH: 'MATH',\n    DIAGRAM: 'DIAGRAM',\n    RAWCONTENT: 'Raw Content'\n  },\n  Protocol: {\n    WEBSOCKET: 'WEBSOCKET',\n    REST: 'REST'\n  },\n  ModelState: {\n    INITIALIZING: 'INITIALIZING',\n    INITIALIZED: 'INITIALIZED',\n    EXPORTING: 'EXPORTING',\n    EXPORTED: 'EXPORTED',\n    PENDING: 'PENDING',\n    MODIFIED: 'MODIFIED',\n    ERROR: 'ERROR'\n  },\n  Trigger: {\n    QUIET_PERIOD: 'QUIET_PERIOD',\n    POINTER_UP: 'POINTER_UP',\n    DEMAND: 'DEMAND'\n  },\n  Logger: {\n    EDITOR: 'editor',\n    MODEL: 'model',\n    GRABBER: 'grabber',\n    RENDERER: 'renderer',\n    RECOGNIZER: 'recognizer',\n    EVENT: 'event',\n    UTIL: 'util',\n    SMARTGUIDE: 'smartguide'\n  },\n  LogLevel: {\n    TRACE: 'TRACE',\n    DEBUG: 'DEBUG',\n    INFO: 'INFO',\n    WARN: 'WARN',\n    ERROR: 'ERROR'\n  },\n  Languages: {\n    zh_CN: 'Noto Sans CJK tc',\n    zh_HK: 'Noto Sans CJK tc',\n    zh_TW: 'Noto Sans CJK tc',\n    ko_KR: 'Noto Sans CJK kr',\n    ja_JP: 'Noto Sans CJK jp',\n    hy_AM: 'Noto Sans Armenian',\n    default: 'Open Sans'\n  },\n  Error: {\n    NOT_REACHABLE: 'MyScript recognition server is not reachable. Please reload once you are connected.',\n    WRONG_CREDENTIALS: 'Application credentials are invalid. Please check or regenerate your application key and hmackey.',\n    TOO_OLD: 'Session is too old. Max Session Duration Reached.'\n  },\n  Exports: {\n    JIIX: 'application/vnd.myscript.jiix'\n  }\n}\nexport default Constants\n","import * as loglevel from 'loglevel'\nimport Constants from './Constants'\n\n/**\n * Main log instance\n * @type {Object}\n */\nconst log = loglevel.noConflict()\nexport default log\n\n/**\n * Log editor events\n * @type {Object}\n */\nexport const editorLogger = log.getLogger(Constants.Logger.EDITOR)\neditorLogger.setDefaultLevel(Constants.LogLevel.ERROR)\n\n/**\n * Log editor events\n * @type {Object}\n */\nexport const smartGuideLogger = log.getLogger(Constants.Logger.SMARTGUIDE)\neditorLogger.setDefaultLevel(Constants.LogLevel.ERROR)\n\n/**\n * Log model events\n * @type {Object}\n */\nexport const modelLogger = log.getLogger(Constants.Logger.MODEL)\nmodelLogger.setDefaultLevel(Constants.LogLevel.ERROR)\n\n/**\n * Log grabber events\n * @type {Object}\n */\nexport const grabberLogger = log.getLogger(Constants.Logger.GRABBER)\ngrabberLogger.setDefaultLevel(Constants.LogLevel.ERROR)\n\n/**\n * Log grabber events\n * @type {Object}\n */\nexport const rendererLogger = log.getLogger(Constants.Logger.RENDERER)\nrendererLogger.setDefaultLevel(Constants.LogLevel.ERROR)\n\n/**\n * Log recognizer events\n * @type {Object}\n */\nexport const recognizerLogger = log.getLogger(Constants.Logger.RECOGNIZER)\nrecognizerLogger.setDefaultLevel(Constants.LogLevel.ERROR)\n\n/**\n * Log callback events\n * @type {Object}\n */\nexport const eventLogger = log.getLogger(Constants.Logger.EVENT)\neventLogger.setDefaultLevel(Constants.LogLevel.ERROR)\n\n/**\n * Log util events\n * @type {Object}\n */\nexport const utilLogger = log.getLogger(Constants.Logger.UTIL)\nutilLogger.setDefaultLevel(Constants.LogLevel.ERROR)\n\n/**\n * Log tests events\n * @type {Object}\n */\nexport const testLogger = log.getLogger('test')\ntestLogger.setDefaultLevel(Constants.LogLevel.ERROR)\n","/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      var storageKey = \"loglevel\";\n      if (name) {\n        storageKey += \":\" + name;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if (typeof name !== \"string\" || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    return defaultLogger;\n}));\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n","import merge from 'lodash.merge'\nimport { editorLogger as logger } from './LoggerConfig'\n\n/**\n * Default configuration\n * See https://developer.myscript.com/docs/interactive-ink/latest/reference/web/configuration/ for a full documentation of parameters.\n */\nconst defaultConfiguration = {\n  recognitionParams: {\n    type: 'TEXT',\n    protocol: 'WEBSOCKET',\n    server: {\n      scheme: 'https',\n      host: 'cloud.myscript.com',\n      applicationKey: undefined,\n      hmacKey: undefined,\n      useWindowLocation: false,\n      websocket: {\n        pingEnabled: true,\n        pingDelay: 30000,\n        maxPingLostCount: 10,\n        autoReconnect: true,\n        maxRetryCount: 2,\n        fileChunkSize: 300000\n      }\n    },\n    iink: {\n      alwaysConnected: true,\n      lang: 'en_US',\n      export: {\n        'image-resolution': 300,\n        jiix: {\n          'bounding-box': false,\n          strokes: false,\n          text: {\n            chars: false,\n            words: true\n          }\n        }\n      },\n      renderer: {\n        debug: {\n          'draw-text-boxes': false,\n          'draw-image-boxes': false\n        }\n      },\n      math: {\n        mimeTypes: ['application/x-latex', 'application/mathml+xml'],\n        solver: {\n          enable: true,\n          'fractional-part-digits': 3,\n          'decimal-separator': '.',\n          'rounding-mode': 'half up',\n          'angle-unit': 'deg'\n        },\n        margin: {\n          bottom: 10,\n          left: 15,\n          right: 15,\n          top: 10\n        }\n      },\n      text: {\n        guides: {\n          enable: true\n        },\n        smartGuide: true,\n        smartGuideFadeOut: {\n          enable: false,\n          duration: 10000\n        },\n        mimeTypes: ['text/plain', 'application/vnd.myscript.jiix'],\n        margin: {\n          top: 20,\n          left: 10,\n          right: 10\n        }\n      },\n      diagram: {\n        mimeTypes: ['application/vnd.myscript.jiix'],\n        margin: {\n          bottom: 10,\n          left: 15,\n          right: 15,\n          top: 10\n        }\n      },\n      'raw-content': {\n        recognition: {\n          text: false,\n          shape: false\n        }\n      }\n    }\n  },\n  // @see generated documentation on top\n  listenerOptions: {\n    capture: false,\n    passive: true\n  },\n  undoRedoMaxStackSize: 20,\n  xyFloatPrecision: 0,\n  timestampFloatPrecision: 0,\n  triggerDelay: 2000,\n  processDelay: 0,\n  resizeTriggerDelay: 200,\n  // Configure when the action is triggered.\n  // POINTER_UP : Action is triggered on every PenUP. This is the recommended mode for CDK V3 WebSocket recognitions.\n  // QUIET_PERIOD : Action is triggered after a quiet period in milli-seconds on every pointer up. I value is set to 2000 for example the recognition will be fired  when user stop writing 2 seconds. This is the recommended mode for all REST recognitions.\n  triggers: {\n    exportContent: 'POINTER_UP',\n    addStrokes: 'POINTER_UP'\n  },\n  restConversionState: '',\n  renderingParams: {\n    stroker: 'quadratic',\n    minHeight: 100,\n    minWidth: 100\n  }\n}\n\n/**\n * Generate parameters\n * @param {Configuration} configuration Configuration to be used\n * @return {Configuration} Overridden configuration\n */\nexport function overrideDefaultConfiguration (configuration) {\n  const confRef = configuration\n  let currentConfiguration\n  if (confRef && confRef.recognitionParams.server && confRef.recognitionParams.server.useWindowLocation) {\n    confRef.recognitionParams.server.scheme = window.location.protocol.slice(0, -1)\n    confRef.recognitionParams.server.host = window.location.host\n    currentConfiguration = merge({}, defaultConfiguration, confRef === undefined ? {} : confRef)\n  } else {\n    currentConfiguration = merge({}, defaultConfiguration, configuration === undefined ? {} : configuration)\n  }\n  logger.debug('Override default configuration', currentConfiguration)\n  return currentConfiguration\n}\n\nexport default defaultConfiguration\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.JsonCSS=e():t.JsonCSS=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=1)}([function(t,e,n){\"use strict\";function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=function t(e){var n=this;o(this,t),this.toJSON=function(t){if(\"string\"!=typeof t)return console.error(\"Need a CSS string but given \",void 0===t?\"undefined\":r(t),t),\"Not a valid CSS..!\";var e={},o=void 0,i=void 0,u=void 0;try{t.split(\"{\").forEach(function(t){if(i=t.trim())if(-1===i.indexOf(\"}\"))e[i]={},o=i;else{i.substring(0,i.indexOf(\"}\")).split(\";\").forEach(function(t){(u=t.split(\":\"))&&2===u.length&&(e[o][u[0].trim().replace(/^\\\"|\\\"$/g,\"\")]=n._trimSemiColon(u[1].trim().replace(/^\\\"|\\\"$/g,\"\")))});try{o=i.split(\"}\")[1].trim(),o&&(e[o]={})}catch(t){}}})}catch(t){return\"Not a valid CSS..!\"}return e},this.toCSS=function(t){if(\"object\"!==(void 0===t?\"undefined\":r(t)))return console.error(\"Need a JSON object but given \",void 0===t?\"undefined\":r(t),t),\"Not a valid JSON..!\";var e=\"\";try{for(var n in t)if(t.hasOwnProperty(n)){e+=n+\" {\\n\";for(var o in t[n])t[n].hasOwnProperty(o)&&(e+=o+\": \"+t[n][o]+\";\\n\");e+=\"}\\n\"}}catch(t){return\"Not a valid JSON..!\"}return e},this._trimSemiColon=function(t){return\";\"===t.slice(-1)?t.slice(0,n.length-1):t}};e.default=i},function(t,e,n){\"use strict\";t.exports=n(0).default}])});","import JsonCSS from 'json-css'\nimport merge from 'lodash.merge'\nimport { editorLogger as logger } from './LoggerConfig'\n\n/**\n * @typedef {Object} PenStyle\n * @property {String} color=#000000 Color (supported formats rgb() rgba() hsl() hsla() #rgb #rgba #rrggbb #rrggbbaa)\n * @property {String} -myscript-pen-width=1 Width of strokes and primitives in mm (no other unit is supported yet)\n * @property {String} -myscript-pen-fill-style=none\n * @property {String} -myscript-pen-fill-color=#FFFFFF00 Color filled inside the area delimited by strokes and primitives\n */\n\n/**\n * Default style\n * @type {PenStyle}\n */\nconst defaultPenStyle = undefined\nconst parser = new JsonCSS()\n\n/**\n * Generate style\n * @param {PenStyle} style Custom style to be applied\n * @return {PenStyle} Overridden style\n */\nexport function overrideDefaultPenStyle (style) {\n  const currentStyle = merge({}, defaultPenStyle, style === undefined ? {} : style)\n  logger.debug('Override default pen style', currentStyle)\n  return currentStyle\n}\n\nexport function toCSS (penStyle) { // FIXME Ugly hack to parse JSON to CSS inline\n  const css = parser.toCSS({ css: penStyle })\n  return css.substring(6, css.length - 3)\n}\n\nexport function toJSON (penStyle) { // FIXME Ugly hack to parse CSS inline to JSON\n  return parser.toJSON(`css {${penStyle}}`).css\n}\n\nexport default defaultPenStyle\n","import JsonCSS from 'json-css'\nimport merge from 'lodash.merge'\nimport { editorLogger as logger } from './LoggerConfig'\n\n/**\n * @typedef {PenStyle} InkTheme\n */\n/**\n * @typedef {Object} MathTheme\n * @property {String} font-family=STIXGeneral Font-family to be used\n */\n/**\n * @typedef {Object} GeneratedTheme\n * @property {String} font-family=STIXGeneral Font-family to be used\n * @property {String} color=#A8A8A8FF Color to be used\n */\n/**\n * @typedef {Object} TextTheme\n * @property {String} font-family=OpenSans Font-family to be used\n * @property {Number} font-size=10 Font-size to be used\n */\n/**\n * @typedef {Object} Theme\n * @property {InkTheme} ink General settings\n * @property {MathTheme} .math Math theme\n * @property {GeneratedTheme} .math-solver Theme to be used for generated items\n * @property {TextTheme} .text Text theme\n */\n\n/**\n * Default theme\n * @type {Theme}\n */\nconst defaultTheme = {\n  ink: {\n    color: '#000000',\n    '-myscript-pen-width': 1,\n    '-myscript-pen-fill-style': 'none',\n    '-myscript-pen-fill-color': '#FFFFFF00'\n  },\n  '.math': {\n    'font-family': 'STIXGeneral'\n  },\n  '.math-solved': {\n    'font-family': 'STIXGeneral',\n    color: '#A8A8A8FF'\n  },\n  '.text': {\n    'font-family': 'Open Sans',\n    'font-size': 10\n  }\n}\nconst parser = new JsonCSS()\n\n/**\n * Generate theme\n * @param {Theme} theme Custom theme to be applied\n * @return {Theme} Overridden theme\n */\nexport function overrideDefaultTheme (theme) {\n  const currentTheme = merge({}, defaultTheme, theme === undefined ? {} : theme)\n  logger.debug('Override default theme', currentTheme)\n  return currentTheme\n}\n\nexport function toCSS (theme) {\n  return parser.toCSS(theme)\n}\n\nexport function toJSON (theme) {\n  return parser.toJSON(theme)\n}\n\nexport default defaultTheme\n","import { grabberLogger as logger } from '../configuration/LoggerConfig'\n\n/**\n * Grab pointerDown, pointerMove and pointerUp events\n * @typedef {Object} Grabber\n * @property {function} attach Attach events and decide when to call editor pointerDown/Move/Up methods\n * @property {function} detach Detach the grabber\n */\n\n/**\n * Grabber listener\n * @typedef {Object} GrabberListener\n * @property {Array<String>} types Event types to listen\n * @property {function} listener Event listener for these events\n */\n\n/**\n * Grabber context\n * @typedef {Object} GrabberContext\n * @property {Boolean|Object} options Options object that specifies characteristics about the event listener. (@see addEventListener.options for detail)\n * @property {Array<GrabberListener>} listeners Registered listeners\n */\n\nconst floatPrecisionArray = [1, 10, 100, 1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000]\n\nfunction roundFloat (oneFloat, requestedFloatPrecision) {\n  if (requestedFloatPrecision || requestedFloatPrecision === 0) {\n    let floatPrecision\n    if (requestedFloatPrecision > 10) {\n      floatPrecision = floatPrecisionArray[10]\n    } else {\n      floatPrecision = floatPrecisionArray[requestedFloatPrecision]\n    }\n    return Math.round(oneFloat * floatPrecision) / floatPrecision\n  }\n  return oneFloat\n}\n\nfunction extractPoint (event, domElement, configuration, offsetTop = 0, offsetLeft = 0) {\n  let eventRef = event\n  if (eventRef.changedTouches) {\n    eventRef = eventRef.changedTouches[0]\n  }\n  const rect = domElement.getBoundingClientRect()\n  return {\n    x: roundFloat(eventRef.clientX - rect.left - domElement.clientLeft - offsetLeft, configuration.xyFloatPrecision),\n    y: roundFloat(eventRef.clientY - rect.top - domElement.clientTop - offsetTop, configuration.xyFloatPrecision),\n    t: roundFloat(Date.now(), configuration.timestampFloatPrecision)\n  }\n}\n\n/**\n * Listen for the desired events\n * @param {Element} element DOM element to attach events listeners\n * @param {Editor} editor Editor to received down/move/up events\n * @param {Number} [offsetTop=0]\n * @param {Number} [offsetLeft=0]\n * @return {GrabberContext} Grabber context\n * @listens {Event} pointermove: a pointer moves, similar to touchmove or mousemove.\n * @listens {Event} pointerdown: a pointer is activated, or a device button held.\n * @listens {Event} pointerup: a pointer is deactivated, or a device button released.\n * @listens {Event} pointerover: a pointer has moved onto an element.\n * @listens {Event} pointerout: a pointer is no longer on an element it once was.\n * @listens {Event} pointerenter: a pointer enters the bounding box of an element.\n * @listens {Event} pointerleave: a pointer leaves the bounding box of an element.\n * @listens {Event} pointercancel: a pointer will no longer generate events.\n */\nexport function attach (element, editor, offsetTop = 0, offsetLeft = 0) {\n  let mMaxDiffX = 0\n\n  function unfocus () {\n    if (window.getSelection().type !== 'None') {\n      window.getSelection().removeAllRanges()\n    }\n  }\n\n  function hideMenu (evt) {\n    const moreMenuInDocument = document.querySelector('.more-menu')\n    if (!evt.target.classList.contains('ellipsis') && !evt.target.classList.contains('more-menu') && !evt.target.classList.contains('options-label-button') && moreMenuInDocument && moreMenuInDocument.style.display !== 'none') {\n      moreMenuInDocument.style.display = 'none'\n      return true\n    }\n    return false\n  }\n\n  function hideCandidates (evt) {\n    const candidatesInDocument = document.querySelector('.candidates')\n    if (!evt.target.classList.contains('candidates') && !(evt.target.tagName === 'SPAN') && candidatesInDocument && candidatesInDocument.style.display !== 'none') {\n      candidatesInDocument.style.display = 'none'\n      return true\n    }\n    return false\n  }\n\n  function pointerDownHandler (evt) { // Trigger a pointerDown\n    const pointerDownOnEditor = evt.target.id === editor.domElement.id || evt.target.classList.contains('ms-canvas')\n    if (this.activePointerId !== undefined) {\n      if (this.activePointerId === evt.pointerId) {\n        logger.trace(`${evt.type} event with the same id without any pointer up`, evt.pointerId)\n      }\n    } else if ((evt.button !== 2) && (evt.buttons !== 2) && pointerDownOnEditor) { // Ignore right click\n      if (!hideMenu(evt) && !hideCandidates(evt)) {\n        this.activePointerId = evt.pointerId\n        // Hack for iOS 9 Safari : pointerId has to be int so -1 if > max value\n        const pointerId = evt.pointerId > 2147483647 ? -1 : evt.pointerId\n        unfocus()\n        evt.stopPropagation()\n        editor.pointerDown(extractPoint(evt, element, editor.configuration, offsetTop, offsetLeft), evt.pointerType, pointerId)\n      }\n    } else if (evt.target.classList.contains('ellipsis') || evt.target.classList.contains('tag-icon')) {\n      hideMenu(evt)\n      hideCandidates(evt)\n    } else { // FIXME add more complete verification to pointer down on smartguide\n      hideMenu(evt)\n      hideCandidates(evt)\n      this.smartGuidePointerDown = true\n      this.downSmartGuidePoint = extractPoint(evt, element, editor.configuration)\n    }\n  }\n\n  function pointerMoveHandler (evt) { // Trigger a pointerMove\n    // Only considering the active pointer\n    if (this.activePointerId !== undefined && this.activePointerId === evt.pointerId) {\n      unfocus()\n      editor.pointerMove(extractPoint(evt, element, editor.configuration, offsetTop, offsetLeft))\n    } else if (this.smartGuidePointerDown) {\n      const point = extractPoint(evt, element, editor.configuration, offsetTop, offsetLeft)\n      const diffX = Math.abs(this.downSmartGuidePoint.x - point.x)\n      const diffY = Math.abs(this.downSmartGuidePoint.y - point.y)\n      mMaxDiffX = Math.max(diffX, mMaxDiffX)\n      const cond1 = diffX < 5 && diffY > 5 && mMaxDiffX < 15\n      const cond2 = diffX > 5 && diffY > 5 && mMaxDiffX < 15\n      if (cond1 || cond2) {\n        this.activePointerId = evt.pointerId\n        // Hack for iOS 9 Safari : pointerId has to be int so -1 if > max value\n        const pointerId = evt.pointerId > 2147483647 ? -1 : evt.pointerId\n        unfocus()\n        editor.pointerDown(this.downSmartGuidePoint, evt.pointerType, pointerId)\n      }\n    } else {\n      logger.trace(`${evt.type} event from another pointerid (${evt.pointerId})`, this.activePointerId)\n    }\n  }\n\n  function pointerUpHandler (evt) { // Trigger a pointerUp\n    mMaxDiffX = 0\n    this.smartGuidePointerDown = false\n    const smartGuideIds = ['smartguide', 'prompter-text-container', 'prompter-text', 'tag-icon', 'ellipsis']\n    const scrollbarClasses = ['ps__rail-x', 'ps__thumb-x']\n    // Check if pointer entered into any smartguide elements or scrollbar\n    // Use case : when the pointer is entering the smartguide or scrollbar, a pointerout (or leave) is fired.\n    // The related target is then the DOM element that was left.\n    // We don't want this to cause editor.pointerUp because the stroke isn't finished.\n    const pointerEnteredSmartGuide = evt.relatedTarget && (smartGuideIds.includes(evt.relatedTarget.className) || scrollbarClasses.includes(evt.relatedTarget.className))\n    // Check if pointer didn't stay in the smartguide and pointer exited the smartguide or scrollbar\n    // Use case : when the pointer is leaving the smartguide or scrollbar, a pointerout (or leave) is fired.\n    // The related target is then the DOM element that was left (the smart guide)\n    // We are entering again the editor\n    // We don't want this to cause editor.pointerUp because the stroke isn't finished.\n    const pointerExitedSmartGuide = evt.relatedTarget && evt.target && (smartGuideIds.includes(evt.target.className) || scrollbarClasses.includes(evt.target.className))\n    // Check if pointer moved between words in smartguide\n    // Same use case as pointerEnteredSmartGuide but for the words in the smartguide (each word is a span).\n    const pointerMovedWords = evt.relatedTarget && evt.target && (evt.target.tagName === 'SPAN' || evt.relatedTarget.tagName === 'SPAN')\n    if (pointerEnteredSmartGuide || pointerExitedSmartGuide || pointerMovedWords) {\n      evt.stopPropagation()\n    } else if (this.activePointerId !== undefined && this.activePointerId === evt.pointerId) { // Only considering the active pointer\n      this.activePointerId = undefined // Managing the active pointer\n      evt.stopPropagation()\n      editor.pointerUp(extractPoint(evt, element, editor.configuration, offsetTop, offsetLeft))\n    } else {\n      logger.trace(`${evt.type} event from another pointerid (${evt.pointerId})`, this.activePointerId)\n    }\n  }\n\n  const context = {\n    options: editor.configuration.listenerOptions,\n    listeners: [{\n      types: ['pointerdown'],\n      listener: pointerDownHandler\n    }, {\n      types: ['pointermove'],\n      listener: pointerMoveHandler\n    }, {\n      types: ['pointerup', 'pointerout', 'pointerleave', 'pointercancel'],\n      listener: pointerUpHandler\n    }]\n  }\n\n  logger.debug('attaching listeners', context)\n  context.listeners.forEach((item) => {\n    item.types.forEach(type => element.addEventListener(type, item.listener, context.options))\n  })\n\n  // FIXME investigate why this is needed for iOS devices\n  document.documentElement.addEventListener('pointerdown', () => {})\n  return context\n}\n\nexport function detach (element, context) {\n  logger.debug('detaching listeners', context)\n  context.listeners.forEach((item) => {\n    item.types.forEach(type => element.removeEventListener(type, item.listener, context.options))\n  })\n  document.documentElement.removeEventListener('pointerdown', () => {})\n}\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","/**\n * Draw a stroke symbol\n * @param {Object} context Current rendering context\n * @param {Stroke} stroke Stroke to be drawn\n * @param {Stroker} stroker Stroker to use to render a stroke\n */\nexport function drawStroke (context, stroke, stroker) {\n  if (stroker) {\n    stroker.drawStroke(context, stroke)\n  }\n}\n","import { rendererLogger as logger } from '../../../configuration/LoggerConfig'\n\n/**\n * @type {{table: String, shape: String, recognizedShape: String, ellipse: String, line: String}}\n */\nexport const ShapeSymbols = {\n  table: 'table',\n  shape: 'shape',\n  recognizedShape: 'recognizedShape',\n  ellipse: 'ellipse',\n  line: 'line'\n}\n\nfunction phi (angle) {\n  let returnedAngle = ((angle + Math.PI) % (Math.PI * 2)) - Math.PI\n  if (returnedAngle < -Math.PI) {\n    returnedAngle += Math.PI * 2\n  }\n  return returnedAngle\n}\n\nfunction drawEllipseArc (context, centerPoint, maxRadius, minRadius, orientation, startAngle, sweepAngle) {\n  const angleStep = 0.02 // angle delta between interpolated\n\n  let z1 = Math.cos(orientation)\n  let z3 = Math.sin(orientation)\n  let z2 = z1\n  let z4 = z3\n  z1 *= maxRadius\n  z2 *= minRadius\n  z3 *= maxRadius\n  z4 *= minRadius\n\n  const n = Math.floor(Math.abs(sweepAngle) / angleStep)\n\n  const boundariesPoints = []\n\n  context.save()\n  try {\n    context.beginPath()\n\n    for (let i = 0; i <= n; i++) {\n      const angle = startAngle + ((i / n) * sweepAngle) // points on the arc, in radian\n      const alpha = Math.atan2(Math.sin(angle) / minRadius, Math.cos(angle) / maxRadius)\n\n      const cosAlpha = Math.cos(alpha)\n      const sinAlpha = Math.sin(alpha)\n\n      // current point\n      const x = (centerPoint.x + (z1 * cosAlpha)) - (z4 * sinAlpha)\n      const y = (centerPoint.y + (z2 * sinAlpha)) + (z3 * cosAlpha)\n      if (i === 0) {\n        context.moveTo(x, y)\n      } else {\n        context.lineTo(x, y)\n      }\n\n      if (i === 0 || i === n) {\n        boundariesPoints.push({ x, y })\n      }\n    }\n\n    context.stroke()\n  } finally {\n    context.restore()\n  }\n\n  return boundariesPoints\n}\n\nfunction drawArrowHead (context, headPoint, angle, length) {\n  const alpha = phi(angle + (Math.PI * (7 / 8)))\n  const beta = phi(angle - (Math.PI * (7 / 8)))\n\n  const contextReference = context\n  contextReference.save()\n  try {\n    contextReference.fillStyle = contextReference.strokeStyle\n\n    contextReference.moveTo(headPoint.x, headPoint.y)\n    contextReference.beginPath()\n    contextReference.lineTo(headPoint.x + (length * Math.cos(alpha)), headPoint.y + (length * Math.sin(alpha)))\n    contextReference.lineTo(headPoint.x + (length * Math.cos(beta)), headPoint.y + (length * Math.sin(beta)))\n    contextReference.lineTo(headPoint.x, headPoint.y)\n    contextReference.fill()\n  } finally {\n    contextReference.restore()\n  }\n}\n\nfunction drawShapeEllipse (context, shapeEllipse) {\n  const points = drawEllipseArc(\n    context,\n    shapeEllipse.center,\n    shapeEllipse.maxRadius,\n    shapeEllipse.minRadius,\n    shapeEllipse.orientation,\n    shapeEllipse.startAngle,\n    shapeEllipse.sweepAngle)\n\n  if (shapeEllipse.beginDecoration && shapeEllipse.beginDecoration === 'ARROW_HEAD') {\n    drawArrowHead(context, points[0], shapeEllipse.beginTangentAngle, 12.0)\n  }\n  if (shapeEllipse.endDecoration && shapeEllipse.endDecoration === 'ARROW_HEAD') {\n    drawArrowHead(context, points[1], shapeEllipse.endTangentAngle, 12.0)\n  }\n}\n\n/**\n * Draw a line\n * @param {Object} context Current rendering context\n * @param {{x: Number, y: Number}} p1 Origin point\n * @param {{x: Number, y: Number}} p2 Destination point\n */\nexport function drawLine (context, p1, p2) {\n  context.save()\n  try {\n    context.beginPath()\n    context.moveTo(p1.x, p1.y)\n    context.lineTo(p2.x, p2.y)\n    context.stroke()\n  } finally {\n    context.restore()\n  }\n}\n\nfunction drawShapeLine (context, shapeLine) {\n  drawLine(context, shapeLine.firstPoint, shapeLine.lastPoint)\n  if (shapeLine.beginDecoration === 'ARROW_HEAD') {\n    drawArrowHead(context, shapeLine.firstPoint, shapeLine.beginTangentAngle, 12.0)\n  }\n  if (shapeLine.endDecoration === 'ARROW_HEAD') {\n    drawArrowHead(context, shapeLine.lastPoint, shapeLine.endTangentAngle, 12.0)\n  }\n}\n\n/**\n * Draw a shape symbol\n * @param {Object} context Current rendering context\n * @param {Object} symbol Symbol to draw\n */\nexport function drawShapeSymbol (context, symbol) {\n  logger.debug(`draw ${symbol.type} symbol`)\n  const contextReference = context\n  contextReference.save()\n  try {\n    contextReference.lineWidth = symbol.width\n    contextReference.strokeStyle = symbol.color\n\n    if (symbol.elementType) {\n      switch (symbol.elementType) {\n        case ShapeSymbols.shape:\n          drawShapeSymbol(contextReference, symbol.candidates[symbol.selectedCandidateIndex])\n          break\n        case ShapeSymbols.table:\n          symbol.lines.forEach(line => drawShapeSymbol(contextReference, line))\n          break\n        case ShapeSymbols.line:\n          drawLine(contextReference, symbol.data.p1, symbol.data.p2)\n          break\n        default:\n          logger.error(`${symbol.elementType} not implemented`)\n          break\n      }\n    } else {\n      switch (symbol.type) {\n        case ShapeSymbols.ellipse:\n          drawShapeEllipse(contextReference, symbol)\n          break\n        case ShapeSymbols.line:\n          drawShapeLine(contextReference, symbol)\n          break\n        case ShapeSymbols.recognizedShape:\n          symbol.primitives.forEach(primitive => drawShapeSymbol(contextReference, primitive))\n          break\n        default:\n          logger.error(`${symbol.type} not implemented`)\n          break\n      }\n    }\n  } finally {\n    contextReference.restore()\n  }\n}\n","import { rendererLogger as logger } from '../../../configuration/LoggerConfig'\nimport { drawLine } from './ShapeSymbolCanvasRenderer'\n\n/**\n * @type {{inputCharacter: String, char: String, string: String, textLine: String}}\n */\nexport const TextSymbols = {\n  inputCharacter: 'inputCharacter',\n  char: 'char',\n  string: 'string',\n  textLine: 'textLine'\n}\n\nfunction drawUnderline (context, underline, label, data) {\n  const delta = data.width / label.length\n  const p1 = {\n    x: data.topLeftPoint.x + (underline.data.firstCharacter * delta),\n    y: data.topLeftPoint.y + data.height\n  }\n  const p2 = {\n    x: data.topLeftPoint.x + (underline.data.lastCharacter * delta),\n    y: data.topLeftPoint.y + data.height\n  }\n  drawLine(context, p1, p2)\n}\n\nfunction drawText (context, label, data) {\n  const contextReference = context\n  contextReference.save()\n  try {\n    contextReference.font = `${data.textHeight}px serif`\n    contextReference.textAlign = (data.justificationType === 'CENTER') ? 'center' : 'left'\n    contextReference.textBaseline = 'bottom'\n    contextReference.fillStyle = contextReference.strokeStyle\n    contextReference.fillText(label, data.topLeftPoint.x, (data.topLeftPoint.y + data.height))\n  } finally {\n    contextReference.restore()\n  }\n}\n\nfunction drawTextLine (context, textLine) {\n  drawText(context, textLine.label, textLine.data)\n  textLine.underlineList.forEach((underline) => {\n    drawUnderline(context, underline, textLine.label, textLine.data)\n  })\n}\n\n/**\n * Draw a text symbol\n * @param {Object} context Current rendering context\n * @param {Object} symbol Symbol to draw\n */\nexport function drawTextSymbol (context, symbol) {\n  logger.debug(`draw ${symbol.type} symbol`)\n  const contextReference = context\n  contextReference.save()\n  try {\n    contextReference.lineWidth = symbol.width\n    contextReference.strokeStyle = symbol.color\n\n    if (symbol.elementType) {\n      switch (symbol.elementType) {\n        case TextSymbols.textLine:\n          drawTextLine(contextReference, symbol)\n          break\n        default:\n          logger.error(`${symbol.elementType} not implemented`)\n          break\n      }\n    } else {\n      switch (symbol.type) {\n        case TextSymbols.textLine:\n          drawTextLine(contextReference, symbol)\n          break\n        default:\n          logger.error(`${symbol.type} not implemented`)\n      }\n    }\n  } finally {\n    contextReference.restore()\n  }\n}\n","import { modelLogger as logger } from '../configuration/LoggerConfig'\n\n/**\n * Stroke symbol\n * @typedef {Object} Stroke\n * @property {String} type=stroke Symbol type, 'stroke' for stroke\n * @property {String} pointerType=undefined Pointer type\n * @property {Number} pointerId=undefined Pointer id\n * @property {Array<Number>} x=[] X coordinates\n * @property {Array<Number>} y=[] Y coordinates\n * @property {Array<Number>} t=[] Timestamps matching x,y coordinates\n * @property {Array<Number>} p=[] Pressure\n * @property {Array<Number>} l=[] Length from origin\n * @property {Number} width=0 (for rendering) Pen/brush width\n * @property {String} color=undefined (for rendering) Pen/brush color\n */\n\n/**\n * pointerEvents symbol\n * @typedef {Object} pointerEvents\n * @property {String} type=pointerEvents Symbol type, 'pointerEvents' for pointerEvents\n * @property {Boolean} processGestures=False indicates if the gestures have to be processed\n * @property {Array<Stroke>} events=[] the events to process\n */\n\nfunction computeDistance (x, y, xArray, yArray, lastIndexPoint) {\n  const distance = Math.sqrt(Math.pow((y - yArray[lastIndexPoint - 1]), 2) + Math.pow((x - xArray[lastIndexPoint - 1]), 2))\n  return isNaN(distance) ? 0 : distance\n}\n\nfunction computeLength (x, y, xArray, yArray, lArray, lastIndexPoint) {\n  const length = lArray[lastIndexPoint - 1] + computeDistance(x, y, xArray, yArray, lastIndexPoint)\n  return isNaN(length) ? 0 : length\n}\n\nfunction computePressure (x, y, xArray, yArray, lArray, lastIndexPoint) {\n  let ratio = 1.0\n  const distance = computeDistance(x, y, xArray, yArray, lastIndexPoint)\n  const length = computeLength(x, y, xArray, yArray, lArray, lastIndexPoint)\n\n  if (length === 0) {\n    ratio = 0.5\n  } else if (distance === length) {\n    ratio = 1.0\n  } else if (distance < 10) {\n    ratio = 0.2 + Math.pow(0.1 * distance, 0.4)\n  } else if (distance > length - 10) {\n    ratio = 0.2 + Math.pow(0.1 * (length - distance), 0.4)\n  }\n  const pressure = ratio * Math.max(0.1, 1.0 - (0.1 * Math.sqrt(distance)))\n  return isNaN(parseFloat(pressure)) ? 0.5 : pressure\n}\n\nfunction filterPointByAcquisitionDelta (x, y, xArray, yArray, width) {\n  const delta = (2 + (width / 4))\n  let ret = false\n  if (xArray.length === 0 || yArray.length === 0 || Math.abs(xArray[xArray.length - 1] - x) >= delta || Math.abs(yArray[yArray.length - 1] - y) >= delta) {\n    ret = true\n  }\n  return ret\n}\n\n/**\n * Create a new stroke\n * @param {Object} properties Properties to be applied to the stroke.\n * @return {Stroke} New stroke with properties for quadratics draw\n */\nexport function createStrokeComponent (properties) {\n  const defaultStroke = {\n    type: 'stroke',\n    x: [],\n    y: [],\n    t: [],\n    p: [],\n    l: [],\n    width: 0\n  }\n  return Object.assign({}, defaultStroke, properties)\n}\n\n/**\n * Get a JSON copy of a stroke by filtering its properties\n * @param {Stroke} stroke Current stroke\n * @return {{x: Array<Number>, y: Array<Number>, t: Array<Number>}} Simplified stroke object\n */\nexport function toJSON (stroke) {\n  return { x: stroke.x, y: stroke.y, t: stroke.t }\n}\n\n/**\n * Mutate a stroke by adding a point to it.\n * @param {Stroke} stroke Current stroke\n * @param {{x: Number, y: Number, t: Number}} point Point to add\n * @return {Stroke} Updated stroke\n */\nexport function addPoint (stroke, point) {\n  const strokeReference = stroke\n  if (filterPointByAcquisitionDelta(point.x, point.y, strokeReference.x, strokeReference.y, strokeReference.width)) {\n    strokeReference.x.push(point.x)\n    strokeReference.y.push(point.y)\n    strokeReference.t.push(point.t)\n    strokeReference.p.push(computePressure(point.x, point.y, strokeReference.x, strokeReference.y, strokeReference.l, strokeReference.x.length - 1))\n    strokeReference.l.push(computeLength(point.x, point.y, strokeReference.x, strokeReference.y, strokeReference.l, strokeReference.x.length - 1))\n  } else {\n    logger.trace('ignore filtered point', point)\n  }\n  return strokeReference\n}\n\n/**\n * Slice a stroke and return the sliced part of it\n * @param {Stroke} stroke Current stroke\n * @param {Number} [start=0] Zero-based index at which to begin extraction\n * @param {Number} [end=length] Zero-based index at which to end extraction\n * @return {Stroke} Sliced stroke\n */\nexport function slice (stroke, start = 0, end = stroke.x.length) {\n  const slicedStroke = createStrokeComponent({ color: stroke.color, width: stroke.width })\n  for (let i = start; i < end; i++) {\n    addPoint(slicedStroke, {\n      x: stroke.x[i],\n      y: stroke.y[i],\n      t: stroke.t[i]\n    })\n  }\n  return slicedStroke\n}\n\n/**\n * Extract point by index\n * @param {Stroke} stroke Current stroke\n * @param {Number} index Zero-based index\n * @return {{x: Number, y: Number, t: Number, p: Number, l: Number}} Point with properties for quadratics draw\n */\nexport function getPointByIndex (stroke, index) {\n  let point\n  if (index !== undefined && index >= 0 && index < stroke.x.length) {\n    point = {\n      x: stroke.x[index],\n      y: stroke.y[index],\n      t: stroke.t[index],\n      p: stroke.p[index],\n      l: stroke.l[index]\n    }\n  }\n  return point\n}\n","function mergeBounds (boundsA, boundsB) {\n  return {\n    minX: Math.min(boundsA.minX, boundsB.minX),\n    maxX: Math.max(boundsA.maxX, boundsB.maxX),\n    minY: Math.min(boundsA.minY, boundsB.minY),\n    maxY: Math.max(boundsA.maxY, boundsB.maxY)\n  }\n}\n\nfunction getLineBounds (line) {\n  return {\n    minX: Math.min(line.firstPoint.x, line.lastPoint.x),\n    maxX: Math.max(line.firstPoint.x, line.lastPoint.x),\n    minY: Math.min(line.firstPoint.y, line.lastPoint.y),\n    maxY: Math.max(line.firstPoint.y, line.lastPoint.y)\n  }\n}\n\nfunction getEllipseBounds (ellipse) {\n  const angleStep = 0.02 // angle delta between interpolated points on the arc, in radian\n\n  let z1 = Math.cos(ellipse.orientation)\n  let z3 = Math.sin(ellipse.orientation)\n  let z2 = z1\n  let z4 = z3\n  z1 *= ellipse.maxRadius\n  z2 *= ellipse.minRadius\n  z3 *= ellipse.maxRadius\n  z4 *= ellipse.minRadius\n\n  const n = Math.abs(ellipse.sweepAngle) / angleStep\n\n  const x = []\n  const y = []\n\n  for (let i = 0; i <= n; i++) {\n    const angle = ellipse.startAngle + ((i / n) * ellipse.sweepAngle)\n    const alpha = Math.atan2(Math.sin(angle) / ellipse.minRadius, Math.cos(angle) / ellipse.maxRadius)\n\n    const cosAlpha = Math.cos(alpha)\n    const sinAlpha = Math.sin(alpha)\n\n    x.push(ellipse.center.x + ((z1 * cosAlpha) - (z4 * sinAlpha)))\n    y.push(ellipse.center.y + ((z2 * sinAlpha) + (z3 * cosAlpha)))\n  }\n\n  return {\n    minX: Math.min(...x),\n    maxX: Math.max(...x),\n    minY: Math.min(...y),\n    maxY: Math.max(...y)\n  }\n}\n\nfunction getTextLineBounds (textLine) {\n  return {\n    minX: textLine.data.topLeftPoint.x,\n    maxX: textLine.data.topLeftPoint.x + textLine.data.width,\n    minY: textLine.data.topLeftPoint.y,\n    maxY: textLine.data.topLeftPoint.y + textLine.data.height\n  }\n}\n\nfunction getClefBounds (clef) {\n  return {\n    minX: clef.boundingBox.x,\n    maxX: clef.boundingBox.x + clef.boundingBox.width,\n    minY: clef.boundingBox.y,\n    maxY: clef.boundingBox.y + clef.boundingBox.height\n  }\n}\n\nfunction getStrokeBounds (stroke) {\n  return {\n    minX: Math.min(...stroke.x),\n    maxX: Math.max(...stroke.x),\n    minY: Math.min(...stroke.y),\n    maxY: Math.max(...stroke.y)\n  }\n}\n\n/**\n * Get the box enclosing the given symbols\n * @param {Array} symbols Symbols to extract bounds from\n * @param {Bounds} [bounds] Starting bounds for recursion\n * @return {Bounds} Bounding box enclosing symbols\n */\nexport function getSymbolsBounds (symbols, bounds = { minX: Number.MAX_VALUE, maxX: Number.MIN_VALUE, minY: Number.MAX_VALUE, maxY: Number.MIN_VALUE }) {\n  let boundsRef = bounds\n  boundsRef = symbols\n    .filter(symbol => symbol.type === 'stroke')\n    .map(getStrokeBounds)\n    .reduce(mergeBounds, boundsRef)\n  boundsRef = symbols\n    .filter(symbol => symbol.type === 'clef')\n    .map(getClefBounds)\n    .reduce(mergeBounds, boundsRef)\n  boundsRef = symbols\n    .filter(symbol => symbol.type === 'line')\n    .map(getLineBounds)\n    .reduce(mergeBounds, boundsRef)\n  boundsRef = symbols\n    .filter(symbol => symbol.type === 'ellipse')\n    .map(getEllipseBounds)\n    .reduce(mergeBounds, boundsRef)\n  boundsRef = symbols\n    .filter(symbol => symbol.type === 'textLine')\n    .map(getTextLineBounds)\n    .reduce(mergeBounds, boundsRef)\n  return boundsRef\n}\n","import { modelLogger as logger } from '../configuration/LoggerConfig'\nimport * as StrokeComponent from './StrokeComponent'\nimport { getSymbolsBounds } from './Symbol'\n\n/**\n * Recognition positions\n * @typedef {Object} RecognitionPositions\n * @property {Number} [lastSentPosition=-1] Index of the last sent stroke.\n * @property {Number} [lastReceivedPosition=-1] Index of the last received stroke.\n * @property {Number} [lastRenderedPosition=-1] Last rendered recognized symbol position\n */\n\n/**\n * Raw results\n * @typedef {Object} RawResults\n * @property {Object} convert=undefined The convert result\n * @property {Object} exports=undefined The exports output as return by the recognition service.\n */\n\n/**\n * Editor model\n * @typedef {Object} Model\n * @property {Stroke} currentStroke=undefined Stroke in building process.\n * @property {Array<Stroke>} rawStrokes=[] List of captured strokes.\n * @property {Array} strokeGroups=[] Group of strokes with same pen style.\n * @property {RecognitionPositions} lastPositions Last recognition sent/received stroke indexes.\n * @property {Array<Object>} defaultSymbols=[] Default symbols, relative to the current recognition type.\n * @property {Array<Object>} recognizedSymbols=undefined Symbols to render (e.g. stroke, shape primitives, string, characters...).\n * @property {Object} exports=undefined Result of the export (e.g. mathml, latex, text...).\n * @property {RawResults} rawResults The recognition output as return by the recognition service.\n * @property {Number} creationTime Date of creation timestamp.\n * @property {Number} modificationTime=undefined Date of lastModification.\n */\n\n/**\n * Bounding box\n * @typedef {Object} Bounds\n * @property {Number} minX Minimal x coordinate\n * @property {Number} maxX Maximal x coordinate\n * @property {Number} minY Minimal y coordinate\n * @property {Number} maxY Maximal y coordinate\n */\n\n/**\n * Create a new model\n * @param {Configuration} [configuration] Parameters to use to populate default recognition symbols\n * @return {Model} New model\n */\nexport function createModel (configuration) {\n  // see @typedef documentation on top\n  return {\n    currentStroke: undefined,\n    rawStrokes: [],\n    strokeGroups: [],\n    lastPositions: {\n      lastSentPosition: -1,\n      lastReceivedPosition: -1,\n      lastRenderedPosition: -1\n    },\n    defaultSymbols: [],\n    recognizedSymbols: undefined,\n    exports: undefined,\n    rawResults: {\n      convert: undefined,\n      exports: undefined\n    },\n    creationTime: new Date().getTime(),\n    modificationTime: undefined\n  }\n}\n\n/**\n * Clear the model.\n * @param {Model} model Current model\n * @return {Model} Cleared model\n */\nexport function clearModel (model) {\n  const modelReference = model\n  modelReference.currentStroke = undefined\n  modelReference.rawStrokes = []\n  modelReference.strokeGroups = []\n  modelReference.lastPositions.lastSentPosition = -1\n  modelReference.lastPositions.lastReceivedPosition = -1\n  modelReference.lastPositions.lastRenderedPosition = -1\n  modelReference.recognizedSymbols = undefined\n  modelReference.exports = undefined\n  modelReference.rawResults.convert = undefined\n  modelReference.rawResults.exports = undefined\n  return modelReference\n}\n\n/**\n * Check if the model needs to be redrawn.\n * @param {Model} model Current model\n * @return {Boolean} True if the model needs to be redrawn, false otherwise\n */\nexport function needRedraw (model) {\n  return model.recognizedSymbols ? (model.rawStrokes.length !== model.recognizedSymbols.filter(symbol => symbol.type === 'stroke').length) : false\n}\n\n/**\n * Mutate the model given in parameter by adding the new strokeToAdd.\n * @param {Model} model Current model\n * @param {Stroke} stroke Stroke to be added to pending ones\n * @return {Model} Updated model\n */\nexport function addStroke (model, stroke) {\n  // We use a reference to the model. The purpose here is to update the pending stroke only.\n  const modelReference = model\n  logger.debug('addStroke', stroke)\n  modelReference.rawStrokes.push(stroke)\n  return modelReference\n}\n\n/**\n * Mutate the model given in parameter by adding the new strokeToAdd and the penstyle. Used for iink REST.\n * @param {Model} model Current model\n * @param {Stroke} stroke Stroke to be added to pending ones\n * @param {PenStyle} strokePenStyle\n * @return {Model} Updated model\n */\nexport function addStrokeToGroup (model, stroke, strokePenStyle) {\n  // We use a reference to the model. The purpose here is to update the pending stroke only.\n  const modelReference = model\n  logger.debug('addStroke', stroke)\n  const lastGroup = modelReference.strokeGroups.length - 1\n  if (modelReference.strokeGroups[lastGroup] && modelReference.strokeGroups[lastGroup].penStyle === strokePenStyle) {\n    modelReference.strokeGroups[lastGroup].strokes.push(stroke)\n  } else {\n    const newStrokeGroup = {\n      penStyle: strokePenStyle,\n      strokes: []\n    }\n    const strokeCopy = {}\n    Object.assign(strokeCopy, stroke)\n    newStrokeGroup.strokes.push(strokeCopy)\n    modelReference.strokeGroups.push(newStrokeGroup)\n  }\n  return modelReference\n}\n\n/**\n * Get the strokes that needs to be recognized\n * @param {Model} model Current model\n * @param {Number} [position=lastReceived] Index from where to extract strokes\n * @return {Array<Stroke>} Pending strokes\n */\nexport function extractPendingStrokes (model, position = model.lastPositions.lastReceivedPosition + 1) {\n  return model.rawStrokes.slice(position)\n}\n\n/**\n * Mutate the model by adding a point and close the current stroke.\n * @param {Model} model Current model\n * @param {{x: Number, y: Number, t: Number}} point Captured point to create current stroke\n * @param {Object} properties Properties to be applied to the current stroke\n * @param {Number} [dpi=96] The screen dpi resolution\n * @return {Model} Updated model\n */\nexport function initPendingStroke (model, point, properties, dpi = 96) {\n  if (properties && properties['-myscript-pen-width']) {\n    const pxWidth = (properties['-myscript-pen-width'] * dpi) / 25.4\n    Object.assign(properties, { width: pxWidth / 2 }) // FIXME hack to get better render\n  }\n  const modelReference = model\n  logger.trace('initPendingStroke', point)\n  // Setting the current stroke to an empty one\n  modelReference.currentStroke = StrokeComponent.createStrokeComponent(properties)\n  modelReference.currentStroke = StrokeComponent.addPoint(modelReference.currentStroke, point)\n  return modelReference\n}\n\n/**\n * Mutate the model by adding a point to the current pending stroke.\n * @param {Model} model Current model\n * @param {{x: Number, y: Number, t: Number}} point Captured point to be append to the current stroke\n * @return {Model} Updated model\n */\nexport function appendToPendingStroke (model, point) {\n  const modelReference = model\n  if (modelReference.currentStroke) {\n    logger.trace('appendToPendingStroke', point)\n    modelReference.currentStroke = StrokeComponent.addPoint(modelReference.currentStroke, point)\n  }\n  return modelReference\n}\n\n/**\n * Mutate the model by adding the new point on a initPendingStroke.\n * @param {Model} model Current model\n * @param {{x: Number, y: Number, t: Number}} point Captured point to be append to the current stroke\n * @param {PenStyle} penStyle\n * @return {Model} Updated model\n */\nexport function endPendingStroke (model, point, penStyle) {\n  const modelReference = model\n  if (modelReference.currentStroke) {\n    logger.trace('endPendingStroke', point)\n    const currentStroke = StrokeComponent.addPoint(modelReference.currentStroke, point)\n    // Mutating pending strokes\n    addStroke(modelReference, currentStroke)\n    addStrokeToGroup(modelReference, currentStroke, penStyle)\n    // Resetting the current stroke to an undefined one\n    delete modelReference.currentStroke\n  }\n  return modelReference\n}\n\n/**\n * Get the bounds of the current model.\n * @param {Model} model Current model\n * @return {Bounds} Bounding box enclosing the current drawn model\n */\nexport function getBorderCoordinates (model) {\n  let modelBounds = { minX: Number.MAX_VALUE, maxX: Number.MIN_VALUE, minY: Number.MAX_VALUE, maxY: Number.MIN_VALUE }\n\n  // Default symbols\n  if (model.defaultSymbols && model.defaultSymbols.length > 0) {\n    modelBounds = getSymbolsBounds(model.defaultSymbols, modelBounds)\n  }\n  // Recognized symbols\n  if (model.recognizedSymbols && model.recognizedSymbols.length > 0) {\n    modelBounds = getSymbolsBounds(model.recognizedSymbols, modelBounds)\n    // Pending strokes\n    modelBounds = getSymbolsBounds(extractPendingStrokes(model), modelBounds)\n  } else {\n    modelBounds = getSymbolsBounds(model.rawStrokes, modelBounds)\n  }\n  return modelBounds\n}\n\n/**\n * Extract strokes from an ink range\n * @param {Model} model Current model\n * @param {Number} firstStroke First stroke index to extract\n * @param {Number} lastStroke Last stroke index to extract\n * @param {Number} firstPoint First point index to extract\n * @param {Number} lastPoint Last point index to extract\n * @return {Array<Stroke>} The extracted strokes\n */\nexport function extractStrokesFromInkRange (model, firstStroke, lastStroke, firstPoint, lastPoint) {\n  return model.rawStrokes.slice(firstStroke, lastStroke + 1).map((stroke, index, slicedStrokes) => {\n    if (slicedStrokes.length < 2) {\n      return StrokeComponent.slice(stroke, firstPoint, lastPoint + 1)\n    }\n    if (index === 0) {\n      return StrokeComponent.slice(stroke, firstPoint)\n    }\n    if (index === (slicedStrokes.length - 1)) {\n      return StrokeComponent.slice(stroke, 0, lastPoint + 1)\n    }\n    return stroke\n  })\n}\n\n/**\n * Update model lastSentPosition\n * @param {Model} model\n * @param {Number} [position]\n * @return {Model}\n */\nexport function updateModelSentPosition (model, position = model.rawStrokes.length - 1) {\n  const modelReference = model\n  modelReference.lastPositions.lastSentPosition = position\n  return modelReference\n}\n\n/**\n * Update model lastReceivedPosition regarding to lastSentPosition\n * @param {Model} model\n * @return {Model}\n */\nexport function updateModelReceivedPosition (model) {\n  const modelReference = model\n  modelReference.lastPositions.lastReceivedPosition = modelReference.lastPositions.lastSentPosition\n  return modelReference\n}\n\n/**\n * Reset model lastReceivedPosition and lastSentPosition\n * @param {Model} model\n * @return {Model}\n */\nexport function resetModelPositions (model) {\n  const modelReference = model\n  modelReference.lastPositions.lastSentPosition = -1\n  modelReference.lastPositions.lastReceivedPosition = -1\n  return modelReference\n}\n\n/**\n * Reset model lastRenderedPosition\n * @param {Model} model\n * @return {Model}\n */\nexport function resetModelRendererPosition (model) {\n  const modelReference = model\n  modelReference.lastPositions.lastRenderedPosition = -1\n  return modelReference\n}\n\n/**\n * Update model lastRenderedPosition\n * @param {Model} model\n * @param {Number} [position]\n * @return {Model}\n */\nexport function updateModelRenderedPosition (model, position = model.recognizedSymbols ? model.recognizedSymbols.length - 1 : -1) {\n  const modelReference = model\n  modelReference.lastPositions.lastRenderedPosition = position\n  return modelReference\n}\n\n/**\n * Get the symbols that needs to be rendered\n * @param {Model} model Current model\n * @param {Number} [position=lastRendered] Index from where to extract symbols\n * @return {Array<Object>}\n */\nexport function extractPendingRecognizedSymbols (model, position = model.lastPositions.lastRenderedPosition + 1) {\n  return model.recognizedSymbols ? model.recognizedSymbols.slice(position) : []\n}\n\n/**\n * Clone model\n * @param {Model} model Current model\n * @return {Model} Clone of the current model\n */\nexport function cloneModel (model) {\n  const clonedModel = Object.assign({}, model)\n  // We clone the properties that need to be. Take care of arrays.\n  clonedModel.defaultSymbols = [...model.defaultSymbols]\n  clonedModel.currentStroke = model.currentStroke ? Object.assign({}, model.currentStroke) : undefined\n  clonedModel.rawStrokes = [...model.rawStrokes]\n  clonedModel.strokeGroups = JSON.parse(JSON.stringify(model.strokeGroups))\n  clonedModel.lastPositions = Object.assign({}, model.lastPositions)\n  clonedModel.exports = model.exports ? Object.assign({}, model.exports) : undefined\n  clonedModel.rawResults = Object.assign({}, model.rawResults)\n  clonedModel.recognizedSymbols = model.recognizedSymbols ? [...model.recognizedSymbols] : undefined\n  return clonedModel\n}\n\n/**\n * Merge models\n * @param {...Model} models Models to merge (ordered)\n * @return {Model} Updated model\n */\nexport function mergeModels (...models) {\n  return models.reduce((a, b) => {\n    const modelRef = a\n    modelRef.recognizedSymbols = b.recognizedSymbols\n    modelRef.lastPositions.lastSentPosition = b.lastPositions.lastSentPosition\n    modelRef.lastPositions.lastReceivedPosition = b.lastPositions.lastReceivedPosition\n    modelRef.lastPositions.lastRenderedPosition = b.lastPositions.lastRenderedPosition\n    modelRef.rawResults = b.rawResults\n    modelRef.exports = b.exports\n    return modelRef\n  })\n}\n","import { rendererLogger as logger } from '../../configuration/LoggerConfig'\nimport { drawStroke } from './symbols/StrokeSymbolCanvasRenderer'\nimport { drawTextSymbol, TextSymbols } from './symbols/TextSymbolCanvasRenderer'\nimport { drawShapeSymbol, ShapeSymbols } from './symbols/ShapeSymbolCanvasRenderer'\nimport * as InkModel from '../../model/InkModel'\n\n/**\n * Renderer info\n * @typedef {Object} RendererInfo\n * @property {String} type Renderer type.\n * @property {String} apiVersion Supported api version.\n */\n\n/**\n * Default renderer\n * @typedef {Object} Renderer\n * @property {function} getInfo Get some information about this renderer\n * @property {function} attach Populate the DOM element to create rendering area.\n * @property {function} detach Remove rendering area from the DOM element.\n * @property {function} resize Explicitly resize the rendering area.\n * @property {function} drawCurrentStroke Draw the model currentStroke.\n * @property {function} drawModel Draw the model defaultSymbols and recognizedSymbols.\n */\n\n/**\n * Get info\n * @return {RendererInfo} Information about this renderer\n */\nexport function getInfo () {\n  return {\n    type: 'canvas'\n  }\n}\n\nfunction getPixelRatio (canvas) {\n  if (canvas) {\n    const context = canvas.getContext('2d')\n    // we are using a browser object\n    // eslint-disable-next-line no-undef\n    const devicePixelRatio = window.devicePixelRatio || 1\n    const backingStoreRatio = context.webkitBackingStorePixelRatio ||\n        context.mozBackingStorePixelRatio ||\n        context.msBackingStorePixelRatio ||\n        context.oBackingStorePixelRatio ||\n        context.backingStorePixelRatio || 1\n    return devicePixelRatio / backingStoreRatio\n  }\n  return 1\n}\n\nfunction detectPixelRatio (element) {\n  // we are using a browser object\n  // eslint-disable-next-line no-undef\n  const tempCanvas = document.createElement('canvas')\n  const canvasRatio = getPixelRatio(tempCanvas)\n  // document.removeChild(tempCanvas);\n  return canvasRatio\n}\n\nfunction createCanvas (element, type) {\n  // eslint-disable-next-line no-undef\n  const browserDocument = document\n  const canvas = browserDocument.createElement('canvas')\n  canvas.classList.add(type)\n  canvas.classList.add('ms-canvas')\n  element.appendChild(canvas)\n  logger.debug('canvas created', canvas)\n  return canvas\n}\n\nfunction resizeContent (context) {\n  const elements = [context.renderingCanvas, context.capturingCanvas]\n  elements.forEach((canvas) => {\n    const domElement = canvas.parentNode\n    const width = domElement.clientWidth < context.minWidth ? context.minWidth : domElement.clientWidth\n    const height = domElement.clientHeight < context.minHeight ? context.minHeight : domElement.clientHeight\n    /* eslint-disable no-param-reassign */\n    canvas.width = width * context.pixelRatio\n    canvas.height = height * context.pixelRatio\n    canvas.style.width = `${width}px`\n    canvas.style.height = `${height}px`\n    /* eslint-enable no-param-reassign */\n    canvas.getContext('2d').scale(context.pixelRatio, context.pixelRatio)\n    logger.debug('canvas size changed', canvas)\n  })\n  return context\n}\n\n/**\n * Attach the renderer to the DOM element\n * @param {Element} element DOM element to attach the rendering elements\n * @param {Number} [minHeight=0] Minimal height of the editor\n * @param {Number} [minWidth=0] Minimal width of the editor\n * @return {Object} The renderer context to give as parameter when a draw model will be call\n */\nexport function attach (element, minHeight = 0, minWidth = 0) {\n  logger.debug('attach renderer', element)\n  const pixelRatio = detectPixelRatio(element)\n\n  const renderingCanvas = createCanvas(element, 'ms-rendering-canvas')\n  const capturingCanvas = createCanvas(element, 'ms-capture-canvas')\n\n  const context = {\n    pixelRatio,\n    minHeight,\n    minWidth,\n    renderingCanvas,\n    renderingCanvasContext: renderingCanvas.getContext('2d'),\n    capturingCanvas,\n    capturingCanvasContext: capturingCanvas.getContext('2d')\n  }\n\n  return resizeContent(context)\n}\n\n/**\n * Detach the renderer from the DOM element\n * @param {Element} element DOM element to attach the rendering elements\n * @param {Object} context Current rendering context\n */\nexport function detach (element, context) {\n  logger.debug('detach renderer', element)\n  element.removeChild(context.renderingCanvas)\n  element.removeChild(context.capturingCanvas)\n}\n\n/**\n * Update the rendering context size\n * @param {Object} context Current rendering context\n * @param {Model} model Current model\n * @param {Stroker} stroker Current stroker\n * @return {Model}\n */\nexport function resize (context, model, stroker) {\n  return this.drawModel(resizeContent(context), model, stroker)\n}\n\nfunction drawSymbol (context, symbol, stroker) {\n  const type = symbol.elementType ? symbol.elementType : symbol.type\n  logger.trace(`attempting to draw ${type} symbol`)\n  if (type === 'stroke') {\n    drawStroke(context, symbol, stroker)\n  } else if (TextSymbols[type]) {\n    drawTextSymbol(context, symbol)\n  } else if (ShapeSymbols[type]) {\n    drawShapeSymbol(context, symbol)\n  } else {\n    logger.warn(`impossible to draw ${type} symbol`)\n  }\n}\n\n/**\n * Draw the current stroke from the model\n * @param {Object} context Current rendering context\n * @param {Model} model Current model\n * @param {Stroker} stroker Current stroker\n * @return {Model}\n */\nexport function drawCurrentStroke (context, model, stroker) {\n  // Render the current stroke\n  context.capturingCanvasContext.clearRect(0, 0, context.capturingCanvas.width, context.capturingCanvas.height)\n  logger.trace('drawing current stroke ', model.currentStroke)\n  drawStroke(context.capturingCanvasContext, model.currentStroke, stroker)\n  return model\n}\n\n/**\n * Draw all symbols contained into the model\n * @param {Object} context Current rendering context\n * @param {Model} model Current model\n * @param {Stroker} stroker Current stroker\n * @return {Model}\n */\nexport function drawModel (context, model, stroker) {\n  context.renderingCanvasContext.clearRect(0, 0, context.renderingCanvas.width, context.renderingCanvas.height)\n  // Displaying the default symbols and pending strokes\n  const symbols = [...model.defaultSymbols]\n  // Displaying the recognition symbols or raw strokes\n  if (model.recognizedSymbols) {\n    symbols.push(...model.recognizedSymbols)\n    symbols.push(...InkModel.extractPendingStrokes(model))\n  } else {\n    symbols.push(...model.rawStrokes)\n  }\n  symbols.forEach(symbol => drawSymbol(context.renderingCanvasContext, symbol, stroker))\n  context.capturingCanvasContext.clearRect(0, 0, context.capturingCanvas.width, context.capturingCanvas.height)\n  return model\n}\n","/** ===============================================================================================\n * Compute quadratics control points\n * ============================================================================================= */\n\n/**\n *\n * @param {{x: Number, y: Number, p: Number}} point\n * @param angle\n * @param width\n * @return {({x: number, y: *}|{x: *, y: number})}\n */\nexport function computeLinksPoints (point, angle, width) {\n  const radius = point.p * width\n  return [{\n    x: (point.x - (Math.sin(angle) * radius)),\n    y: (point.y + (Math.cos(angle) * radius))\n  }, {\n    x: (point.x + (Math.sin(angle) * radius)),\n    y: (point.y - (Math.cos(angle) * radius))\n  }]\n}\n\n/**\n *\n * @param {{x: Number, y: Number, p: Number}} point1\n * @param {{x: Number, y: Number, p: Number}} point2\n * @return {{x: Number, y: Number, p: Number}}\n */\nexport function computeMiddlePoint (point1, point2) {\n  return {\n    x: ((point2.x + point1.x) / 2),\n    y: ((point2.y + point1.y) / 2),\n    p: ((point2.p + point1.p) / 2)\n  }\n}\n\n/**\n *\n * @param {{x: Number, y: Number}} begin\n * @param {{x: Number, y: Number}} end\n * @return {Number}\n */\nexport function computeAxeAngle (begin, end) {\n  return Math.atan2(end.y - begin.y, end.x - begin.x)\n}\n","import * as StrokeComponent from '../../../model/StrokeComponent'\nimport { computeLinksPoints, computeMiddlePoint, computeAxeAngle } from '../../QuadraticUtils'\n\n/**\n * Stroker info\n * @typedef {Object} StrokerInfo\n * @property {String} type Renderer type.\n * @property {String} name Stroker name.\n * @property {String} apiVersion Supported api version.\n */\n\n/**\n * Define how a stroke should be drawn\n * @typedef {Object} Stroker\n * @property {function} getInfo Get some information about this stroker\n * @property {function} drawStroke Render a stroke on the current context.\n */\n\n/**\n * Get info\n * @return {StrokerInfo} Information about this stroker\n */\nexport function getInfo () {\n  return {\n    type: 'canvas',\n    name: 'quadratic'\n  }\n}\n\nfunction renderArc (context, center, radius) {\n  context.arc(center.x, center.y, radius, 0, Math.PI * 2, true)\n}\n\nfunction renderLine (context, begin, end, width) {\n  const linkPoints1 = computeLinksPoints(begin, computeAxeAngle(begin, end), width)\n  const linkPoints2 = computeLinksPoints(end, computeAxeAngle(begin, end), width)\n\n  context.moveTo(linkPoints1[0].x, linkPoints1[0].y)\n  context.lineTo(linkPoints2[0].x, linkPoints2[0].y)\n  context.lineTo(linkPoints2[1].x, linkPoints2[1].y)\n  context.lineTo(linkPoints1[1].x, linkPoints1[1].y)\n}\n\nfunction renderFinal (context, begin, end, width) {\n  const ARCSPLIT = 6\n  const angle = computeAxeAngle(begin, end)\n  const linkPoints = computeLinksPoints(end, angle, width)\n  context.moveTo(linkPoints[0].x, linkPoints[0].y)\n  for (let i = 1; i <= ARCSPLIT; i++) {\n    const newAngle = angle - ((i * Math.PI) / ARCSPLIT)\n    context.lineTo(end.x - ((end.p * width) * Math.sin(newAngle)), end.y + (end.p * width * Math.cos(newAngle)))\n  }\n}\n\nfunction renderQuadratic (context, begin, end, ctrl, width) {\n  const linkPoints1 = computeLinksPoints(begin, computeAxeAngle(begin, ctrl), width)\n  const linkPoints2 = computeLinksPoints(end, computeAxeAngle(ctrl, end), width)\n  const linkPoints3 = computeLinksPoints(ctrl, computeAxeAngle(begin, end), width)\n\n  context.moveTo(linkPoints1[0].x, linkPoints1[0].y)\n  context.quadraticCurveTo(linkPoints3[0].x, linkPoints3[0].y, linkPoints2[0].x, linkPoints2[0].y)\n  context.lineTo(linkPoints2[1].x, linkPoints2[1].y)\n  context.quadraticCurveTo(linkPoints3[1].x, linkPoints3[1].y, linkPoints1[1].x, linkPoints1[1].y)\n}\n\n/**\n * Draw a stroke on a canvas, using quadratics\n * @param {Object} context Current rendering context\n * @param {Stroke} stroke Current stroke to be drawn\n */\nexport function drawStroke (context, stroke) {\n  const contextReference = context\n  const length = stroke.x.length\n  const width = stroke.width > 0 ? stroke.width : contextReference.lineWidth\n  const color = stroke.color ? stroke.color : contextReference.strokeStyle\n  const firstPoint = StrokeComponent.getPointByIndex(stroke, 0)\n  const nbquadratics = length - 2\n\n  contextReference.save()\n  try {\n    contextReference.beginPath()\n    if (length < 3) {\n      renderArc(contextReference, firstPoint, width * 0.6)\n    } else {\n      renderArc(contextReference, firstPoint, width * firstPoint.p)\n      renderLine(contextReference, firstPoint, computeMiddlePoint(firstPoint, StrokeComponent.getPointByIndex(stroke, 1)), width)\n\n      // Possibility to try this (the start looks better when the ink is large)\n      // var first = computeMiddlePoint(stroke[0], stroke[1]);\n      // contextReference.arc(first.x, first.y, width * first.p, 0, Math.PI * 2, true);\n\n      for (let i = 0; i < nbquadratics; i++) {\n        renderQuadratic(contextReference, computeMiddlePoint(StrokeComponent.getPointByIndex(stroke, i), StrokeComponent.getPointByIndex(stroke, i + 1)), computeMiddlePoint(StrokeComponent.getPointByIndex(stroke, i + 1), StrokeComponent.getPointByIndex(stroke, i + 2)), StrokeComponent.getPointByIndex(stroke, i + 1), width)\n      }\n      renderLine(contextReference, computeMiddlePoint(StrokeComponent.getPointByIndex(stroke, length - 2), StrokeComponent.getPointByIndex(stroke, length - 1)), StrokeComponent.getPointByIndex(stroke, length - 1), width)\n      renderFinal(contextReference, StrokeComponent.getPointByIndex(stroke, length - 2), StrokeComponent.getPointByIndex(stroke, length - 1), width)\n    }\n    contextReference.closePath()\n    if (color !== undefined) {\n      contextReference.fillStyle = color\n      contextReference.fill()\n    }\n  } finally {\n    contextReference.restore()\n  }\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","/**\n * Draw a stroke symbol\n * @param {Object} context Current rendering context\n * @param {Stroke} stroke Stroke to be drawn\n * @param {Stroker} stroker Stroker to use to render a stroke\n */\nexport function drawStroke (context, stroke, stroker) {\n  if (stroker) {\n    stroker.drawStroke(context, stroke)\n  }\n}\n","import * as d3 from 'd3-selection'\nimport { rendererLogger as logger } from '../../configuration/LoggerConfig'\nimport { drawStroke } from './symbols/StrokeSymbolSVGRenderer'\nimport * as InkModel from '../../model/InkModel'\n\n/**\n * Get info\n * @return {RendererInfo} Information about this renderer\n */\nexport function getInfo () {\n  return {\n    type: 'svg'\n  }\n}\n\n/**\n * Populate the dom element\n * @param {Element} element DOM element to attach the rendering elements\n * @return {Object} The renderer context to give as parameter when a draw model will be call\n */\nexport function attach (element) {\n  const elementRef = element\n  logger.debug('populate root element', elementRef)\n  elementRef.style.fontSize = '10px'\n  return d3.select(elementRef)\n}\n\n/**\n * Detach the renderer from the DOM element\n * @param {Element} element DOM element to attach the rendering elements\n * @param {Object} context Current rendering context\n */\nexport function detach (element, context) {\n  logger.debug('detach renderer', element)\n  context.select('svg').remove()\n}\n\n/**\n * Update the rendering context size\n * @param {Object} context Current rendering context\n * @param {Model} model Current model\n * @param {Stroker} stroker Current stroker\n * @param {Number} minHeight Minimal height for resize\n * @param {Number} minWidth Minimal Width for resize\n * @return {Model}\n */\nexport function resize (context, model, stroker, minHeight, minWidth) {\n  const rect = context.node().getBoundingClientRect()\n  const svg = context.selectAll('svg')\n  const width = rect.width < minWidth ? minWidth : rect.width\n  const height = rect.height < minHeight ? minHeight : rect.height\n  svg.attr('viewBox', `0 0 ${width}, ${height}`)\n  svg.attr('width', `${width}px`)\n  svg.attr('height', `${height}px`)\n  logger.debug('svg viewBox changed', svg)\n  return model\n}\n\n/**\n * Draw the current stroke from the model\n * @param {Object} context Current rendering context\n * @param {Model} model Current model\n * @param {Stroker} stroker Current stroker\n * @return {Model}\n */\nexport function drawCurrentStroke (context, model, stroker) {\n  const modelRef = model\n  // Add a pending id for pending strokes rendering\n  modelRef.currentStroke.id = `pendingStroke-${model.rawStrokes.length}`\n  // Render the current stroke\n  logger.trace('drawing current stroke ', model.currentStroke)\n  context.select(`#pendingStrokes #${modelRef.currentStroke.id}`).remove()\n  drawStroke(context.select('#pendingStrokes').append('path').attr('id', model.currentStroke.id), model.currentStroke, stroker)\n  return modelRef\n}\n\nfunction insertAdjacentSVG (element, position, html) {\n  const container = element.ownerDocument.createElementNS('http://www.w3.org/2000/svg', '_')\n  container.innerHTML = html\n\n  switch (position.toLowerCase()) {\n    case 'beforebegin':\n      element.parentNode.insertBefore(container.firstChild, element)\n      break\n    case 'afterbegin':\n      element.insertBefore(container.lastChild, element.firstChild)\n      break\n    case 'beforeend':\n      element.appendChild(container.firstChild)\n      break\n    case 'afterend':\n      element.parentNode.insertBefore(container.lastChild, element.nextSibling)\n      break\n    default:\n      logger.warn('Invalid insertAdjacentHTML position')\n      break\n  }\n}\n\n/**\n * Draw all symbols contained into the model\n * @param {Object} context Current rendering context\n * @param {Model} model Current model\n * @param {Stroker} stroker Current stroker\n * @return {Model}\n */\nexport function drawModel (context, model, stroker) {\n  const drawSymbol = (symbol, symbolContext) => {\n    logger.trace(`attempting to draw ${symbol.type} symbol`)\n    if (symbol.type === 'stroke' && !symbolContext.select('id', symbol.id)) {\n      drawStroke(symbolContext.append('path').attr('id', symbol.id), symbol, stroker)\n    } else {\n      logger.warn(`impossible to draw ${symbol.type} symbol`)\n    }\n  }\n\n  const updateView = (patchUpdate) => {\n    // We only add in the stack patch with updates\n    patchUpdate.updates.forEach((update) => {\n      try {\n        const svgElementSelector = 'svg[data-layer=\"' + patchUpdate.layer + '\"]'\n        switch (update.type) {\n          case 'REPLACE_ALL': {\n            context.select(svgElementSelector).remove()\n            const parent = context.node()\n            if (parent.insertAdjacentHTML) {\n              parent.insertAdjacentHTML('beforeEnd', update.svg)\n            } else {\n              insertAdjacentSVG(parent, 'beforeEnd', update.svg)\n            }\n            if (patchUpdate.layer === 'MODEL') {\n              context.select(svgElementSelector).append('g').attr('id', 'pendingStrokes')\n            }\n          }\n            break\n          case 'REMOVE_ELEMENT': {\n            if (update.id.includes('s') || update.id.includes('MODEL')) {\n              context.select(`#${update.id}`).remove()\n            } else {\n              context.select(`#${update.id}`).attr('class', 'removed-stroke')\n              context.select(`#${update.id}`).remove()\n            }\n            break\n          }\n          case 'REPLACE_ELEMENT': {\n            const parent = context.select(`#${update.id}`).node().parentNode\n            context.select(`#${update.id}`).remove()\n            if (parent.insertAdjacentHTML) {\n              parent.insertAdjacentHTML('beforeEnd', update.svg)\n            } else {\n              insertAdjacentSVG(parent, 'beforeEnd', update.svg)\n              context.node().insertAdjacentHTML('beforeEnd', context.select(svgElementSelector).remove().node().outerHTML)\n            }\n          }\n            break\n          case 'REMOVE_CHILD':\n            context.select(`#${update.parentId} > *:nth-child(${update.index + 1})`).remove()\n            break\n          case 'APPEND_CHILD': {\n            const parent = context.select(update.parentId ? `#${update.parentId}` : svgElementSelector).node()\n            if (parent.insertAdjacentHTML) {\n              parent.insertAdjacentHTML('beforeEnd', update.svg)\n            } else {\n              insertAdjacentSVG(parent, 'beforeEnd', update.svg)\n              context.node().insertAdjacentHTML('beforeEnd', context.select(svgElementSelector).remove().node().outerHTML)\n            }\n          }\n            break\n          case 'INSERT_BEFORE': {\n            const parent = context.select(`#${update.refId}`).node()\n            if (parent.insertAdjacentHTML) {\n              parent.insertAdjacentHTML('beforeBegin', update.svg)\n            } else {\n              insertAdjacentSVG(parent, 'beforeBegin', update.svg)\n              context.node().insertAdjacentHTML('beforeEnd', context.select(svgElementSelector).remove().node().outerHTML)\n            }\n          }\n            break\n          case 'REMOVE_ATTRIBUTE':\n            context.selectAll(update.id ? `#${update.id}` : 'svg').attr(update.name, null)\n            break\n          case 'SET_ATTRIBUTE': {\n            // We ignore setAttributes on the svg element because we handle the resize elsewhere to prevent a blink effect\n            // that occurs if we are waiting for the server to resize.\n            if (update.id) {\n              context.selectAll(`#${update.id}`).attr(update.name, update.value)\n            }\n            break\n          }\n          default:\n            logger.debug(`unknown update ${update.type} action`)\n            break\n        }\n      } catch (e) {\n        logger.error(`Invalid update ${update.type}`, update)\n        logger.error('Error on svg patch', e)\n      }\n    })\n  }\n\n  const pendingRecognizedSymbols = InkModel.extractPendingRecognizedSymbols(model)\n  if (pendingRecognizedSymbols) {\n    pendingRecognizedSymbols.forEach(patch => updateView(patch))\n    InkModel.updateModelRenderedPosition(model)\n  }\n\n  const pendingStrokes = InkModel.extractPendingStrokes(model)\n  if (pendingStrokes) {\n    pendingStrokes.forEach(stroke => drawSymbol(stroke, context.select('#pendingStrokes')))\n  }\n  return model\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import * as StrokeComponent from '../../../model/StrokeComponent'\nimport { computeLinksPoints, computeMiddlePoint, computeAxeAngle } from '../../QuadraticUtils'\n\n/**\n * Get info\n * @return {StrokerInfo} Information about this stroker\n */\nexport function getInfo () {\n  return {\n    type: 'svg',\n    name: 'quadratic'\n  }\n}\n\nfunction renderArc (context, center, radius) {\n  const svgPath = [\n    `M ${center.x},${center.y}`,\n    `m ${-radius},0`,\n    `a ${radius},${radius} 0 1 0 ${radius * 2},0`,\n    `a ${radius},${radius} 0 1 0 ${-(radius * 2)},0`\n  ].join(' ')\n  return svgPath\n}\n\nfunction renderLine (context, begin, end, width) {\n  const linkPoints1 = computeLinksPoints(begin, computeAxeAngle(begin, end), width)\n  const linkPoints2 = computeLinksPoints(end, computeAxeAngle(begin, end), width)\n\n  const svgPath = [\n    `M ${linkPoints1[0].x},${linkPoints1[0].y}`,\n    `L ${linkPoints2[0].x},${linkPoints2[0].y}`,\n    `L ${linkPoints2[1].x},${linkPoints2[1].y}`,\n    `L ${linkPoints1[1].x},${linkPoints1[1].y}`\n  ].join(' ')\n  return svgPath\n}\n\nfunction renderFinal (context, begin, end, width) {\n  const ARCSPLIT = 6\n  const angle = computeAxeAngle(begin, end)\n  const linkPoints = computeLinksPoints(end, angle, width)\n\n  const parts = [`M ${linkPoints[0].x},${linkPoints[0].y}`]\n  for (let i = 1; i <= ARCSPLIT; i++) {\n    const newAngle = angle - (i * (Math.PI / ARCSPLIT))\n    parts.push(`L ${end.x - (end.p * width * Math.sin(newAngle))},${end.y + (end.p * width * Math.cos(newAngle))}`)\n  }\n  const svgPath = parts.join(' ')\n  return svgPath\n}\n\nfunction renderQuadratic (context, begin, end, ctrl, width) {\n  const linkPoints1 = computeLinksPoints(begin, computeAxeAngle(begin, ctrl), width)\n  const linkPoints2 = computeLinksPoints(end, computeAxeAngle(ctrl, end), width)\n  const linkPoints3 = computeLinksPoints(ctrl, computeAxeAngle(begin, end), width)\n\n  const svgPath = [\n    `M ${linkPoints1[0].x},${linkPoints1[0].y}`,\n    `Q ${linkPoints3[0].x},${linkPoints3[0].y} ${linkPoints2[0].x},${linkPoints2[0].y}`,\n    `L ${linkPoints2[1].x},${linkPoints2[1].y}`,\n    `Q ${linkPoints3[1].x},${linkPoints3[1].y} ${linkPoints1[1].x},${linkPoints1[1].y}`\n  ].join(' ')\n  return svgPath\n}\n\n/**\n * Draw a stroke on a svg tag, using quadratics\n * @param {Object} context Current rendering context\n * @param {Stroke} stroke Current stroke to be drawn\n */\nexport function drawStroke (context, stroke) {\n  const length = stroke.x.length\n  const width = stroke.width\n  const firstPoint = StrokeComponent.getPointByIndex(stroke, 0)\n  const nbquadratics = length - 2\n\n  const parts = []\n  if (length < 3) {\n    parts.push(renderArc(context, firstPoint, width * 0.6))\n  } else {\n    parts.push(renderArc(context, firstPoint, width * firstPoint.p))\n    parts.push(renderLine(context, firstPoint, computeMiddlePoint(firstPoint, StrokeComponent.getPointByIndex(stroke, 1)), width))\n\n    for (let i = 0; i < nbquadratics; i++) {\n      parts.push(renderQuadratic(context, computeMiddlePoint(StrokeComponent.getPointByIndex(stroke, i), StrokeComponent.getPointByIndex(stroke, i + 1)), computeMiddlePoint(StrokeComponent.getPointByIndex(stroke, i + 1), StrokeComponent.getPointByIndex(stroke, i + 2)), StrokeComponent.getPointByIndex(stroke, i + 1), width))\n    }\n    parts.push(renderLine(context, computeMiddlePoint(StrokeComponent.getPointByIndex(stroke, length - 2), StrokeComponent.getPointByIndex(stroke, length - 1)), StrokeComponent.getPointByIndex(stroke, length - 1), width))\n    parts.push(renderFinal(context, StrokeComponent.getPointByIndex(stroke, length - 2), StrokeComponent.getPointByIndex(stroke, length - 1), width))\n  }\n  const svgPath = parts.join(' ')\n\n  context\n    .attr('color', stroke.color)\n    .style('fill', stroke.color)\n    .style('stroke', 'transparent')\n    .classed('pending-stroke', true)\n    .attr('d', `${svgPath}Z`)\n}\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\t    /*\n\t     * Local polyfil of Object.create\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {};\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            var r = (function (m_w) {\n\t                var m_w = m_w;\n\t                var m_z = 0x3ade68b1;\n\t                var mask = 0xffffffff;\n\n\t                return function () {\n\t                    m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t                    m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t                    var result = ((m_z << 0x10) + m_w) & mask;\n\t                    result /= 0x100000000;\n\t                    result += 0.5;\n\t                    return result * (Math.random() > .5 ? 1 : -1);\n\t                }\n\t            });\n\n\t            for (var i = 0, rcache; i < nBytes; i += 4) {\n\t                var _r = r((rcache || Math.random()) * 0x100000000);\n\n\t                rcache = _r() * 0x3ade67b7;\n\t                words.push((_r() * 0x100000000) | 0);\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                var processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Hex;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (undefined) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var X32WordArray = C_lib.WordArray;\n\n\t    /**\n\t     * x64 namespace.\n\t     */\n\t    var C_x64 = C.x64 = {};\n\n\t    /**\n\t     * A 64-bit word.\n\t     */\n\t    var X64Word = C_x64.Word = Base.extend({\n\t        /**\n\t         * Initializes a newly created 64-bit word.\n\t         *\n\t         * @param {number} high The high 32 bits.\n\t         * @param {number} low The low 32 bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     var x64Word = CryptoJS.x64.Word.create(0x00010203, 0x04050607);\n\t         */\n\t        init: function (high, low) {\n\t            this.high = high;\n\t            this.low = low;\n\t        }\n\n\t        /**\n\t         * Bitwise NOTs this word.\n\t         *\n\t         * @return {X64Word} A new x64-Word object after negating.\n\t         *\n\t         * @example\n\t         *\n\t         *     var negated = x64Word.not();\n\t         */\n\t        // not: function () {\n\t            // var high = ~this.high;\n\t            // var low = ~this.low;\n\n\t            // return X64Word.create(high, low);\n\t        // },\n\n\t        /**\n\t         * Bitwise ANDs this word with the passed word.\n\t         *\n\t         * @param {X64Word} word The x64-Word to AND with this word.\n\t         *\n\t         * @return {X64Word} A new x64-Word object after ANDing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var anded = x64Word.and(anotherX64Word);\n\t         */\n\t        // and: function (word) {\n\t            // var high = this.high & word.high;\n\t            // var low = this.low & word.low;\n\n\t            // return X64Word.create(high, low);\n\t        // },\n\n\t        /**\n\t         * Bitwise ORs this word with the passed word.\n\t         *\n\t         * @param {X64Word} word The x64-Word to OR with this word.\n\t         *\n\t         * @return {X64Word} A new x64-Word object after ORing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var ored = x64Word.or(anotherX64Word);\n\t         */\n\t        // or: function (word) {\n\t            // var high = this.high | word.high;\n\t            // var low = this.low | word.low;\n\n\t            // return X64Word.create(high, low);\n\t        // },\n\n\t        /**\n\t         * Bitwise XORs this word with the passed word.\n\t         *\n\t         * @param {X64Word} word The x64-Word to XOR with this word.\n\t         *\n\t         * @return {X64Word} A new x64-Word object after XORing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var xored = x64Word.xor(anotherX64Word);\n\t         */\n\t        // xor: function (word) {\n\t            // var high = this.high ^ word.high;\n\t            // var low = this.low ^ word.low;\n\n\t            // return X64Word.create(high, low);\n\t        // },\n\n\t        /**\n\t         * Shifts this word n bits to the left.\n\t         *\n\t         * @param {number} n The number of bits to shift.\n\t         *\n\t         * @return {X64Word} A new x64-Word object after shifting.\n\t         *\n\t         * @example\n\t         *\n\t         *     var shifted = x64Word.shiftL(25);\n\t         */\n\t        // shiftL: function (n) {\n\t            // if (n < 32) {\n\t                // var high = (this.high << n) | (this.low >>> (32 - n));\n\t                // var low = this.low << n;\n\t            // } else {\n\t                // var high = this.low << (n - 32);\n\t                // var low = 0;\n\t            // }\n\n\t            // return X64Word.create(high, low);\n\t        // },\n\n\t        /**\n\t         * Shifts this word n bits to the right.\n\t         *\n\t         * @param {number} n The number of bits to shift.\n\t         *\n\t         * @return {X64Word} A new x64-Word object after shifting.\n\t         *\n\t         * @example\n\t         *\n\t         *     var shifted = x64Word.shiftR(7);\n\t         */\n\t        // shiftR: function (n) {\n\t            // if (n < 32) {\n\t                // var low = (this.low >>> n) | (this.high << (32 - n));\n\t                // var high = this.high >>> n;\n\t            // } else {\n\t                // var low = this.high >>> (n - 32);\n\t                // var high = 0;\n\t            // }\n\n\t            // return X64Word.create(high, low);\n\t        // },\n\n\t        /**\n\t         * Rotates this word n bits to the left.\n\t         *\n\t         * @param {number} n The number of bits to rotate.\n\t         *\n\t         * @return {X64Word} A new x64-Word object after rotating.\n\t         *\n\t         * @example\n\t         *\n\t         *     var rotated = x64Word.rotL(25);\n\t         */\n\t        // rotL: function (n) {\n\t            // return this.shiftL(n).or(this.shiftR(64 - n));\n\t        // },\n\n\t        /**\n\t         * Rotates this word n bits to the right.\n\t         *\n\t         * @param {number} n The number of bits to rotate.\n\t         *\n\t         * @return {X64Word} A new x64-Word object after rotating.\n\t         *\n\t         * @example\n\t         *\n\t         *     var rotated = x64Word.rotR(7);\n\t         */\n\t        // rotR: function (n) {\n\t            // return this.shiftR(n).or(this.shiftL(64 - n));\n\t        // },\n\n\t        /**\n\t         * Adds this word with the passed word.\n\t         *\n\t         * @param {X64Word} word The x64-Word to add with this word.\n\t         *\n\t         * @return {X64Word} A new x64-Word object after adding.\n\t         *\n\t         * @example\n\t         *\n\t         *     var added = x64Word.add(anotherX64Word);\n\t         */\n\t        // add: function (word) {\n\t            // var low = (this.low + word.low) | 0;\n\t            // var carry = (low >>> 0) < (this.low >>> 0) ? 1 : 0;\n\t            // var high = (this.high + word.high + carry) | 0;\n\n\t            // return X64Word.create(high, low);\n\t        // }\n\t    });\n\n\t    /**\n\t     * An array of 64-bit words.\n\t     *\n\t     * @property {Array} words The array of CryptoJS.x64.Word objects.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var X64WordArray = C_x64.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of CryptoJS.x64.Word objects.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.x64.WordArray.create();\n\t         *\n\t         *     var wordArray = CryptoJS.x64.WordArray.create([\n\t         *         CryptoJS.x64.Word.create(0x00010203, 0x04050607),\n\t         *         CryptoJS.x64.Word.create(0x18191a1b, 0x1c1d1e1f)\n\t         *     ]);\n\t         *\n\t         *     var wordArray = CryptoJS.x64.WordArray.create([\n\t         *         CryptoJS.x64.Word.create(0x00010203, 0x04050607),\n\t         *         CryptoJS.x64.Word.create(0x18191a1b, 0x1c1d1e1f)\n\t         *     ], 10);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 8;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this 64-bit word array to a 32-bit word array.\n\t         *\n\t         * @return {CryptoJS.lib.WordArray} This word array's data as a 32-bit word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var x32WordArray = x64WordArray.toX32();\n\t         */\n\t        toX32: function () {\n\t            // Shortcuts\n\t            var x64Words = this.words;\n\t            var x64WordsLength = x64Words.length;\n\n\t            // Convert\n\t            var x32Words = [];\n\t            for (var i = 0; i < x64WordsLength; i++) {\n\t                var x64Word = x64Words[i];\n\t                x32Words.push(x64Word.high);\n\t                x32Words.push(x64Word.low);\n\t            }\n\n\t            return X32WordArray.create(x32Words, this.sigBytes);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {X64WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = x64WordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\n\t            // Clone \"words\" array\n\t            var words = clone.words = this.words.slice(0);\n\n\t            // Clone each X64Word object\n\t            var wordsLength = words.length;\n\t            for (var i = 0; i < wordsLength; i++) {\n\t                words[i] = words[i].clone();\n\t            }\n\n\t            return clone;\n\t        }\n\t    });\n\t}());\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./x64-core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./x64-core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_x64 = C.x64;\n\t    var X64Word = C_x64.Word;\n\t    var X64WordArray = C_x64.WordArray;\n\t    var C_algo = C.algo;\n\n\t    function X64Word_create() {\n\t        return X64Word.create.apply(X64Word, arguments);\n\t    }\n\n\t    // Constants\n\t    var K = [\n\t        X64Word_create(0x428a2f98, 0xd728ae22), X64Word_create(0x71374491, 0x23ef65cd),\n\t        X64Word_create(0xb5c0fbcf, 0xec4d3b2f), X64Word_create(0xe9b5dba5, 0x8189dbbc),\n\t        X64Word_create(0x3956c25b, 0xf348b538), X64Word_create(0x59f111f1, 0xb605d019),\n\t        X64Word_create(0x923f82a4, 0xaf194f9b), X64Word_create(0xab1c5ed5, 0xda6d8118),\n\t        X64Word_create(0xd807aa98, 0xa3030242), X64Word_create(0x12835b01, 0x45706fbe),\n\t        X64Word_create(0x243185be, 0x4ee4b28c), X64Word_create(0x550c7dc3, 0xd5ffb4e2),\n\t        X64Word_create(0x72be5d74, 0xf27b896f), X64Word_create(0x80deb1fe, 0x3b1696b1),\n\t        X64Word_create(0x9bdc06a7, 0x25c71235), X64Word_create(0xc19bf174, 0xcf692694),\n\t        X64Word_create(0xe49b69c1, 0x9ef14ad2), X64Word_create(0xefbe4786, 0x384f25e3),\n\t        X64Word_create(0x0fc19dc6, 0x8b8cd5b5), X64Word_create(0x240ca1cc, 0x77ac9c65),\n\t        X64Word_create(0x2de92c6f, 0x592b0275), X64Word_create(0x4a7484aa, 0x6ea6e483),\n\t        X64Word_create(0x5cb0a9dc, 0xbd41fbd4), X64Word_create(0x76f988da, 0x831153b5),\n\t        X64Word_create(0x983e5152, 0xee66dfab), X64Word_create(0xa831c66d, 0x2db43210),\n\t        X64Word_create(0xb00327c8, 0x98fb213f), X64Word_create(0xbf597fc7, 0xbeef0ee4),\n\t        X64Word_create(0xc6e00bf3, 0x3da88fc2), X64Word_create(0xd5a79147, 0x930aa725),\n\t        X64Word_create(0x06ca6351, 0xe003826f), X64Word_create(0x14292967, 0x0a0e6e70),\n\t        X64Word_create(0x27b70a85, 0x46d22ffc), X64Word_create(0x2e1b2138, 0x5c26c926),\n\t        X64Word_create(0x4d2c6dfc, 0x5ac42aed), X64Word_create(0x53380d13, 0x9d95b3df),\n\t        X64Word_create(0x650a7354, 0x8baf63de), X64Word_create(0x766a0abb, 0x3c77b2a8),\n\t        X64Word_create(0x81c2c92e, 0x47edaee6), X64Word_create(0x92722c85, 0x1482353b),\n\t        X64Word_create(0xa2bfe8a1, 0x4cf10364), X64Word_create(0xa81a664b, 0xbc423001),\n\t        X64Word_create(0xc24b8b70, 0xd0f89791), X64Word_create(0xc76c51a3, 0x0654be30),\n\t        X64Word_create(0xd192e819, 0xd6ef5218), X64Word_create(0xd6990624, 0x5565a910),\n\t        X64Word_create(0xf40e3585, 0x5771202a), X64Word_create(0x106aa070, 0x32bbd1b8),\n\t        X64Word_create(0x19a4c116, 0xb8d2d0c8), X64Word_create(0x1e376c08, 0x5141ab53),\n\t        X64Word_create(0x2748774c, 0xdf8eeb99), X64Word_create(0x34b0bcb5, 0xe19b48a8),\n\t        X64Word_create(0x391c0cb3, 0xc5c95a63), X64Word_create(0x4ed8aa4a, 0xe3418acb),\n\t        X64Word_create(0x5b9cca4f, 0x7763e373), X64Word_create(0x682e6ff3, 0xd6b2b8a3),\n\t        X64Word_create(0x748f82ee, 0x5defb2fc), X64Word_create(0x78a5636f, 0x43172f60),\n\t        X64Word_create(0x84c87814, 0xa1f0ab72), X64Word_create(0x8cc70208, 0x1a6439ec),\n\t        X64Word_create(0x90befffa, 0x23631e28), X64Word_create(0xa4506ceb, 0xde82bde9),\n\t        X64Word_create(0xbef9a3f7, 0xb2c67915), X64Word_create(0xc67178f2, 0xe372532b),\n\t        X64Word_create(0xca273ece, 0xea26619c), X64Word_create(0xd186b8c7, 0x21c0c207),\n\t        X64Word_create(0xeada7dd6, 0xcde0eb1e), X64Word_create(0xf57d4f7f, 0xee6ed178),\n\t        X64Word_create(0x06f067aa, 0x72176fba), X64Word_create(0x0a637dc5, 0xa2c898a6),\n\t        X64Word_create(0x113f9804, 0xbef90dae), X64Word_create(0x1b710b35, 0x131c471b),\n\t        X64Word_create(0x28db77f5, 0x23047d84), X64Word_create(0x32caab7b, 0x40c72493),\n\t        X64Word_create(0x3c9ebe0a, 0x15c9bebc), X64Word_create(0x431d67c4, 0x9c100d4c),\n\t        X64Word_create(0x4cc5d4be, 0xcb3e42b6), X64Word_create(0x597f299c, 0xfc657e2a),\n\t        X64Word_create(0x5fcb6fab, 0x3ad6faec), X64Word_create(0x6c44198c, 0x4a475817)\n\t    ];\n\n\t    // Reusable objects\n\t    var W = [];\n\t    (function () {\n\t        for (var i = 0; i < 80; i++) {\n\t            W[i] = X64Word_create();\n\t        }\n\t    }());\n\n\t    /**\n\t     * SHA-512 hash algorithm.\n\t     */\n\t    var SHA512 = C_algo.SHA512 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new X64WordArray.init([\n\t                new X64Word.init(0x6a09e667, 0xf3bcc908), new X64Word.init(0xbb67ae85, 0x84caa73b),\n\t                new X64Word.init(0x3c6ef372, 0xfe94f82b), new X64Word.init(0xa54ff53a, 0x5f1d36f1),\n\t                new X64Word.init(0x510e527f, 0xade682d1), new X64Word.init(0x9b05688c, 0x2b3e6c1f),\n\t                new X64Word.init(0x1f83d9ab, 0xfb41bd6b), new X64Word.init(0x5be0cd19, 0x137e2179)\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcuts\n\t            var H = this._hash.words;\n\n\t            var H0 = H[0];\n\t            var H1 = H[1];\n\t            var H2 = H[2];\n\t            var H3 = H[3];\n\t            var H4 = H[4];\n\t            var H5 = H[5];\n\t            var H6 = H[6];\n\t            var H7 = H[7];\n\n\t            var H0h = H0.high;\n\t            var H0l = H0.low;\n\t            var H1h = H1.high;\n\t            var H1l = H1.low;\n\t            var H2h = H2.high;\n\t            var H2l = H2.low;\n\t            var H3h = H3.high;\n\t            var H3l = H3.low;\n\t            var H4h = H4.high;\n\t            var H4l = H4.low;\n\t            var H5h = H5.high;\n\t            var H5l = H5.low;\n\t            var H6h = H6.high;\n\t            var H6l = H6.low;\n\t            var H7h = H7.high;\n\t            var H7l = H7.low;\n\n\t            // Working variables\n\t            var ah = H0h;\n\t            var al = H0l;\n\t            var bh = H1h;\n\t            var bl = H1l;\n\t            var ch = H2h;\n\t            var cl = H2l;\n\t            var dh = H3h;\n\t            var dl = H3l;\n\t            var eh = H4h;\n\t            var el = H4l;\n\t            var fh = H5h;\n\t            var fl = H5l;\n\t            var gh = H6h;\n\t            var gl = H6l;\n\t            var hh = H7h;\n\t            var hl = H7l;\n\n\t            // Rounds\n\t            for (var i = 0; i < 80; i++) {\n\t                // Shortcut\n\t                var Wi = W[i];\n\n\t                // Extend message\n\t                if (i < 16) {\n\t                    var Wih = Wi.high = M[offset + i * 2]     | 0;\n\t                    var Wil = Wi.low  = M[offset + i * 2 + 1] | 0;\n\t                } else {\n\t                    // Gamma0\n\t                    var gamma0x  = W[i - 15];\n\t                    var gamma0xh = gamma0x.high;\n\t                    var gamma0xl = gamma0x.low;\n\t                    var gamma0h  = ((gamma0xh >>> 1) | (gamma0xl << 31)) ^ ((gamma0xh >>> 8) | (gamma0xl << 24)) ^ (gamma0xh >>> 7);\n\t                    var gamma0l  = ((gamma0xl >>> 1) | (gamma0xh << 31)) ^ ((gamma0xl >>> 8) | (gamma0xh << 24)) ^ ((gamma0xl >>> 7) | (gamma0xh << 25));\n\n\t                    // Gamma1\n\t                    var gamma1x  = W[i - 2];\n\t                    var gamma1xh = gamma1x.high;\n\t                    var gamma1xl = gamma1x.low;\n\t                    var gamma1h  = ((gamma1xh >>> 19) | (gamma1xl << 13)) ^ ((gamma1xh << 3) | (gamma1xl >>> 29)) ^ (gamma1xh >>> 6);\n\t                    var gamma1l  = ((gamma1xl >>> 19) | (gamma1xh << 13)) ^ ((gamma1xl << 3) | (gamma1xh >>> 29)) ^ ((gamma1xl >>> 6) | (gamma1xh << 26));\n\n\t                    // W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16]\n\t                    var Wi7  = W[i - 7];\n\t                    var Wi7h = Wi7.high;\n\t                    var Wi7l = Wi7.low;\n\n\t                    var Wi16  = W[i - 16];\n\t                    var Wi16h = Wi16.high;\n\t                    var Wi16l = Wi16.low;\n\n\t                    var Wil = gamma0l + Wi7l;\n\t                    var Wih = gamma0h + Wi7h + ((Wil >>> 0) < (gamma0l >>> 0) ? 1 : 0);\n\t                    var Wil = Wil + gamma1l;\n\t                    var Wih = Wih + gamma1h + ((Wil >>> 0) < (gamma1l >>> 0) ? 1 : 0);\n\t                    var Wil = Wil + Wi16l;\n\t                    var Wih = Wih + Wi16h + ((Wil >>> 0) < (Wi16l >>> 0) ? 1 : 0);\n\n\t                    Wi.high = Wih;\n\t                    Wi.low  = Wil;\n\t                }\n\n\t                var chh  = (eh & fh) ^ (~eh & gh);\n\t                var chl  = (el & fl) ^ (~el & gl);\n\t                var majh = (ah & bh) ^ (ah & ch) ^ (bh & ch);\n\t                var majl = (al & bl) ^ (al & cl) ^ (bl & cl);\n\n\t                var sigma0h = ((ah >>> 28) | (al << 4))  ^ ((ah << 30)  | (al >>> 2)) ^ ((ah << 25) | (al >>> 7));\n\t                var sigma0l = ((al >>> 28) | (ah << 4))  ^ ((al << 30)  | (ah >>> 2)) ^ ((al << 25) | (ah >>> 7));\n\t                var sigma1h = ((eh >>> 14) | (el << 18)) ^ ((eh >>> 18) | (el << 14)) ^ ((eh << 23) | (el >>> 9));\n\t                var sigma1l = ((el >>> 14) | (eh << 18)) ^ ((el >>> 18) | (eh << 14)) ^ ((el << 23) | (eh >>> 9));\n\n\t                // t1 = h + sigma1 + ch + K[i] + W[i]\n\t                var Ki  = K[i];\n\t                var Kih = Ki.high;\n\t                var Kil = Ki.low;\n\n\t                var t1l = hl + sigma1l;\n\t                var t1h = hh + sigma1h + ((t1l >>> 0) < (hl >>> 0) ? 1 : 0);\n\t                var t1l = t1l + chl;\n\t                var t1h = t1h + chh + ((t1l >>> 0) < (chl >>> 0) ? 1 : 0);\n\t                var t1l = t1l + Kil;\n\t                var t1h = t1h + Kih + ((t1l >>> 0) < (Kil >>> 0) ? 1 : 0);\n\t                var t1l = t1l + Wil;\n\t                var t1h = t1h + Wih + ((t1l >>> 0) < (Wil >>> 0) ? 1 : 0);\n\n\t                // t2 = sigma0 + maj\n\t                var t2l = sigma0l + majl;\n\t                var t2h = sigma0h + majh + ((t2l >>> 0) < (sigma0l >>> 0) ? 1 : 0);\n\n\t                // Update working variables\n\t                hh = gh;\n\t                hl = gl;\n\t                gh = fh;\n\t                gl = fl;\n\t                fh = eh;\n\t                fl = el;\n\t                el = (dl + t1l) | 0;\n\t                eh = (dh + t1h + ((el >>> 0) < (dl >>> 0) ? 1 : 0)) | 0;\n\t                dh = ch;\n\t                dl = cl;\n\t                ch = bh;\n\t                cl = bl;\n\t                bh = ah;\n\t                bl = al;\n\t                al = (t1l + t2l) | 0;\n\t                ah = (t1h + t2h + ((al >>> 0) < (t1l >>> 0) ? 1 : 0)) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H0l = H0.low  = (H0l + al);\n\t            H0.high = (H0h + ah + ((H0l >>> 0) < (al >>> 0) ? 1 : 0));\n\t            H1l = H1.low  = (H1l + bl);\n\t            H1.high = (H1h + bh + ((H1l >>> 0) < (bl >>> 0) ? 1 : 0));\n\t            H2l = H2.low  = (H2l + cl);\n\t            H2.high = (H2h + ch + ((H2l >>> 0) < (cl >>> 0) ? 1 : 0));\n\t            H3l = H3.low  = (H3l + dl);\n\t            H3.high = (H3h + dh + ((H3l >>> 0) < (dl >>> 0) ? 1 : 0));\n\t            H4l = H4.low  = (H4l + el);\n\t            H4.high = (H4h + eh + ((H4l >>> 0) < (el >>> 0) ? 1 : 0));\n\t            H5l = H5.low  = (H5l + fl);\n\t            H5.high = (H5h + fh + ((H5l >>> 0) < (fl >>> 0) ? 1 : 0));\n\t            H6l = H6.low  = (H6l + gl);\n\t            H6.high = (H6h + gh + ((H6l >>> 0) < (gl >>> 0) ? 1 : 0));\n\t            H7l = H7.low  = (H7l + hl);\n\t            H7.high = (H7h + hh + ((H7l >>> 0) < (hl >>> 0) ? 1 : 0));\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 128) >>> 10) << 5) + 30] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 128) >>> 10) << 5) + 31] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Convert hash to 32-bit word array before returning\n\t            var hash = this._hash.toX32();\n\n\t            // Return final computed hash\n\t            return hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        },\n\n\t        blockSize: 1024/32\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA512('message');\n\t     *     var hash = CryptoJS.SHA512(wordArray);\n\t     */\n\t    C.SHA512 = Hasher._createHelper(SHA512);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA512(message, key);\n\t     */\n\t    C.HmacSHA512 = Hasher._createHmacHelper(SHA512);\n\t}());\n\n\n\treturn CryptoJS.SHA512;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./x64-core\"), require(\"./sha512\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./x64-core\", \"./sha512\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.HmacSHA512;\n\n}));","import Hex from 'crypto-js/enc-hex'\nimport HmacSHA512 from 'crypto-js/hmac-sha512'\nimport { recognizerLogger as logger } from '../configuration/LoggerConfig'\n\n/**\n * Compute HMAC signature for server authentication\n *\n * @param {Object} input Input data to compute HMAC\n * @param {String} applicationKey Current applicationKey\n * @param {String} hmacKey Current hmacKey\n * @return {String} Signature\n */\nexport function computeHmac (input, applicationKey, hmacKey) {\n  const jsonInput = (typeof input === 'object') ? JSON.stringify(input) : input\n  logger.debug('The HmacSHA512 function is loaded', HmacSHA512)\n  return new HmacSHA512(jsonInput, applicationKey + hmacKey).toString(Hex)\n}\n","/* eslint-disable no-unused-expressions */\nimport * as CryptoHelper from '../CryptoHelper'\n\n/**\n * Parse JSON String to Object\n * @param {Object} req JSON string result to be parsed\n * @return {Object} Parsed response\n */\nfunction parse (req) {\n  let result\n  try {\n    result = JSON.parse(req.responseText)\n  } catch (e) {\n    result = req.responseText\n  }\n  return result\n}\n\n/**\n * Transform object data request to a list of parameters\n * @param {Object} obj Query properties\n * @return {String} URI encoded string\n */\nfunction transformRequest (obj) {\n  const str = []\n  Object.keys(obj).forEach((p) => {\n    if ((typeof obj[p] !== 'undefined') &&\n        (typeof obj[p] !== 'function')) {\n      str.push(`${encodeURIComponent(p)}=${encodeURIComponent(obj[p])}`)\n    }\n  })\n  return str.join('&')\n}\n\n/**\n * Send request to the network and return a promise\n * @param {String} type Request type (GET/POST)\n * @param {String} url URL\n * @param {Object} data Data to be sent\n * @param {RecognizerContext} [recognizerContext] Recognizer context\n * @param {String} apiVersion api version\n * @param {String} mimeType MimeType to be used\n * @return {Promise}\n */\nfunction xhr (type, url, data, recognizerContext = {}, apiVersion, mimeType) {\n  const pptxMimeType = 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n  const configuration = recognizerContext.editor.configuration\n  const recognizerContextRef = recognizerContext\n  return new Promise((resolve, reject) => {\n    // We are writing some browser module here so the no import found should be ignored\n    // eslint-disable-next-line no-undef\n    const request = new XMLHttpRequest()\n    request.open(type, url, true)\n    request.withCredentials = true\n\n    switch (configuration.recognitionParams.type) {\n      case 'TEXT':\n        request.setRequestHeader('Accept', 'application/json,' + mimeType)\n        break\n      case 'MATH':\n        request.setRequestHeader('Accept', 'application/json,' + mimeType)\n        break\n      case 'DIAGRAM':\n        request.setRequestHeader('Accept', 'application/json,' + mimeType)\n        break\n      case 'Raw Content':\n        request.setRequestHeader('Accept', 'application/json,' + mimeType)\n        break\n      default:\n        break\n    }\n    request.setRequestHeader('applicationKey', configuration.recognitionParams.server.applicationKey)\n    request.setRequestHeader('hmac', CryptoHelper.computeHmac(JSON.stringify(data), configuration.recognitionParams.server.applicationKey, configuration.recognitionParams.server.hmacKey))\n    request.setRequestHeader('Content-Type', 'application/json')\n\n    const isBlobType = mimeType && (mimeType === pptxMimeType || mimeType.startsWith('image/png') || mimeType.startsWith('image/jpeg'))\n    if (isBlobType) {\n      request.responseType = 'blob'\n    }\n\n    request.onerror = () => {\n      // eslint-disable-next-line prefer-promise-reject-errors\n      reject({ msg: `Could not connect to ${url} connection error`, recoverable: false })\n    }\n\n    request.onload = () => {\n      if (request.status >= 200 && request.status < 300) {\n        isBlobType ? resolve(request.response) : resolve(parse(request))\n      } else {\n        reject(new Error(request.responseText))\n      }\n    }\n\n    request.onreadystatechange = () => {\n      if (request.readyState === 4) {\n        if (request.status >= 200 && request.status < 300) {\n          isBlobType ? resolve(request.response) : resolve(parse(request))\n        }\n      }\n    }\n\n    if (recognizerContextRef) {\n      recognizerContextRef.idle = false\n    }\n\n    request.send(JSON.stringify(data))\n  }).then((res) => {\n    if (recognizerContextRef) {\n      recognizerContextRef.idle = true\n    }\n    return res\n  })\n}\n\n/**\n * Get request\n * @param {RecognizerContext} recognizerContext Recognizer context\n * @param {String} url URL\n * @param {Object} params Query properties\n * @return {Promise}\n */\nexport function get (recognizerContext, url, params) {\n  let queryUrl = url\n  if (params) {\n    queryUrl += `?${transformRequest(params)}`\n  }\n  return xhr('GET', queryUrl, undefined, recognizerContext)\n}\n\n/**\n * Post request\n * @param {RecognizerContext} recognizerContext Recognizer context\n * @param {String} url URL\n * @param {Object} data Data to be sent\n * @param {String} apiVersion api version\n * @param {String} mimeType MimeType to be used\n * @return {Promise}\n */\nexport function post (recognizerContext, url, data, apiVersion, mimeType) {\n  return xhr('POST', url, data, recognizerContext, apiVersion, mimeType)\n}\n","import { recognizerLogger as logger } from '../configuration/LoggerConfig'\n\n/**\n * Recognition context\n * @typedef {Object} RecognitionContext\n * @property {Model} model\n * @property {Callback} callback\n */\n\n/**\n * Recognizer context\n * @typedef {Object} RecognizerContext\n * @property {Editor} editor Get a reference to the current editor\n * @property {Array<RecognitionContext>} recognitionContexts=[]\n * @property {Promise} initPromise=undefined\n * @property {RecognitionPositions} lastPositions  Last recognition sent/received stroke indexes.\n * @property {String} url=undefined\n * @property {WebSocket} websocket=undefined\n * @property {function} websocketCallback=undefined\n * @property {function} reconnect=undefined\n * @property {Number} currentReconnectionCount=0\n * @property {String} sessionId=undefined\n * @property {Number} contentPartCount=0\n * @property {String} currentPartId=undefined\n * @property {String} instanceId=undefined\n * @property {Boolean} canUndo=false\n * @property {Boolean} canRedo=false\n * @property {Boolean} isEmpty=false\n * @property {Array} supportedImportMimeTypes=[]\n * @property {Number} undoStackIndex=0\n * @property {Number} possibleUndoCount=0\n * @property {Boolean} idle=true\n * @property {Boolean} initialized=false\n */\n/**\n * Create a new recognizer context\n * @param {Editor} editor\n * @return {RecognizerContext} An object that contains all recognizer context\n */\nexport function createEmptyRecognizerContext (editor) {\n  const id = Date.now()\n  logger.info('Create empty recognizer context with ID: ' + id)\n  return {\n    id,\n    editor,\n    // websocket\n    recognitionContexts: [],\n    initPromise: undefined,\n    lastPositions: {\n      lastSentPosition: -1,\n      lastReceivedPosition: -1\n    },\n    url: undefined,\n    websocket: undefined,\n    websocketCallback: undefined,\n    reconnect: undefined,\n    currentReconnectionCount: 0,\n    sessionId: undefined,\n    contentPartCount: 0,\n    currentPartId: undefined,\n    instanceId: undefined,\n    canUndo: false,\n    canRedo: false,\n    isEmpty: undefined,\n    supportedImportMimeTypes: [],\n    undoStackIndex: 0,\n    possibleUndoCount: 0,\n    idle: true,\n    initialized: false\n  }\n}\n\n/**\n * Return true if a reset is required, false otherwise\n * @param {RecognizerContext} recognizerContext\n * @param {Model} model\n * @return {Boolean}\n */\nexport function isResetRequired (recognizerContext, model) {\n  if (recognizerContext.lastPositions) {\n    return recognizerContext.lastPositions.lastSentPosition >= model.rawStrokes.length - 1\n  }\n  return false\n}\n\n/**\n * Update the recognition context positions\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {RecognitionPositions} positions Current recognition positions\n * @return {RecognizerContext}\n */\nexport function updateRecognitionPositions (recognizerContext, positions) {\n  const recognizerContextRef = recognizerContext\n  if (positions) {\n    recognizerContextRef.lastPositions.lastSentPosition = positions.lastSentPosition\n    recognizerContextRef.lastPositions.lastReceivedPosition = positions.lastReceivedPosition\n  }\n  if (recognizerContextRef.lastPositions.lastSentPosition === recognizerContextRef.lastPositions.lastReceivedPosition === -1) {\n    delete recognizerContextRef.instanceId\n  }\n  return recognizerContextRef\n}\n\n/**\n * Set the recognition context\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {RecognitionContext} recognitionContext\n * @return {RecognizerContext}\n */\nexport function setRecognitionContext (recognizerContext, recognitionContext) {\n  const recognizerContextRef = recognizerContext\n  recognizerContextRef.recognitionContexts[0] = recognitionContext\n  return recognizerContextRef\n}\n\n/**\n * Test if it is possible to reconnect\n * @param {RecognizerContext} recognizerContext\n * @return {Boolean} True if possible, false otherwise\n */\nexport function canReconnect (recognizerContext) {\n  return recognizerContext.websocket.autoReconnect === true && recognizerContext.currentReconnectionCount <= recognizerContext.websocket.maxRetryCount\n}\n\n/**\n * Test if it should attempt immediate reconnect\n * @param {RecognizerContext} recognizerContext\n * @return {Boolean} True if should attempt reconnect, false otherwise\n */\nexport function shouldAttemptImmediateReconnect (recognizerContext) {\n  const recognizerContextRef = recognizerContext\n  return recognizerContextRef.websocket.autoReconnect === true && recognizerContextRef.currentReconnectionCount++ <= recognizerContextRef.websocket.maxRetryCount\n}\n\n/**\n * Lost connection message\n * @type {{type: string}}\n */\nexport const LOST_CONNEXION_MESSAGE = { type: 'LOST_CONNECTION' }\n\n/**\n * Explicit close message\n * @type {String}\n */\nexport const CLOSE_RECOGNIZER_MESSAGE = 'CLOSE_RECOGNIZER'\n","/*!\n * perfect-scrollbar v1.5.0\n * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors\n * Licensed under MIT\n */\n\nfunction get(element) {\n  return getComputedStyle(element);\n}\n\nfunction set(element, obj) {\n  for (var key in obj) {\n    var val = obj[key];\n    if (typeof val === 'number') {\n      val = val + \"px\";\n    }\n    element.style[key] = val;\n  }\n  return element;\n}\n\nfunction div(className) {\n  var div = document.createElement('div');\n  div.className = className;\n  return div;\n}\n\nvar elMatches =\n  typeof Element !== 'undefined' &&\n  (Element.prototype.matches ||\n    Element.prototype.webkitMatchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector);\n\nfunction matches(element, query) {\n  if (!elMatches) {\n    throw new Error('No element matching method supported');\n  }\n\n  return elMatches.call(element, query);\n}\n\nfunction remove(element) {\n  if (element.remove) {\n    element.remove();\n  } else {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  }\n}\n\nfunction queryChildren(element, selector) {\n  return Array.prototype.filter.call(element.children, function (child) { return matches(child, selector); }\n  );\n}\n\nvar cls = {\n  main: 'ps',\n  rtl: 'ps__rtl',\n  element: {\n    thumb: function (x) { return (\"ps__thumb-\" + x); },\n    rail: function (x) { return (\"ps__rail-\" + x); },\n    consuming: 'ps__child--consume',\n  },\n  state: {\n    focus: 'ps--focus',\n    clicking: 'ps--clicking',\n    active: function (x) { return (\"ps--active-\" + x); },\n    scrolling: function (x) { return (\"ps--scrolling-\" + x); },\n  },\n};\n\n/*\n * Helper methods\n */\nvar scrollingClassTimeout = { x: null, y: null };\n\nfunction addScrollingClass(i, x) {\n  var classList = i.element.classList;\n  var className = cls.state.scrolling(x);\n\n  if (classList.contains(className)) {\n    clearTimeout(scrollingClassTimeout[x]);\n  } else {\n    classList.add(className);\n  }\n}\n\nfunction removeScrollingClass(i, x) {\n  scrollingClassTimeout[x] = setTimeout(\n    function () { return i.isAlive && i.element.classList.remove(cls.state.scrolling(x)); },\n    i.settings.scrollingThreshold\n  );\n}\n\nfunction setScrollingClassInstantly(i, x) {\n  addScrollingClass(i, x);\n  removeScrollingClass(i, x);\n}\n\nvar EventElement = function EventElement(element) {\n  this.element = element;\n  this.handlers = {};\n};\n\nvar prototypeAccessors = { isEmpty: { configurable: true } };\n\nEventElement.prototype.bind = function bind (eventName, handler) {\n  if (typeof this.handlers[eventName] === 'undefined') {\n    this.handlers[eventName] = [];\n  }\n  this.handlers[eventName].push(handler);\n  this.element.addEventListener(eventName, handler, false);\n};\n\nEventElement.prototype.unbind = function unbind (eventName, target) {\n    var this$1 = this;\n\n  this.handlers[eventName] = this.handlers[eventName].filter(function (handler) {\n    if (target && handler !== target) {\n      return true;\n    }\n    this$1.element.removeEventListener(eventName, handler, false);\n    return false;\n  });\n};\n\nEventElement.prototype.unbindAll = function unbindAll () {\n  for (var name in this.handlers) {\n    this.unbind(name);\n  }\n};\n\nprototypeAccessors.isEmpty.get = function () {\n    var this$1 = this;\n\n  return Object.keys(this.handlers).every(\n    function (key) { return this$1.handlers[key].length === 0; }\n  );\n};\n\nObject.defineProperties( EventElement.prototype, prototypeAccessors );\n\nvar EventManager = function EventManager() {\n  this.eventElements = [];\n};\n\nEventManager.prototype.eventElement = function eventElement (element) {\n  var ee = this.eventElements.filter(function (ee) { return ee.element === element; })[0];\n  if (!ee) {\n    ee = new EventElement(element);\n    this.eventElements.push(ee);\n  }\n  return ee;\n};\n\nEventManager.prototype.bind = function bind (element, eventName, handler) {\n  this.eventElement(element).bind(eventName, handler);\n};\n\nEventManager.prototype.unbind = function unbind (element, eventName, handler) {\n  var ee = this.eventElement(element);\n  ee.unbind(eventName, handler);\n\n  if (ee.isEmpty) {\n    // remove\n    this.eventElements.splice(this.eventElements.indexOf(ee), 1);\n  }\n};\n\nEventManager.prototype.unbindAll = function unbindAll () {\n  this.eventElements.forEach(function (e) { return e.unbindAll(); });\n  this.eventElements = [];\n};\n\nEventManager.prototype.once = function once (element, eventName, handler) {\n  var ee = this.eventElement(element);\n  var onceHandler = function (evt) {\n    ee.unbind(eventName, onceHandler);\n    handler(evt);\n  };\n  ee.bind(eventName, onceHandler);\n};\n\nfunction createEvent(name) {\n  if (typeof window.CustomEvent === 'function') {\n    return new CustomEvent(name);\n  } else {\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(name, false, false, undefined);\n    return evt;\n  }\n}\n\nfunction processScrollDiff(\n  i,\n  axis,\n  diff,\n  useScrollingClass,\n  forceFireReachEvent\n) {\n  if ( useScrollingClass === void 0 ) useScrollingClass = true;\n  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\n\n  var fields;\n  if (axis === 'top') {\n    fields = [\n      'contentHeight',\n      'containerHeight',\n      'scrollTop',\n      'y',\n      'up',\n      'down' ];\n  } else if (axis === 'left') {\n    fields = [\n      'contentWidth',\n      'containerWidth',\n      'scrollLeft',\n      'x',\n      'left',\n      'right' ];\n  } else {\n    throw new Error('A proper axis should be provided');\n  }\n\n  processScrollDiff$1(i, diff, fields, useScrollingClass, forceFireReachEvent);\n}\n\nfunction processScrollDiff$1(\n  i,\n  diff,\n  ref,\n  useScrollingClass,\n  forceFireReachEvent\n) {\n  var contentHeight = ref[0];\n  var containerHeight = ref[1];\n  var scrollTop = ref[2];\n  var y = ref[3];\n  var up = ref[4];\n  var down = ref[5];\n  if ( useScrollingClass === void 0 ) useScrollingClass = true;\n  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\n\n  var element = i.element;\n\n  // reset reach\n  i.reach[y] = null;\n\n  // 1 for subpixel rounding\n  if (element[scrollTop] < 1) {\n    i.reach[y] = 'start';\n  }\n\n  // 1 for subpixel rounding\n  if (element[scrollTop] > i[contentHeight] - i[containerHeight] - 1) {\n    i.reach[y] = 'end';\n  }\n\n  if (diff) {\n    element.dispatchEvent(createEvent((\"ps-scroll-\" + y)));\n\n    if (diff < 0) {\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + up)));\n    } else if (diff > 0) {\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + down)));\n    }\n\n    if (useScrollingClass) {\n      setScrollingClassInstantly(i, y);\n    }\n  }\n\n  if (i.reach[y] && (diff || forceFireReachEvent)) {\n    element.dispatchEvent(createEvent((\"ps-\" + y + \"-reach-\" + (i.reach[y]))));\n  }\n}\n\nfunction toInt(x) {\n  return parseInt(x, 10) || 0;\n}\n\nfunction isEditable(el) {\n  return (\n    matches(el, 'input,[contenteditable]') ||\n    matches(el, 'select,[contenteditable]') ||\n    matches(el, 'textarea,[contenteditable]') ||\n    matches(el, 'button,[contenteditable]')\n  );\n}\n\nfunction outerWidth(element) {\n  var styles = get(element);\n  return (\n    toInt(styles.width) +\n    toInt(styles.paddingLeft) +\n    toInt(styles.paddingRight) +\n    toInt(styles.borderLeftWidth) +\n    toInt(styles.borderRightWidth)\n  );\n}\n\nvar env = {\n  isWebKit:\n    typeof document !== 'undefined' &&\n    'WebkitAppearance' in document.documentElement.style,\n  supportsTouch:\n    typeof window !== 'undefined' &&\n    ('ontouchstart' in window ||\n      ('maxTouchPoints' in window.navigator &&\n        window.navigator.maxTouchPoints > 0) ||\n      (window.DocumentTouch && document instanceof window.DocumentTouch)),\n  supportsIePointer:\n    typeof navigator !== 'undefined' && navigator.msMaxTouchPoints,\n  isChrome:\n    typeof navigator !== 'undefined' &&\n    /Chrome/i.test(navigator && navigator.userAgent),\n};\n\nfunction updateGeometry(i) {\n  var element = i.element;\n  var roundedScrollTop = Math.floor(element.scrollTop);\n  var rect = element.getBoundingClientRect();\n\n  i.containerWidth = Math.ceil(rect.width);\n  i.containerHeight = Math.ceil(rect.height);\n  i.contentWidth = element.scrollWidth;\n  i.contentHeight = element.scrollHeight;\n\n  if (!element.contains(i.scrollbarXRail)) {\n    // clean up and append\n    queryChildren(element, cls.element.rail('x')).forEach(function (el) { return remove(el); }\n    );\n    element.appendChild(i.scrollbarXRail);\n  }\n  if (!element.contains(i.scrollbarYRail)) {\n    // clean up and append\n    queryChildren(element, cls.element.rail('y')).forEach(function (el) { return remove(el); }\n    );\n    element.appendChild(i.scrollbarYRail);\n  }\n\n  if (\n    !i.settings.suppressScrollX &&\n    i.containerWidth + i.settings.scrollXMarginOffset < i.contentWidth\n  ) {\n    i.scrollbarXActive = true;\n    i.railXWidth = i.containerWidth - i.railXMarginWidth;\n    i.railXRatio = i.containerWidth / i.railXWidth;\n    i.scrollbarXWidth = getThumbSize(\n      i,\n      toInt((i.railXWidth * i.containerWidth) / i.contentWidth)\n    );\n    i.scrollbarXLeft = toInt(\n      ((i.negativeScrollAdjustment + element.scrollLeft) *\n        (i.railXWidth - i.scrollbarXWidth)) /\n        (i.contentWidth - i.containerWidth)\n    );\n  } else {\n    i.scrollbarXActive = false;\n  }\n\n  if (\n    !i.settings.suppressScrollY &&\n    i.containerHeight + i.settings.scrollYMarginOffset < i.contentHeight\n  ) {\n    i.scrollbarYActive = true;\n    i.railYHeight = i.containerHeight - i.railYMarginHeight;\n    i.railYRatio = i.containerHeight / i.railYHeight;\n    i.scrollbarYHeight = getThumbSize(\n      i,\n      toInt((i.railYHeight * i.containerHeight) / i.contentHeight)\n    );\n    i.scrollbarYTop = toInt(\n      (roundedScrollTop * (i.railYHeight - i.scrollbarYHeight)) /\n        (i.contentHeight - i.containerHeight)\n    );\n  } else {\n    i.scrollbarYActive = false;\n  }\n\n  if (i.scrollbarXLeft >= i.railXWidth - i.scrollbarXWidth) {\n    i.scrollbarXLeft = i.railXWidth - i.scrollbarXWidth;\n  }\n  if (i.scrollbarYTop >= i.railYHeight - i.scrollbarYHeight) {\n    i.scrollbarYTop = i.railYHeight - i.scrollbarYHeight;\n  }\n\n  updateCss(element, i);\n\n  if (i.scrollbarXActive) {\n    element.classList.add(cls.state.active('x'));\n  } else {\n    element.classList.remove(cls.state.active('x'));\n    i.scrollbarXWidth = 0;\n    i.scrollbarXLeft = 0;\n    element.scrollLeft = i.isRtl === true ? i.contentWidth : 0;\n  }\n  if (i.scrollbarYActive) {\n    element.classList.add(cls.state.active('y'));\n  } else {\n    element.classList.remove(cls.state.active('y'));\n    i.scrollbarYHeight = 0;\n    i.scrollbarYTop = 0;\n    element.scrollTop = 0;\n  }\n}\n\nfunction getThumbSize(i, thumbSize) {\n  if (i.settings.minScrollbarLength) {\n    thumbSize = Math.max(thumbSize, i.settings.minScrollbarLength);\n  }\n  if (i.settings.maxScrollbarLength) {\n    thumbSize = Math.min(thumbSize, i.settings.maxScrollbarLength);\n  }\n  return thumbSize;\n}\n\nfunction updateCss(element, i) {\n  var xRailOffset = { width: i.railXWidth };\n  var roundedScrollTop = Math.floor(element.scrollTop);\n\n  if (i.isRtl) {\n    xRailOffset.left =\n      i.negativeScrollAdjustment +\n      element.scrollLeft +\n      i.containerWidth -\n      i.contentWidth;\n  } else {\n    xRailOffset.left = element.scrollLeft;\n  }\n  if (i.isScrollbarXUsingBottom) {\n    xRailOffset.bottom = i.scrollbarXBottom - roundedScrollTop;\n  } else {\n    xRailOffset.top = i.scrollbarXTop + roundedScrollTop;\n  }\n  set(i.scrollbarXRail, xRailOffset);\n\n  var yRailOffset = { top: roundedScrollTop, height: i.railYHeight };\n  if (i.isScrollbarYUsingRight) {\n    if (i.isRtl) {\n      yRailOffset.right =\n        i.contentWidth -\n        (i.negativeScrollAdjustment + element.scrollLeft) -\n        i.scrollbarYRight -\n        i.scrollbarYOuterWidth -\n        9;\n    } else {\n      yRailOffset.right = i.scrollbarYRight - element.scrollLeft;\n    }\n  } else {\n    if (i.isRtl) {\n      yRailOffset.left =\n        i.negativeScrollAdjustment +\n        element.scrollLeft +\n        i.containerWidth * 2 -\n        i.contentWidth -\n        i.scrollbarYLeft -\n        i.scrollbarYOuterWidth;\n    } else {\n      yRailOffset.left = i.scrollbarYLeft + element.scrollLeft;\n    }\n  }\n  set(i.scrollbarYRail, yRailOffset);\n\n  set(i.scrollbarX, {\n    left: i.scrollbarXLeft,\n    width: i.scrollbarXWidth - i.railBorderXWidth,\n  });\n  set(i.scrollbarY, {\n    top: i.scrollbarYTop,\n    height: i.scrollbarYHeight - i.railBorderYWidth,\n  });\n}\n\nfunction clickRail(i) {\n  var element = i.element;\n\n  i.event.bind(i.scrollbarY, 'mousedown', function (e) { return e.stopPropagation(); });\n  i.event.bind(i.scrollbarYRail, 'mousedown', function (e) {\n    var positionTop =\n      e.pageY -\n      window.pageYOffset -\n      i.scrollbarYRail.getBoundingClientRect().top;\n    var direction = positionTop > i.scrollbarYTop ? 1 : -1;\n\n    i.element.scrollTop += direction * i.containerHeight;\n    updateGeometry(i);\n\n    e.stopPropagation();\n  });\n\n  i.event.bind(i.scrollbarX, 'mousedown', function (e) { return e.stopPropagation(); });\n  i.event.bind(i.scrollbarXRail, 'mousedown', function (e) {\n    var positionLeft =\n      e.pageX -\n      window.pageXOffset -\n      i.scrollbarXRail.getBoundingClientRect().left;\n    var direction = positionLeft > i.scrollbarXLeft ? 1 : -1;\n\n    i.element.scrollLeft += direction * i.containerWidth;\n    updateGeometry(i);\n\n    e.stopPropagation();\n  });\n}\n\nfunction dragThumb(i) {\n  bindMouseScrollHandler(i, [\n    'containerWidth',\n    'contentWidth',\n    'pageX',\n    'railXWidth',\n    'scrollbarX',\n    'scrollbarXWidth',\n    'scrollLeft',\n    'x',\n    'scrollbarXRail' ]);\n  bindMouseScrollHandler(i, [\n    'containerHeight',\n    'contentHeight',\n    'pageY',\n    'railYHeight',\n    'scrollbarY',\n    'scrollbarYHeight',\n    'scrollTop',\n    'y',\n    'scrollbarYRail' ]);\n}\n\nfunction bindMouseScrollHandler(\n  i,\n  ref\n) {\n  var containerHeight = ref[0];\n  var contentHeight = ref[1];\n  var pageY = ref[2];\n  var railYHeight = ref[3];\n  var scrollbarY = ref[4];\n  var scrollbarYHeight = ref[5];\n  var scrollTop = ref[6];\n  var y = ref[7];\n  var scrollbarYRail = ref[8];\n\n  var element = i.element;\n\n  var startingScrollTop = null;\n  var startingMousePageY = null;\n  var scrollBy = null;\n\n  function mouseMoveHandler(e) {\n    if (e.touches && e.touches[0]) {\n      e[pageY] = e.touches[0].pageY;\n    }\n    element[scrollTop] =\n      startingScrollTop + scrollBy * (e[pageY] - startingMousePageY);\n    addScrollingClass(i, y);\n    updateGeometry(i);\n\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function mouseUpHandler() {\n    removeScrollingClass(i, y);\n    i[scrollbarYRail].classList.remove(cls.state.clicking);\n    i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n  }\n\n  function bindMoves(e, touchMode) {\n    startingScrollTop = element[scrollTop];\n    if (touchMode && e.touches) {\n      e[pageY] = e.touches[0].pageY;\n    }\n    startingMousePageY = e[pageY];\n    scrollBy =\n      (i[contentHeight] - i[containerHeight]) /\n      (i[railYHeight] - i[scrollbarYHeight]);\n    if (!touchMode) {\n      i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n      i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);\n      e.preventDefault();\n    } else {\n      i.event.bind(i.ownerDocument, 'touchmove', mouseMoveHandler);\n    }\n\n    i[scrollbarYRail].classList.add(cls.state.clicking);\n\n    e.stopPropagation();\n  }\n\n  i.event.bind(i[scrollbarY], 'mousedown', function (e) {\n    bindMoves(e);\n  });\n  i.event.bind(i[scrollbarY], 'touchstart', function (e) {\n    bindMoves(e, true);\n  });\n}\n\nfunction keyboard(i) {\n  var element = i.element;\n\n  var elementHovered = function () { return matches(element, ':hover'); };\n  var scrollbarFocused = function () { return matches(i.scrollbarX, ':focus') || matches(i.scrollbarY, ':focus'); };\n\n  function shouldPreventDefault(deltaX, deltaY) {\n    var scrollTop = Math.floor(element.scrollTop);\n    if (deltaX === 0) {\n      if (!i.scrollbarYActive) {\n        return false;\n      }\n      if (\n        (scrollTop === 0 && deltaY > 0) ||\n        (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)\n      ) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n\n    var scrollLeft = element.scrollLeft;\n    if (deltaY === 0) {\n      if (!i.scrollbarXActive) {\n        return false;\n      }\n      if (\n        (scrollLeft === 0 && deltaX < 0) ||\n        (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)\n      ) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n    return true;\n  }\n\n  i.event.bind(i.ownerDocument, 'keydown', function (e) {\n    if (\n      (e.isDefaultPrevented && e.isDefaultPrevented()) ||\n      e.defaultPrevented\n    ) {\n      return;\n    }\n\n    if (!elementHovered() && !scrollbarFocused()) {\n      return;\n    }\n\n    var activeElement = document.activeElement\n      ? document.activeElement\n      : i.ownerDocument.activeElement;\n    if (activeElement) {\n      if (activeElement.tagName === 'IFRAME') {\n        activeElement = activeElement.contentDocument.activeElement;\n      } else {\n        // go deeper if element is a webcomponent\n        while (activeElement.shadowRoot) {\n          activeElement = activeElement.shadowRoot.activeElement;\n        }\n      }\n      if (isEditable(activeElement)) {\n        return;\n      }\n    }\n\n    var deltaX = 0;\n    var deltaY = 0;\n\n    switch (e.which) {\n      case 37: // left\n        if (e.metaKey) {\n          deltaX = -i.contentWidth;\n        } else if (e.altKey) {\n          deltaX = -i.containerWidth;\n        } else {\n          deltaX = -30;\n        }\n        break;\n      case 38: // up\n        if (e.metaKey) {\n          deltaY = i.contentHeight;\n        } else if (e.altKey) {\n          deltaY = i.containerHeight;\n        } else {\n          deltaY = 30;\n        }\n        break;\n      case 39: // right\n        if (e.metaKey) {\n          deltaX = i.contentWidth;\n        } else if (e.altKey) {\n          deltaX = i.containerWidth;\n        } else {\n          deltaX = 30;\n        }\n        break;\n      case 40: // down\n        if (e.metaKey) {\n          deltaY = -i.contentHeight;\n        } else if (e.altKey) {\n          deltaY = -i.containerHeight;\n        } else {\n          deltaY = -30;\n        }\n        break;\n      case 32: // space bar\n        if (e.shiftKey) {\n          deltaY = i.containerHeight;\n        } else {\n          deltaY = -i.containerHeight;\n        }\n        break;\n      case 33: // page up\n        deltaY = i.containerHeight;\n        break;\n      case 34: // page down\n        deltaY = -i.containerHeight;\n        break;\n      case 36: // home\n        deltaY = i.contentHeight;\n        break;\n      case 35: // end\n        deltaY = -i.contentHeight;\n        break;\n      default:\n        return;\n    }\n\n    if (i.settings.suppressScrollX && deltaX !== 0) {\n      return;\n    }\n    if (i.settings.suppressScrollY && deltaY !== 0) {\n      return;\n    }\n\n    element.scrollTop -= deltaY;\n    element.scrollLeft += deltaX;\n    updateGeometry(i);\n\n    if (shouldPreventDefault(deltaX, deltaY)) {\n      e.preventDefault();\n    }\n  });\n}\n\nfunction wheel(i) {\n  var element = i.element;\n\n  function shouldPreventDefault(deltaX, deltaY) {\n    var roundedScrollTop = Math.floor(element.scrollTop);\n    var isTop = element.scrollTop === 0;\n    var isBottom =\n      roundedScrollTop + element.offsetHeight === element.scrollHeight;\n    var isLeft = element.scrollLeft === 0;\n    var isRight =\n      element.scrollLeft + element.offsetWidth === element.scrollWidth;\n\n    var hitsBound;\n\n    // pick axis with primary direction\n    if (Math.abs(deltaY) > Math.abs(deltaX)) {\n      hitsBound = isTop || isBottom;\n    } else {\n      hitsBound = isLeft || isRight;\n    }\n\n    return hitsBound ? !i.settings.wheelPropagation : true;\n  }\n\n  function getDeltaFromEvent(e) {\n    var deltaX = e.deltaX;\n    var deltaY = -1 * e.deltaY;\n\n    if (typeof deltaX === 'undefined' || typeof deltaY === 'undefined') {\n      // OS X Safari\n      deltaX = (-1 * e.wheelDeltaX) / 6;\n      deltaY = e.wheelDeltaY / 6;\n    }\n\n    if (e.deltaMode && e.deltaMode === 1) {\n      // Firefox in deltaMode 1: Line scrolling\n      deltaX *= 10;\n      deltaY *= 10;\n    }\n\n    if (deltaX !== deltaX && deltaY !== deltaY /* NaN checks */) {\n      // IE in some mouse drivers\n      deltaX = 0;\n      deltaY = e.wheelDelta;\n    }\n\n    if (e.shiftKey) {\n      // reverse axis with shift key\n      return [-deltaY, -deltaX];\n    }\n    return [deltaX, deltaY];\n  }\n\n  function shouldBeConsumedByChild(target, deltaX, deltaY) {\n    // FIXME: this is a workaround for <select> issue in FF and IE #571\n    if (!env.isWebKit && element.querySelector('select:focus')) {\n      return true;\n    }\n\n    if (!element.contains(target)) {\n      return false;\n    }\n\n    var cursor = target;\n\n    while (cursor && cursor !== element) {\n      if (cursor.classList.contains(cls.element.consuming)) {\n        return true;\n      }\n\n      var style = get(cursor);\n\n      // if deltaY && vertical scrollable\n      if (deltaY && style.overflowY.match(/(scroll|auto)/)) {\n        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\n        if (maxScrollTop > 0) {\n          if (\n            (cursor.scrollTop > 0 && deltaY < 0) ||\n            (cursor.scrollTop < maxScrollTop && deltaY > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n      // if deltaX && horizontal scrollable\n      if (deltaX && style.overflowX.match(/(scroll|auto)/)) {\n        var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\n        if (maxScrollLeft > 0) {\n          if (\n            (cursor.scrollLeft > 0 && deltaX < 0) ||\n            (cursor.scrollLeft < maxScrollLeft && deltaX > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n\n      cursor = cursor.parentNode;\n    }\n\n    return false;\n  }\n\n  function mousewheelHandler(e) {\n    var ref = getDeltaFromEvent(e);\n    var deltaX = ref[0];\n    var deltaY = ref[1];\n\n    if (shouldBeConsumedByChild(e.target, deltaX, deltaY)) {\n      return;\n    }\n\n    var shouldPrevent = false;\n    if (!i.settings.useBothWheelAxes) {\n      // deltaX will only be used for horizontal scrolling and deltaY will\n      // only be used for vertical scrolling - this is the default\n      element.scrollTop -= deltaY * i.settings.wheelSpeed;\n      element.scrollLeft += deltaX * i.settings.wheelSpeed;\n    } else if (i.scrollbarYActive && !i.scrollbarXActive) {\n      // only vertical scrollbar is active and useBothWheelAxes option is\n      // active, so let's scroll vertical bar using both mouse wheel axes\n      if (deltaY) {\n        element.scrollTop -= deltaY * i.settings.wheelSpeed;\n      } else {\n        element.scrollTop += deltaX * i.settings.wheelSpeed;\n      }\n      shouldPrevent = true;\n    } else if (i.scrollbarXActive && !i.scrollbarYActive) {\n      // useBothWheelAxes and only horizontal bar is active, so use both\n      // wheel axes for horizontal bar\n      if (deltaX) {\n        element.scrollLeft += deltaX * i.settings.wheelSpeed;\n      } else {\n        element.scrollLeft -= deltaY * i.settings.wheelSpeed;\n      }\n      shouldPrevent = true;\n    }\n\n    updateGeometry(i);\n\n    shouldPrevent = shouldPrevent || shouldPreventDefault(deltaX, deltaY);\n    if (shouldPrevent && !e.ctrlKey) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  if (typeof window.onwheel !== 'undefined') {\n    i.event.bind(element, 'wheel', mousewheelHandler);\n  } else if (typeof window.onmousewheel !== 'undefined') {\n    i.event.bind(element, 'mousewheel', mousewheelHandler);\n  }\n}\n\nfunction touch(i) {\n  if (!env.supportsTouch && !env.supportsIePointer) {\n    return;\n  }\n\n  var element = i.element;\n\n  function shouldPrevent(deltaX, deltaY) {\n    var scrollTop = Math.floor(element.scrollTop);\n    var scrollLeft = element.scrollLeft;\n    var magnitudeX = Math.abs(deltaX);\n    var magnitudeY = Math.abs(deltaY);\n\n    if (magnitudeY > magnitudeX) {\n      // user is perhaps trying to swipe up/down the page\n\n      if (\n        (deltaY < 0 && scrollTop === i.contentHeight - i.containerHeight) ||\n        (deltaY > 0 && scrollTop === 0)\n      ) {\n        // set prevent for mobile Chrome refresh\n        return window.scrollY === 0 && deltaY > 0 && env.isChrome;\n      }\n    } else if (magnitudeX > magnitudeY) {\n      // user is perhaps trying to swipe left/right across the page\n\n      if (\n        (deltaX < 0 && scrollLeft === i.contentWidth - i.containerWidth) ||\n        (deltaX > 0 && scrollLeft === 0)\n      ) {\n        return true;\n      }\n    }\n\n    return true;\n  }\n\n  function applyTouchMove(differenceX, differenceY) {\n    element.scrollTop -= differenceY;\n    element.scrollLeft -= differenceX;\n\n    updateGeometry(i);\n  }\n\n  var startOffset = {};\n  var startTime = 0;\n  var speed = {};\n  var easingLoop = null;\n\n  function getTouch(e) {\n    if (e.targetTouches) {\n      return e.targetTouches[0];\n    } else {\n      // Maybe IE pointer\n      return e;\n    }\n  }\n\n  function shouldHandle(e) {\n    if (e.pointerType && e.pointerType === 'pen' && e.buttons === 0) {\n      return false;\n    }\n    if (e.targetTouches && e.targetTouches.length === 1) {\n      return true;\n    }\n    if (\n      e.pointerType &&\n      e.pointerType !== 'mouse' &&\n      e.pointerType !== e.MSPOINTER_TYPE_MOUSE\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  function touchStart(e) {\n    if (!shouldHandle(e)) {\n      return;\n    }\n\n    var touch = getTouch(e);\n\n    startOffset.pageX = touch.pageX;\n    startOffset.pageY = touch.pageY;\n\n    startTime = new Date().getTime();\n\n    if (easingLoop !== null) {\n      clearInterval(easingLoop);\n    }\n  }\n\n  function shouldBeConsumedByChild(target, deltaX, deltaY) {\n    if (!element.contains(target)) {\n      return false;\n    }\n\n    var cursor = target;\n\n    while (cursor && cursor !== element) {\n      if (cursor.classList.contains(cls.element.consuming)) {\n        return true;\n      }\n\n      var style = get(cursor);\n\n      // if deltaY && vertical scrollable\n      if (deltaY && style.overflowY.match(/(scroll|auto)/)) {\n        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\n        if (maxScrollTop > 0) {\n          if (\n            (cursor.scrollTop > 0 && deltaY < 0) ||\n            (cursor.scrollTop < maxScrollTop && deltaY > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n      // if deltaX && horizontal scrollable\n      if (deltaX && style.overflowX.match(/(scroll|auto)/)) {\n        var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\n        if (maxScrollLeft > 0) {\n          if (\n            (cursor.scrollLeft > 0 && deltaX < 0) ||\n            (cursor.scrollLeft < maxScrollLeft && deltaX > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n\n      cursor = cursor.parentNode;\n    }\n\n    return false;\n  }\n\n  function touchMove(e) {\n    if (shouldHandle(e)) {\n      var touch = getTouch(e);\n\n      var currentOffset = { pageX: touch.pageX, pageY: touch.pageY };\n\n      var differenceX = currentOffset.pageX - startOffset.pageX;\n      var differenceY = currentOffset.pageY - startOffset.pageY;\n\n      if (shouldBeConsumedByChild(e.target, differenceX, differenceY)) {\n        return;\n      }\n\n      applyTouchMove(differenceX, differenceY);\n      startOffset = currentOffset;\n\n      var currentTime = new Date().getTime();\n\n      var timeGap = currentTime - startTime;\n      if (timeGap > 0) {\n        speed.x = differenceX / timeGap;\n        speed.y = differenceY / timeGap;\n        startTime = currentTime;\n      }\n\n      if (shouldPrevent(differenceX, differenceY)) {\n        e.preventDefault();\n      }\n    }\n  }\n  function touchEnd() {\n    if (i.settings.swipeEasing) {\n      clearInterval(easingLoop);\n      easingLoop = setInterval(function() {\n        if (i.isInitialized) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        if (!speed.x && !speed.y) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        if (Math.abs(speed.x) < 0.01 && Math.abs(speed.y) < 0.01) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        applyTouchMove(speed.x * 30, speed.y * 30);\n\n        speed.x *= 0.8;\n        speed.y *= 0.8;\n      }, 10);\n    }\n  }\n\n  if (env.supportsTouch) {\n    i.event.bind(element, 'touchstart', touchStart);\n    i.event.bind(element, 'touchmove', touchMove);\n    i.event.bind(element, 'touchend', touchEnd);\n  } else if (env.supportsIePointer) {\n    if (window.PointerEvent) {\n      i.event.bind(element, 'pointerdown', touchStart);\n      i.event.bind(element, 'pointermove', touchMove);\n      i.event.bind(element, 'pointerup', touchEnd);\n    } else if (window.MSPointerEvent) {\n      i.event.bind(element, 'MSPointerDown', touchStart);\n      i.event.bind(element, 'MSPointerMove', touchMove);\n      i.event.bind(element, 'MSPointerUp', touchEnd);\n    }\n  }\n}\n\nvar defaultSettings = function () { return ({\n  handlers: ['click-rail', 'drag-thumb', 'keyboard', 'wheel', 'touch'],\n  maxScrollbarLength: null,\n  minScrollbarLength: null,\n  scrollingThreshold: 1000,\n  scrollXMarginOffset: 0,\n  scrollYMarginOffset: 0,\n  suppressScrollX: false,\n  suppressScrollY: false,\n  swipeEasing: true,\n  useBothWheelAxes: false,\n  wheelPropagation: true,\n  wheelSpeed: 1,\n}); };\n\nvar handlers = {\n  'click-rail': clickRail,\n  'drag-thumb': dragThumb,\n  keyboard: keyboard,\n  wheel: wheel,\n  touch: touch,\n};\n\nvar PerfectScrollbar = function PerfectScrollbar(element, userSettings) {\n  var this$1 = this;\n  if ( userSettings === void 0 ) userSettings = {};\n\n  if (typeof element === 'string') {\n    element = document.querySelector(element);\n  }\n\n  if (!element || !element.nodeName) {\n    throw new Error('no element is specified to initialize PerfectScrollbar');\n  }\n\n  this.element = element;\n\n  element.classList.add(cls.main);\n\n  this.settings = defaultSettings();\n  for (var key in userSettings) {\n    this.settings[key] = userSettings[key];\n  }\n\n  this.containerWidth = null;\n  this.containerHeight = null;\n  this.contentWidth = null;\n  this.contentHeight = null;\n\n  var focus = function () { return element.classList.add(cls.state.focus); };\n  var blur = function () { return element.classList.remove(cls.state.focus); };\n\n  this.isRtl = get(element).direction === 'rtl';\n  if (this.isRtl === true) {\n    element.classList.add(cls.rtl);\n  }\n  this.isNegativeScroll = (function () {\n    var originalScrollLeft = element.scrollLeft;\n    var result = null;\n    element.scrollLeft = -1;\n    result = element.scrollLeft < 0;\n    element.scrollLeft = originalScrollLeft;\n    return result;\n  })();\n  this.negativeScrollAdjustment = this.isNegativeScroll\n    ? element.scrollWidth - element.clientWidth\n    : 0;\n  this.event = new EventManager();\n  this.ownerDocument = element.ownerDocument || document;\n\n  this.scrollbarXRail = div(cls.element.rail('x'));\n  element.appendChild(this.scrollbarXRail);\n  this.scrollbarX = div(cls.element.thumb('x'));\n  this.scrollbarXRail.appendChild(this.scrollbarX);\n  this.scrollbarX.setAttribute('tabindex', 0);\n  this.event.bind(this.scrollbarX, 'focus', focus);\n  this.event.bind(this.scrollbarX, 'blur', blur);\n  this.scrollbarXActive = null;\n  this.scrollbarXWidth = null;\n  this.scrollbarXLeft = null;\n  var railXStyle = get(this.scrollbarXRail);\n  this.scrollbarXBottom = parseInt(railXStyle.bottom, 10);\n  if (isNaN(this.scrollbarXBottom)) {\n    this.isScrollbarXUsingBottom = false;\n    this.scrollbarXTop = toInt(railXStyle.top);\n  } else {\n    this.isScrollbarXUsingBottom = true;\n  }\n  this.railBorderXWidth =\n    toInt(railXStyle.borderLeftWidth) + toInt(railXStyle.borderRightWidth);\n  // Set rail to display:block to calculate margins\n  set(this.scrollbarXRail, { display: 'block' });\n  this.railXMarginWidth =\n    toInt(railXStyle.marginLeft) + toInt(railXStyle.marginRight);\n  set(this.scrollbarXRail, { display: '' });\n  this.railXWidth = null;\n  this.railXRatio = null;\n\n  this.scrollbarYRail = div(cls.element.rail('y'));\n  element.appendChild(this.scrollbarYRail);\n  this.scrollbarY = div(cls.element.thumb('y'));\n  this.scrollbarYRail.appendChild(this.scrollbarY);\n  this.scrollbarY.setAttribute('tabindex', 0);\n  this.event.bind(this.scrollbarY, 'focus', focus);\n  this.event.bind(this.scrollbarY, 'blur', blur);\n  this.scrollbarYActive = null;\n  this.scrollbarYHeight = null;\n  this.scrollbarYTop = null;\n  var railYStyle = get(this.scrollbarYRail);\n  this.scrollbarYRight = parseInt(railYStyle.right, 10);\n  if (isNaN(this.scrollbarYRight)) {\n    this.isScrollbarYUsingRight = false;\n    this.scrollbarYLeft = toInt(railYStyle.left);\n  } else {\n    this.isScrollbarYUsingRight = true;\n  }\n  this.scrollbarYOuterWidth = this.isRtl ? outerWidth(this.scrollbarY) : null;\n  this.railBorderYWidth =\n    toInt(railYStyle.borderTopWidth) + toInt(railYStyle.borderBottomWidth);\n  set(this.scrollbarYRail, { display: 'block' });\n  this.railYMarginHeight =\n    toInt(railYStyle.marginTop) + toInt(railYStyle.marginBottom);\n  set(this.scrollbarYRail, { display: '' });\n  this.railYHeight = null;\n  this.railYRatio = null;\n\n  this.reach = {\n    x:\n      element.scrollLeft <= 0\n        ? 'start'\n        : element.scrollLeft >= this.contentWidth - this.containerWidth\n        ? 'end'\n        : null,\n    y:\n      element.scrollTop <= 0\n        ? 'start'\n        : element.scrollTop >= this.contentHeight - this.containerHeight\n        ? 'end'\n        : null,\n  };\n\n  this.isAlive = true;\n\n  this.settings.handlers.forEach(function (handlerName) { return handlers[handlerName](this$1); });\n\n  this.lastScrollTop = Math.floor(element.scrollTop); // for onScroll only\n  this.lastScrollLeft = element.scrollLeft; // for onScroll only\n  this.event.bind(this.element, 'scroll', function (e) { return this$1.onScroll(e); });\n  updateGeometry(this);\n};\n\nPerfectScrollbar.prototype.update = function update () {\n  if (!this.isAlive) {\n    return;\n  }\n\n  // Recalcuate negative scrollLeft adjustment\n  this.negativeScrollAdjustment = this.isNegativeScroll\n    ? this.element.scrollWidth - this.element.clientWidth\n    : 0;\n\n  // Recalculate rail margins\n  set(this.scrollbarXRail, { display: 'block' });\n  set(this.scrollbarYRail, { display: 'block' });\n  this.railXMarginWidth =\n    toInt(get(this.scrollbarXRail).marginLeft) +\n    toInt(get(this.scrollbarXRail).marginRight);\n  this.railYMarginHeight =\n    toInt(get(this.scrollbarYRail).marginTop) +\n    toInt(get(this.scrollbarYRail).marginBottom);\n\n  // Hide scrollbars not to affect scrollWidth and scrollHeight\n  set(this.scrollbarXRail, { display: 'none' });\n  set(this.scrollbarYRail, { display: 'none' });\n\n  updateGeometry(this);\n\n  processScrollDiff(this, 'top', 0, false, true);\n  processScrollDiff(this, 'left', 0, false, true);\n\n  set(this.scrollbarXRail, { display: '' });\n  set(this.scrollbarYRail, { display: '' });\n};\n\nPerfectScrollbar.prototype.onScroll = function onScroll (e) {\n  if (!this.isAlive) {\n    return;\n  }\n\n  updateGeometry(this);\n  processScrollDiff(this, 'top', this.element.scrollTop - this.lastScrollTop);\n  processScrollDiff(\n    this,\n    'left',\n    this.element.scrollLeft - this.lastScrollLeft\n  );\n\n  this.lastScrollTop = Math.floor(this.element.scrollTop);\n  this.lastScrollLeft = this.element.scrollLeft;\n};\n\nPerfectScrollbar.prototype.destroy = function destroy () {\n  if (!this.isAlive) {\n    return;\n  }\n\n  this.event.unbindAll();\n  remove(this.scrollbarX);\n  remove(this.scrollbarY);\n  remove(this.scrollbarXRail);\n  remove(this.scrollbarYRail);\n  this.removePsClasses();\n\n  // unset elements\n  this.element = null;\n  this.scrollbarX = null;\n  this.scrollbarY = null;\n  this.scrollbarXRail = null;\n  this.scrollbarYRail = null;\n\n  this.isAlive = false;\n};\n\nPerfectScrollbar.prototype.removePsClasses = function removePsClasses () {\n  this.element.className = this.element.className\n    .split(' ')\n    .filter(function (name) { return !name.match(/^ps([-_].+|)$/); })\n    .join(' ');\n};\n\nexport default PerfectScrollbar;\n//# sourceMappingURL=perfect-scrollbar.esm.js.map\n","function select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', 'select'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('select'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.select);\n        global.clipboardAction = mod.exports;\n    }\n})(this, function (module, _select) {\n    'use strict';\n\n    var _select2 = _interopRequireDefault(_select);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    var ClipboardAction = function () {\n        /**\n         * @param {Object} options\n         */\n        function ClipboardAction(options) {\n            _classCallCheck(this, ClipboardAction);\n\n            this.resolveOptions(options);\n            this.initSelection();\n        }\n\n        /**\n         * Defines base properties passed from constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(ClipboardAction, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = options.action;\n                this.container = options.container;\n                this.emitter = options.emitter;\n                this.target = options.target;\n                this.text = options.text;\n                this.trigger = options.trigger;\n\n                this.selectedText = '';\n            }\n        }, {\n            key: 'initSelection',\n            value: function initSelection() {\n                if (this.text) {\n                    this.selectFake();\n                } else if (this.target) {\n                    this.selectTarget();\n                }\n            }\n        }, {\n            key: 'selectFake',\n            value: function selectFake() {\n                var _this = this;\n\n                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n\n                this.removeFake();\n\n                this.fakeHandlerCallback = function () {\n                    return _this.removeFake();\n                };\n                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n\n                this.fakeElem = document.createElement('textarea');\n                // Prevent zooming on iOS\n                this.fakeElem.style.fontSize = '12pt';\n                // Reset box model\n                this.fakeElem.style.border = '0';\n                this.fakeElem.style.padding = '0';\n                this.fakeElem.style.margin = '0';\n                // Move element out of screen horizontally\n                this.fakeElem.style.position = 'absolute';\n                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';\n                // Move element to the same position vertically\n                var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n                this.fakeElem.style.top = yPosition + 'px';\n\n                this.fakeElem.setAttribute('readonly', '');\n                this.fakeElem.value = this.text;\n\n                this.container.appendChild(this.fakeElem);\n\n                this.selectedText = (0, _select2.default)(this.fakeElem);\n                this.copyText();\n            }\n        }, {\n            key: 'removeFake',\n            value: function removeFake() {\n                if (this.fakeHandler) {\n                    this.container.removeEventListener('click', this.fakeHandlerCallback);\n                    this.fakeHandler = null;\n                    this.fakeHandlerCallback = null;\n                }\n\n                if (this.fakeElem) {\n                    this.container.removeChild(this.fakeElem);\n                    this.fakeElem = null;\n                }\n            }\n        }, {\n            key: 'selectTarget',\n            value: function selectTarget() {\n                this.selectedText = (0, _select2.default)(this.target);\n                this.copyText();\n            }\n        }, {\n            key: 'copyText',\n            value: function copyText() {\n                var succeeded = void 0;\n\n                try {\n                    succeeded = document.execCommand(this.action);\n                } catch (err) {\n                    succeeded = false;\n                }\n\n                this.handleResult(succeeded);\n            }\n        }, {\n            key: 'handleResult',\n            value: function handleResult(succeeded) {\n                this.emitter.emit(succeeded ? 'success' : 'error', {\n                    action: this.action,\n                    text: this.selectedText,\n                    trigger: this.trigger,\n                    clearSelection: this.clearSelection.bind(this)\n                });\n            }\n        }, {\n            key: 'clearSelection',\n            value: function clearSelection() {\n                if (this.trigger) {\n                    this.trigger.focus();\n                }\n\n                window.getSelection().removeAllRanges();\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.removeFake();\n            }\n        }, {\n            key: 'action',\n            set: function set() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n\n                this._action = action;\n\n                if (this._action !== 'copy' && this._action !== 'cut') {\n                    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n                }\n            },\n            get: function get() {\n                return this._action;\n            }\n        }, {\n            key: 'target',\n            set: function set(target) {\n                if (target !== undefined) {\n                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\n                        if (this.action === 'copy' && target.hasAttribute('disabled')) {\n                            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n                        }\n\n                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n                            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n                        }\n\n                        this._target = target;\n                    } else {\n                        throw new Error('Invalid \"target\" value, use a valid Element');\n                    }\n                }\n            },\n            get: function get() {\n                return this._target;\n            }\n        }]);\n\n        return ClipboardAction;\n    }();\n\n    module.exports = ClipboardAction;\n});","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n","/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n","var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","var is = require('./is');\nvar delegate = require('delegate');\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', './clipboard-action', 'tiny-emitter', 'good-listener'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('./clipboard-action'), require('tiny-emitter'), require('good-listener'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.clipboardAction, global.tinyEmitter, global.goodListener);\n        global.clipboard = mod.exports;\n    }\n})(this, function (module, _clipboardAction, _tinyEmitter, _goodListener) {\n    'use strict';\n\n    var _clipboardAction2 = _interopRequireDefault(_clipboardAction);\n\n    var _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);\n\n    var _goodListener2 = _interopRequireDefault(_goodListener);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    function _possibleConstructorReturn(self, call) {\n        if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    }\n\n    var Clipboard = function (_Emitter) {\n        _inherits(Clipboard, _Emitter);\n\n        /**\n         * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n         * @param {Object} options\n         */\n        function Clipboard(trigger, options) {\n            _classCallCheck(this, Clipboard);\n\n            var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));\n\n            _this.resolveOptions(options);\n            _this.listenClick(trigger);\n            return _this;\n        }\n\n        /**\n         * Defines if attributes would be resolved using internal setter functions\n         * or custom functions that were passed in the constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(Clipboard, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n                this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n                this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n                this.container = _typeof(options.container) === 'object' ? options.container : document.body;\n            }\n        }, {\n            key: 'listenClick',\n            value: function listenClick(trigger) {\n                var _this2 = this;\n\n                this.listener = (0, _goodListener2.default)(trigger, 'click', function (e) {\n                    return _this2.onClick(e);\n                });\n            }\n        }, {\n            key: 'onClick',\n            value: function onClick(e) {\n                var trigger = e.delegateTarget || e.currentTarget;\n\n                if (this.clipboardAction) {\n                    this.clipboardAction = null;\n                }\n\n                this.clipboardAction = new _clipboardAction2.default({\n                    action: this.action(trigger),\n                    target: this.target(trigger),\n                    text: this.text(trigger),\n                    container: this.container,\n                    trigger: trigger,\n                    emitter: this\n                });\n            }\n        }, {\n            key: 'defaultAction',\n            value: function defaultAction(trigger) {\n                return getAttributeValue('action', trigger);\n            }\n        }, {\n            key: 'defaultTarget',\n            value: function defaultTarget(trigger) {\n                var selector = getAttributeValue('target', trigger);\n\n                if (selector) {\n                    return document.querySelector(selector);\n                }\n            }\n        }, {\n            key: 'defaultText',\n            value: function defaultText(trigger) {\n                return getAttributeValue('text', trigger);\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.listener.destroy();\n\n                if (this.clipboardAction) {\n                    this.clipboardAction.destroy();\n                    this.clipboardAction = null;\n                }\n            }\n        }], [{\n            key: 'isSupported',\n            value: function isSupported() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n\n                var actions = typeof action === 'string' ? [action] : action;\n                var support = !!document.queryCommandSupported;\n\n                actions.forEach(function (action) {\n                    support = support && !!document.queryCommandSupported(action);\n                });\n\n                return support;\n            }\n        }]);\n\n        return Clipboard;\n    }(_tinyEmitter2.default);\n\n    /**\n     * Helper function to retrieve attribute value.\n     * @param {String} suffix\n     * @param {Element} element\n     */\n    function getAttributeValue(suffix, element) {\n        var attribute = 'data-clipboard-' + suffix;\n\n        if (!element.hasAttribute(attribute)) {\n            return;\n        }\n\n        return element.getAttribute(attribute);\n    }\n\n    module.exports = Clipboard;\n});","import PerfectScrollbar from 'perfect-scrollbar'\nimport Clipboard from 'clipboard'\nimport Constants from '../configuration/Constants'\n\n/**\n * Smart guide\n * @typedef {Object} SmartGuide\n * @property {Editor} editor - A reference to the current editor.\n * @property {String} wordToChange - Word to change following a click on a word.\n * @property {String} lastWord - Keep the last word of the previous export to compare with the new and scroll if it's different.\n * @property {String} previousLabelExport - Keep the previous label export to know if we should repopulate the prompter text.\n * @property {PerfectScrollbar} perfectScrollbar - Perfect Scrollbar used to get gestures from smart guide using touch-action none anyway and get scrolling too.\n * @property {Object} elements - All the HTML elements of the smart guide.\n * @property {Number} smartGuideTimeOutId - Id of the setTimeOut from fade out animation to clear.\n * @property {String} randomString - Random string used in case of multiple smart guide.\n */\n\n/**\n * Create all the smart guide HTML elements.\n */\nfunction createHTMLElements (randomString) {\n  /**\n   * The smart guide element.\n   * @type {HTMLDivElement}\n   */\n  const smartGuideElement = document.createElement('div')\n  smartGuideElement.id = 'smartguide' + randomString\n  smartGuideElement.classList.add('smartguide')\n\n  /**\n   * The prompter text element that contains the text to get the overflow working.\n   * @type {HTMLDivElement}\n   */\n  const textElement = document.createElement('div')\n  textElement.id = 'prompter-text' + randomString\n  textElement.classList.add('prompter-text')\n  textElement.setAttribute('touch-action', 'none')\n\n  /**\n   * The text container element that contains the text element.\n   * @type {HTMLDivElement}\n   */\n  const textContainer = document.createElement('div')\n  textContainer.id = 'prompter-text-container' + randomString\n  textContainer.classList.add('prompter-text-container')\n  textContainer.appendChild(textElement)\n\n  /**\n   * The actions menu represented by the ellipsis character.\n   * @type {HTMLDivElement}\n   */\n  const ellipsisElement = document.createElement('div')\n  ellipsisElement.id = 'ellipsis' + randomString\n  ellipsisElement.classList.add('ellipsis')\n  ellipsisElement.innerHTML = '...'\n\n  /**\n   * The tag element.\n   * @type {HTMLDivElement}\n   */\n  const tagElement = document.createElement('div')\n  tagElement.id = 'tag-icon' + randomString\n  tagElement.classList.add('tag-icon')\n  tagElement.innerHTML = '&#182;'\n\n  /**\n   * The candidates element that contains the candidates for a word.\n   * @type {HTMLDivElement}\n   */\n  const candidatesElement = document.createElement('div')\n  candidatesElement.id = 'candidates' + randomString\n  candidatesElement.classList.add('candidates')\n\n  /**\n   * The menu element that contains the actions.\n   * @type {HTMLDivElement}\n   */\n  const menuElement = document.createElement('div')\n  menuElement.id = 'more-menu' + randomString\n  menuElement.classList.add('more-menu')\n\n  /**\n   * The convert button from actions menu.\n   * @type {HTMLButtonElement}\n   */\n  const convertElement = document.createElement('button')\n  convertElement.classList.add('options-label-button')\n  convertElement.id = 'convert' + randomString\n  convertElement.innerHTML = 'Convert'\n\n  /**\n   * The copy button from actions menu.\n   * @type {HTMLButtonElement}\n   */\n  const copyElement = document.createElement('button')\n  copyElement.classList.add('options-label-button')\n  copyElement.id = 'copy' + randomString\n  copyElement.innerHTML = 'Copy'\n\n  /**\n   * The delete button from actions menu.\n   * @type {HTMLButtonElement}\n   */\n  const deleteElement = document.createElement('button')\n  deleteElement.classList.add('options-label-button')\n  deleteElement.id = 'delete' + randomString\n  deleteElement.innerHTML = 'Delete'\n\n  return {\n    smartGuideElement,\n    textElement,\n    textContainer,\n    candidatesElement,\n    menuElement,\n    tagElement,\n    ellipsisElement,\n    convertElement,\n    copyElement,\n    deleteElement\n  }\n}\n\n/**\n * Check if node is in shadow dom\n * @param {Node} node - A node element.\n * @returns {boolean} true if is in shadow dom, false otherwise.\n */\nfunction isInShadow (node) {\n  let parent = (node && node.parentNode)\n  while (parent) {\n    if (parent.toString() === '[object ShadowRoot]') {\n      return true\n    }\n    parent = parent.parentNode\n  }\n  return false\n}\n\n/**\n * Show the actions of the action menu.\n * @param {Event} evt - Event used to insert the option div using the event's target.\n * @param {Object} elements - All the elements of the smart guide.\n * @param {SmartGuide} smartGuide\n */\nfunction showActions (evt, elements) {\n  const elementsRef = elements\n\n  const insertActions = () => {\n    elementsRef.menuElement.appendChild(elementsRef.convertElement)\n    elementsRef.menuElement.appendChild(elementsRef.copyElement)\n    elementsRef.menuElement.appendChild(elementsRef.deleteElement)\n\n    const parent = evt.target.parentNode\n    parent.insertBefore(elementsRef.menuElement, evt.target)\n  }\n\n  const positionActions = () => {\n    // 48 to get the boundary of smart guide element.\n    const left = evt.target.offsetLeft - 68\n    elementsRef.menuElement.style.left = `${left}px`\n  }\n\n  const isMenuInDocument = document.contains(elementsRef.menuElement)\n  if (!isInShadow(elementsRef.menuElement) && !isMenuInDocument) {\n    elementsRef.menuElement.style.display = 'flex'\n    positionActions()\n    insertActions()\n  } else if (elementsRef.menuElement.style.display === 'none') {\n    positionActions()\n    elementsRef.menuElement.style.display = 'flex'\n  }\n}\n\n/**\n * Show the candidates of the clicked word.\n * @param {Event} evt - Event used to determine the clicked word.\n * @param {Editor} editor - A reference to the editor.\n * @param {SmartGuide} smartGuide - A reference to the smart guide.\n */\nfunction showCandidates (evt, editor, smartGuide) {\n  const smartGuideRef = smartGuide\n  const elementsRef = smartGuide.elements\n\n  if (evt.target.id !== `prompter-text${smartGuide.randomString}`) {\n    const id = evt.target.id.replace('word-', '').replace(smartGuide.randomString, '')\n    const words = JSON.parse(editor.exports[Constants.Exports.JIIX]).words\n    smartGuideRef.wordToChange = words[id]\n    smartGuideRef.wordToChange.id = id\n    elementsRef.candidatesElement.innerHTML = ''\n    if (smartGuideRef.wordToChange && smartGuideRef.wordToChange.candidates) {\n      elementsRef.candidatesElement.style.display = 'flex'\n      smartGuideRef.wordToChange.candidates.forEach((word, index) => {\n        if (smartGuideRef.wordToChange.label === word) {\n          elementsRef.candidatesElement.innerHTML += `<span id=\"cdt-${index}${smartGuide.randomString}\" class=\"selected-word\">${word}</span>`\n        } else {\n          elementsRef.candidatesElement.innerHTML += `<span id=\"cdt-${index}${smartGuide.randomString}\">${word}</span>`\n        }\n      })\n      // get the parent parent of word to insert just before smart guide, 48 to get the boundary of smart guide element.\n      const top = 48\n      const left = evt.target.getBoundingClientRect().left - 60\n      elementsRef.candidatesElement.style.top = `${top}px`\n      elementsRef.candidatesElement.style.left = `${left}px`\n\n      const parent = evt.target.parentNode.parentNode.parentNode\n      parent.insertBefore(elementsRef.candidatesElement, evt.target.parentNode.parentNode)\n    }\n  }\n}\n\n/**\n * Call the import_ function of the editor to import the modified Jiix with the new label.\n * @param {Event} evt - Event to determine the clicked candidate.\n * @param {Editor} editor - A reference to the editor.\n * @param {SmartGuide} smartGuide - A reference to the smart guide.\n */\nfunction clickCandidate (evt, editor, smartGuide) {\n  const smartGuideRef = smartGuide\n  const elementsRef = smartGuide.elements\n  const candidate = evt.target.innerText\n\n  if (candidate !== smartGuideRef.wordToChange.label && smartGuideRef.wordToChange.candidates.includes(candidate)) {\n    const jiixToImport = JSON.parse(editor.exports[Constants.Exports.JIIX])\n    jiixToImport.words[smartGuideRef.wordToChange.id].label = candidate\n    // eslint-disable-next-line no-underscore-dangle\n    editor.import_(JSON.stringify(jiixToImport), Constants.Exports.JIIX)\n  }\n  elementsRef.candidatesElement.style.display = 'none'\n}\n\n/**\n * Add the listeners to the smart guide elements.\n * @param {Editor} editor - A reference to the editor.\n * @param {SmartGuide} smartGuide - A reference to the smart guide.\n */\nfunction addListeners (editor, smartGuide) {\n  const elementsRef = smartGuide.elements\n\n  elementsRef.textElement.addEventListener('click', evt => showCandidates(evt, editor, smartGuide))\n  elementsRef.candidatesElement.addEventListener('click', evt => clickCandidate(evt, editor, smartGuide))\n  elementsRef.ellipsisElement.addEventListener('click', evt => showActions(evt, elementsRef))\n  elementsRef.copyElement.addEventListener('click', () => {\n    elementsRef.menuElement.style.display = 'none'\n  })\n  elementsRef.convertElement.addEventListener('click', () => {\n    elementsRef.menuElement.style.display = 'none'\n    editor.convert()\n  })\n  elementsRef.deleteElement.addEventListener('click', () => {\n    elementsRef.menuElement.style.display = 'none'\n    editor.clear()\n  })\n}\n\n/**\n * Call mutation observer to trigger fade out animation.\n * @param {number} [duration=10000] - the duration in milliseconds before calling the fade out animation.\n * @param {SmartGuide} smartGuide - A reference to the smart guide.\n */\nfunction callFadeOutObserver (duration = 10000, smartGuide) {\n  const smartGuideRef = smartGuide\n  const elementsRef = smartGuide.elements\n  // eslint-disable-next-line no-undef\n  const observer = new MutationObserver((mutations) => {\n    mutations.forEach(() => {\n      if (smartGuideRef.smartGuideTimeOutId) {\n        clearTimeout(smartGuideRef.smartGuideTimeOutId)\n      }\n      if (elementsRef.candidatesElement.style.display === 'none' && elementsRef.menuElement.style.display === 'none') {\n        smartGuideRef.smartGuideTimeOutId = setTimeout(() => {\n          elementsRef.smartGuideElement.classList.add('smartguide-out')\n          elementsRef.smartGuideElement.classList.remove('smartguide-in')\n        }, duration)\n      } else if (!document.contains(elementsRef.candidatesElement) && !document.contains(elementsRef.menuElement)) {\n        smartGuideRef.smartGuideTimeOutId = setTimeout(() => {\n          elementsRef.smartGuideElement.classList.add('smartguide-out')\n          elementsRef.smartGuideElement.classList.remove('smartguide-in')\n        }, duration)\n      }\n    })\n  })\n  observer.observe(elementsRef.smartGuideElement, { childList: true, subtree: true, attributes: true })\n}\n\n/**\n * Create a new smart guide\n * @param {Editor} editor - A reference to the editor.\n * @returns {SmartGuide} New smart guide\n */\nexport function createSmartGuide (editor) {\n  const randomString = '-' + Math.random().toString(10).substring(2, 12)\n  const elements = createHTMLElements(randomString)\n\n  /**\n   * Clipboard from clipboard.js used to get copy across all browsers.\n   * @type {Clipboard}\n   */\n  // eslint-disable-next-line no-unused-vars\n  const clipboard = new Clipboard(elements.copyElement)\n  const perfectScrollbar = new PerfectScrollbar(elements.textContainer, { suppressScrollY: true, scrollXMarginOffset: 1 })\n\n  const smartGuide = {\n    editor,\n    wordToChange: '',\n    lastWord: '',\n    previousLabelExport: ' ',\n    perfectScrollbar,\n    elements,\n    smartGuideTimeOutId: 0,\n    randomString\n  }\n  addListeners(editor, smartGuide)\n\n  if (editor.configuration.recognitionParams.iink.text.smartGuideFadeOut.enable) {\n    callFadeOutObserver(editor.configuration.recognitionParams.iink.text.smartGuideFadeOut.duration, smartGuide)\n  }\n\n  return smartGuide\n}\n\nexport function resize (smartGuide) {\n  const smartGuideRef = smartGuide\n  const elementsRef = smartGuide.elements\n\n  const mmToPixels = 3.779527559\n  let left = smartGuideRef.editor.configuration.recognitionParams.iink.text.margin.left * mmToPixels\n\n  const maxWidthTextContainer = smartGuideRef.editor.domElement.clientWidth - left - elementsRef.tagElement.offsetWidth - 35 - left\n\n  // Assign a max width to the smartguide based on the editor width, the left position and a small margin for the ellipsis (48px)\n  elementsRef.textContainer.style.width = `${maxWidthTextContainer}px`\n  elementsRef.textContainer.style.maxWidth = `${maxWidthTextContainer}px`\n\n  left = elementsRef.tagElement.offsetWidth\n  left += maxWidthTextContainer\n  elementsRef.ellipsisElement.style.left = `${left}px`\n\n  elementsRef.smartGuideElement.style.width = `${elementsRef.tagElement.offsetWidth + elementsRef.textContainer.offsetWidth + elementsRef.ellipsisElement.offsetWidth}px`\n  smartGuideRef.perfectScrollbar.update()\n}\n\n/**\n * Insert the smart guide HTML elements in the DOM.\n * @param {SmartGuide} smartGuide - A reference to the smart guide.\n */\nexport function insertSmartGuide (smartGuide) {\n  const smartGuideRef = smartGuide\n  const elementsRef = smartGuide.elements\n\n  const insertSmartGuideElement = (left, top) => {\n    elementsRef.smartGuideElement.style.top = `${top}px`\n    elementsRef.smartGuideElement.style.left = `${left}px`\n    elementsRef.smartGuideElement.style.visibility = 'hidden'\n\n    const parent = smartGuideRef.editor.domElement\n    parent.insertBefore(elementsRef.smartGuideElement, smartGuideRef.editor.loader)\n  }\n  const insertTag = () => {\n    elementsRef.smartGuideElement.appendChild(elementsRef.tagElement)\n  }\n  const insertTextContainer = (left, maxWidth) => {\n    elementsRef.textContainer.style.left = `${left}px`\n\n    // Assign a max width to the smartguide based on the editor width, the left position and a small margin for the ellipsis (48px)\n    elementsRef.textContainer.style.width = `${maxWidth}px`\n    elementsRef.textContainer.style.maxWidth = `${maxWidth}px`\n\n    elementsRef.smartGuideElement.appendChild(elementsRef.textContainer)\n  }\n  const insertEllipsis = (left) => {\n    elementsRef.ellipsisElement.style.left = `${left}px`\n\n    elementsRef.smartGuideElement.appendChild(elementsRef.ellipsisElement)\n  }\n\n  // FIXME Use value from contentChanged when available\n\n  const mmToPixels = 3.779527559\n\n  const marginTop = smartGuideRef.editor.configuration.recognitionParams.iink.text.margin.top * mmToPixels\n  const marginLeft = smartGuideRef.editor.configuration.recognitionParams.iink.text.margin.left * mmToPixels\n\n  // 12 is the space between line in mm\n  const top = marginTop - (12 * mmToPixels)\n  let left = marginLeft\n\n  insertSmartGuideElement(left, top)\n  insertTag()\n\n  // 35 is the ellipsis element width\n  const maxWidthTextContainer = smartGuideRef.editor.domElement.clientWidth - left - elementsRef.tagElement.offsetWidth - 35 - left\n  left = elementsRef.tagElement.offsetWidth\n  insertTextContainer(left, maxWidthTextContainer)\n\n  left += maxWidthTextContainer\n  insertEllipsis(left)\n\n  elementsRef.menuElement.style.display = 'none'\n  elementsRef.menuElement.appendChild(elementsRef.convertElement)\n  elementsRef.menuElement.appendChild(elementsRef.copyElement)\n  elementsRef.menuElement.appendChild(elementsRef.deleteElement)\n  elementsRef.smartGuideElement.appendChild(elementsRef.menuElement)\n\n  elementsRef.candidatesElement.style.display = 'none'\n  elementsRef.smartGuideElement.appendChild(elementsRef.candidatesElement)\n\n  // 48px as set in css\n  elementsRef.smartGuideElement.style.height = '48px'\n  elementsRef.smartGuideElement.style.width = `${elementsRef.tagElement.offsetWidth + elementsRef.textContainer.offsetWidth + elementsRef.ellipsisElement.offsetWidth}px`\n  smartGuideRef.perfectScrollbar.update()\n}\n\n/**\n * Launch the smartguide.\n * @param {SmartGuide} smartGuide - A reference to the smart guide.\n * @param {Object} exports -  The export from the editor.\n */\nexport function launchSmartGuide (smartGuide, exports) {\n  const smartGuideRef = smartGuide\n  const elementsRef = smartGuide.elements\n\n  const isSmartGuideInDocument = document.contains(elementsRef.smartGuideElement)\n\n  if (!isInShadow(elementsRef.smartGuideElement) && !isSmartGuideInDocument) {\n    insertSmartGuide(smartGuide)\n  }\n\n  const addAnimationToModifiedWord = (words) => {\n    if (smartGuideRef.tempWords && smartGuideRef.tempWords.length === words.length) {\n      const labelWordsArray = words.map(word => word.label)\n      const tempLabelWordsArray = smartGuideRef.tempWords.map(word => word.label)\n      const wordChangedId = labelWordsArray.indexOf(labelWordsArray.filter(a => tempLabelWordsArray.indexOf(a) === -1)[0])\n      if (document.getElementById(`word-${wordChangedId}${smartGuide.randomString}`) && wordChangedId > -1) {\n        document.getElementById(`word-${wordChangedId}${smartGuide.randomString}`).classList.add('modified-word')\n        elementsRef.textContainer.scrollLeft = document.getElementById(`word-${wordChangedId}${smartGuide.randomString}`).offsetLeft - 10\n      }\n    }\n    smartGuideRef.tempWords = JSON.parse(exports[Constants.Exports.JIIX]).words\n  }\n\n  const createWordSpan = (empty, index, word) => {\n    const span = document.createElement('span')\n    span.id = `word-${index}${smartGuide.randomString}`\n    if (empty) {\n      span.innerHTML = '&nbsp;'\n    } else {\n      span.textContent = word.label\n    }\n    return span\n  }\n\n  // Possible optimisation ? Check if we can find a way to not repopulate the smartguide every time even if we now use Document fragment\n  const populatePrompter = (words) => {\n    elementsRef.textElement.innerHTML = ''\n    // We use a DocumentFragment to reflow the DOM only one time as it is not part of the DOM\n    const myFragment = document.createDocumentFragment()\n    words.forEach((word, index) => {\n      if (word.label === ' ' || word.label.includes('\\n')) {\n        myFragment.appendChild(createWordSpan(true, index))\n      } else if (index !== words.length - 1) {\n        myFragment.appendChild(createWordSpan(false, index, word))\n      } else {\n        elementsRef.textElement.appendChild(myFragment)\n        smartGuideRef.perfectScrollbar.update()\n        if (smartGuideRef.lastWord === '') {\n          smartGuideRef.lastWord = word\n        }\n        const span = createWordSpan(false, index, word)\n        // This is used to scroll to last word if last word is modified\n        if ((smartGuideRef.lastWord.candidates !== word.candidates) && (smartGuideRef.lastWord.label !== word.label)) {\n          span.classList.add('added-word')\n          elementsRef.textElement.appendChild(span)\n          elementsRef.textContainer.scrollLeft = span.offsetLeft\n          smartGuideRef.lastWord = word\n        } else {\n          elementsRef.textElement.appendChild(span)\n          elementsRef.textContainer.scrollLeft = span.offsetLeft\n        }\n      }\n    })\n  }\n\n  if (exports && JSON.parse(exports[Constants.Exports.JIIX]).words.length > 0) {\n    elementsRef.smartGuideElement.classList.add('smartguide-in')\n    elementsRef.smartGuideElement.classList.remove('smartguide-out')\n    elementsRef.candidatesElement.style.display = 'none'\n    elementsRef.menuElement.style.display = 'none'\n    if (smartGuideRef.previousLabelExport && smartGuideRef.previousLabelExport !== JSON.parse(exports[Constants.Exports.JIIX]).label) {\n      const words = JSON.parse(exports[Constants.Exports.JIIX]).words\n      populatePrompter(words)\n      addAnimationToModifiedWord(words)\n    }\n    smartGuideRef.previousLabelExport = JSON.parse(exports[Constants.Exports.JIIX]).label\n    // This is required by clipboard.js to get the text to be copied.\n    elementsRef.copyElement.setAttribute('data-clipboard-text', JSON.parse(exports[Constants.Exports.JIIX]).label)\n  } else {\n    elementsRef.smartGuideElement.classList.add('smartguide-out')\n    elementsRef.smartGuideElement.classList.remove('smartguide-in')\n  }\n\n  return smartGuideRef\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","/**\n * Undo/redo context\n * @typedef {Object} UndoRedoContext\n * @property {Array<Model>} stack=[] List of processed models.\n * @property {Number} currentPosition=-1 Current model index into the stack.\n * @property {Number} maxSize Max size of the stack.\n * @property {Boolean} canUndo=false\n * @property {Boolean} canRedo=false\n */\n\n/**\n * Create a new undo/redo context\n * @param {Configuration} configuration Current configuration\n * @return {UndoRedoContext} New undo/redo context\n */\nexport function createUndoRedoContext (configuration) {\n  return {\n    stack: [],\n    currentPosition: -1,\n    maxSize: configuration.undoRedoMaxStackSize,\n    canUndo: false,\n    canRedo: false\n  }\n}\n\n/**\n * Update the undo/redo state\n * @param {UndoRedoContext} undoRedoContext Current undo/redo context\n * @return {UndoRedoContext} Updated undo/redo context\n */\nexport function updateUndoRedoState (undoRedoContext) {\n  const undoRedoContextRef = undoRedoContext\n  undoRedoContextRef.canUndo = undoRedoContext.currentPosition > 0\n  undoRedoContextRef.canRedo = undoRedoContext.currentPosition < (undoRedoContext.stack.length - 1)\n  return undoRedoContextRef\n}\n","import * as InkModel from '../model/InkModel'\nimport * as UndoRedoContext from '../model/UndoRedoContext'\nimport { modelLogger as logger } from '../configuration/LoggerConfig'\nimport Constants from '../configuration/Constants'\n\n/**\n * Undo/redo manager\n * @typedef {Object} UndoRedoManager\n * @property {function} updateModel Push the current model into the undo/redo context.\n * @property {function} undo Undo.\n * @property {function} redo Redo.\n * @property {function} clear Clear.\n */\n\n/**\n * Get current model in stack\n * @param {UndoRedoContext} undoRedoContext Current undo/redo context\n * @param {Boolean} [clone=true] Whether or not to clone the model\n * @param {...String} types\n */\nexport function getModel (undoRedoContext, clone = true, ...types) {\n  const model = undoRedoContext.stack[undoRedoContext.currentPosition]\n  const val = {\n    res: clone ? InkModel.cloneModel(model) : model,\n    types\n  }\n  return Promise.resolve(val)\n}\n\n/**\n * Mutate the undoRedo stack by adding a new model to it.\n * @param {UndoRedoContext} undoRedoContext Current undo/redo context.\n * @param {Model} model Current model.\n */\nexport function updateModel (undoRedoContext, model) {\n  // Used to update the model with the recognition result if relevant\n  const modelIndex = undoRedoContext.stack.findIndex(item => (item.modificationTime === model.modificationTime) && (item.rawStrokes.length === model.rawStrokes.length))\n\n  const modelReference = model\n  modelReference.modificationTime = new Date().getTime()\n\n  const types = []\n  if (modelIndex > -1) {\n    undoRedoContext.stack.splice(modelIndex, 1, InkModel.cloneModel(modelReference))\n    logger.debug('model updated', modelReference)\n  } else {\n    const undoRedoContextReference = undoRedoContext\n    undoRedoContextReference.currentPosition += 1\n    undoRedoContextReference.stack = undoRedoContextReference.stack.slice(0, undoRedoContextReference.currentPosition)\n    undoRedoContextReference.stack.push(InkModel.cloneModel(modelReference))\n    if (undoRedoContextReference.stack.length > undoRedoContextReference.maxSize) {\n      undoRedoContextReference.stack.shift()\n      undoRedoContextReference.currentPosition--\n    }\n    logger.debug('model pushed', modelReference)\n    types.push(Constants.EventType.CHANGED)\n  }\n  UndoRedoContext.updateUndoRedoState(undoRedoContext)\n  logger.debug('undo/redo stack updated', undoRedoContext)\n  return getModel(undoRedoContext, false, ...types)\n}\n\n/**\n * Undo\n * @param {UndoRedoContext} undoRedoContext Current undo/redo context.\n * @param {Model} model Current model.\n */\nexport function undo (undoRedoContext, model) {\n  const undoRedoContextReference = undoRedoContext\n  if (undoRedoContextReference.currentPosition > 0) {\n    undoRedoContextReference.currentPosition -= 1\n    UndoRedoContext.updateUndoRedoState(undoRedoContext)\n    logger.debug('undo index', undoRedoContextReference.currentPosition)\n  }\n  return getModel(undoRedoContext, true, Constants.EventType.CHANGED, Constants.EventType.EXPORTED)\n}\n\n/**\n * Redo\n * @param {UndoRedoContext} undoRedoContext Current undo/redo context.\n * @param {Model} model Current model.\n */\nexport function redo (undoRedoContext, model) {\n  const undoRedoContextReference = undoRedoContext\n  if (undoRedoContextReference.currentPosition < undoRedoContextReference.stack.length - 1) {\n    undoRedoContextReference.currentPosition += 1\n    UndoRedoContext.updateUndoRedoState(undoRedoContext)\n    logger.debug('redo index', undoRedoContextReference.currentPosition)\n  }\n  return getModel(undoRedoContext, true, Constants.EventType.CHANGED, Constants.EventType.EXPORTED)\n}\n","import { drawModel } from './CanvasRenderer'\nimport * as InkModel from '../../model/InkModel'\n\nfunction createCanvas (borderCoordinates, margin = 10) {\n  // eslint-disable-next-line no-undef\n  const browserDocument = document\n  const canvas = browserDocument.createElement('canvas')\n  canvas.width = Math.abs(borderCoordinates.maxX - borderCoordinates.minX) + (2 * margin)\n  canvas.style.width = `${canvas.width}px`\n  canvas.height = Math.abs(borderCoordinates.maxY - borderCoordinates.minY) + (2 * margin)\n  canvas.style.height = `${canvas.height}px`\n  return canvas\n}\n\n/**\n * Generate a PNG image data url from the model\n * @param {Model} model Current model\n * @param {Stroker} stroker Current stroker\n * @param {Number} [margin=10] Margins to apply around the image\n * @return {String} Image data string result\n */\nexport function getImage (model, stroker, margin = 10) {\n  if (model.rawStrokes.length > 0) {\n    const borderCoordinates = InkModel.getBorderCoordinates(model)\n\n    const capturingCanvas = createCanvas(borderCoordinates, margin)\n    const renderingCanvas = createCanvas(borderCoordinates, margin)\n    const renderStructure = {\n      renderingCanvas,\n      renderingCanvasContext: renderingCanvas.getContext('2d'),\n      capturingCanvas,\n      capturingCanvasContext: capturingCanvas.getContext('2d')\n    }\n    // Change canvas origin\n    renderStructure.renderingCanvasContext.translate(-borderCoordinates.minX + margin, -borderCoordinates.minY + margin)\n    drawModel(renderStructure, model, stroker)\n    return renderStructure.renderingCanvas.toDataURL('image/png')\n  }\n  return null\n}\n","/* eslint-disable no-undef */\nimport { editorLogger as logger } from '../configuration/LoggerConfig'\nimport * as InkModel from '../model/InkModel'\n\n/**\n * Function to copy past to inject ink during tutorial.\n * @param editorParam\n * @param strokes\n * @param delayBetweenStrokes\n * @param lastOneDelay\n */\nexport function inkImporter (editorParam, strokes, delayBetweenStrokes, lastOneDelay) {\n  const editor = editorParam\n  logger.debug('inkImporter start importing =>', strokes)\n  const origGrabber = Object.assign({}, editor.behavior.grabber)\n  origGrabber.detach = editor.behavior.grabber.detach\n  editor.behavior.grabber = {}\n  const actions = []\n  strokes.forEach((stroke) => {\n    if (stroke.convert) {\n      actions.push({ action: 'convert', value: true })\n    } else if (stroke.setDelay) {\n      actions.push({ action: 'setDelay', value: stroke.setDelay })\n    } else {\n      if (stroke.color) {\n        actions.push({ action: 'setColor', value: stroke.color })\n      }\n      stroke.X.forEach((x, idx) => {\n        let action = 'move'\n        if (idx === 0) {\n          action = 'down'\n        } else if (idx === (stroke.X.length - 1)) {\n          action = 'up'\n        }\n        actions.push({ action, point: { x: stroke.X[idx], y: stroke.Y[idx] } })\n      })\n    }\n  })\n  logger.debug('Array of actions =>', actions)\n  const play = (actionsArray, position, delay) => {\n    if (position < actionsArray.length) {\n      const currentAction = actionsArray[position]\n      let nextDelay = delay\n      if (currentAction.action === 'convert') {\n        editor.convert()\n      } else if (currentAction.action === 'setDelay') {\n        nextDelay = currentAction.value\n      } else if (currentAction.action === 'setColor') {\n        editor.penStyle = {\n          color: currentAction.value\n        }\n      } else {\n        currentAction.point.t = new Date().getTime()\n        if (currentAction.action === 'down') {\n          editor.pointerDown(currentAction.point)\n        } else if (currentAction.action === 'up') {\n          editor.pointerUp(currentAction.point)\n        } else if (currentAction.action === 'move') {\n          editor.pointerMove(currentAction.point)\n        }\n      } if (lastOneDelay && position === actionsArray.map(x => x.action).lastIndexOf('down') - 1) {\n        setTimeout(() => {\n          play(actionsArray, position + 1, nextDelay)\n        }, lastOneDelay)\n      } else if (position === actionsArray.length - 1) {\n        const event = new Event('drawEnded')\n        document.dispatchEvent(event)\n        editor.behavior.grabber = origGrabber\n      } else {\n        setTimeout(() => {\n          play(actionsArray, position + 1, nextDelay)\n        }, nextDelay)\n      }\n    }\n  }\n  play(actions, 0, delayBetweenStrokes)\n}\n\nexport function importStrokeGroups (editorParam, strokeGroups) {\n  strokeGroups.forEach((group) => {\n    group.strokes.forEach((strokeFromGroup) => {\n      InkModel.addStroke(editorParam.model, strokeFromGroup)\n      InkModel.addStrokeToGroup(editorParam.model, strokeFromGroup, group.penStyle)\n    })\n  })\n  editorParam.renderer.drawModel(editorParam.rendererContext, editorParam.model, editorParam.stroker)\n}\n","/**\n * @typedef {Object} DestructuredPromise\n * @property {Promise} promise\n * @property {function} resolve\n * @property {function} reject\n */\n\n/**\n * destructurePromise\n * @returns {{resolve: *, reject: *, promise: Promise<unknown>}}\n */\nexport function destructurePromise () {\n  let resolveParam\n  let rejectParam\n  const initPromise = new Promise(\n    (resolve, reject) => {\n      resolveParam = resolve\n      rejectParam = reject\n    })\n  return { promise: initPromise, resolve: resolveParam, reject: rejectParam }\n}\n\n/**\n * @param time\n * @return {{timer: *, promise: Promise}}\n */\nexport function delay (time) {\n  let timer = null\n  const promise = new Promise((resolve) => {\n    timer = setTimeout(resolve, time)\n  })\n  return {\n    promise,\n    timer\n  }\n}\n","/* eslint-disable no-underscore-dangle */\nimport style from './iink.css'\nimport { editorLogger as logger } from './configuration/LoggerConfig'\nimport * as DefaultBehaviors from './configuration/DefaultBehaviors'\nimport * as DefaultConfiguration from './configuration/DefaultConfiguration'\nimport * as DefaultStyles from './configuration/DefaultPenStyle'\nimport * as DefaultTheme from './configuration/DefaultTheme'\nimport * as InkModel from './model/InkModel'\nimport * as UndoRedoContext from './model/UndoRedoContext'\nimport * as UndoRedoManager from './model/UndoRedoManager'\nimport * as ImageRenderer from './renderer/canvas/ImageRenderer'\nimport * as RecognizerContext from './model/RecognizerContext'\nimport * as SmartGuide from './smartguide/SmartGuide'\nimport Constants from './configuration/Constants'\nimport * as eastereggs from './eastereggs/InkImporter'\nimport {\n  handleError,\n  handleSuccess,\n  emitEvents,\n  manageRecognizedModel\n} from './recognizer/RecognizerService'\nimport * as PromiseHelper from './util/PromiseHelper'\n\n/**\n * Check if a clear is required, and does it if it is\n * @param {Editor} editor\n * @param {Model} model Current model\n * @return {Promise<*>}\n */\nfunction manageResetState (editor, model) {\n  // If strokes moved in the undo redo stack then a clear is mandatory before sending strokes.\n  if (editor.recognizer.reset && RecognizerContext.isResetRequired(editor.recognizerContext, model)) {\n    return editor.recognizer.reset(editor.recognizerContext, model)\n  }\n  return null\n}\n\n/**\n * Check if the trigger in parameter is valid.\n * @param {Editor} editor\n * @param {String} type\n * @param {String} [trigger]\n * @return {Boolean}\n */\nfunction isTriggerValid (editor, type, trigger = editor.configuration.triggers[type]) {\n  if (editor.recognizer &&\n    editor.recognizer.getInfo().availableTriggers[type].includes(trigger)) {\n    return true\n  }\n  logger.error(`${trigger} is not a valid trigger for ${type}`)\n  return false\n}\n\n/**\n * Launch the recognition with all editor relative configuration and state.\n * @param {Editor} editor\n * @param {Model} model\n * @param {String} [trigger]\n * @return {Promise}\n */\nasync function addStrokes (editor, model, trigger = editor.configuration.triggers.addStrokes) {\n  if (editor.recognizer && editor.recognizer.addStrokes) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      // Firing addStrokes only if recognizer is configure to do it\n      if (isTriggerValid(editor, 'addStrokes', trigger)) {\n        const res = await manageResetState(editor, model)\n        if (res) {\n          return editor.recognizer.addStrokes(editor.recognizerContext, res)\n        }\n        return editor.recognizer.addStrokes(editor.recognizerContext, model)\n      }\n    }\n  }\n  return Promise.reject(new Error('Cannot addStrokes'))\n}\n\n/**\n * Launch ink import.\n * @param {Editor} editor\n * @param {Model} model\n * @param {PointerEvents} events\n * @return {Promise<*>}\n */\nasync function launchPointerEvents (editor, model, events) {\n  if (editor.recognizer && editor.recognizer.pointerEvents) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      return editor.recognizer.pointerEvents(editor.recognizerContext, model, events)\n    }\n  }\n  return Promise.reject(new Error('Cannot launch pointerEvents'))\n}\n\n/**\n * Launch the recognition with all editor relative configuration and state.\n * @param {Editor} editor\n * @param {Model} model\n * @param {String} [requestedMimeTypes]\n * @param {String} [trigger]\n */\nexport async function launchExport (editor, model, requestedMimeTypes, trigger = editor.configuration.triggers.exportContent) {\n  if (editor.recognizer && editor.recognizer.export_) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      if (isTriggerValid(editor, 'exportContent', trigger)) {\n        const editorRef = editor\n        window.clearTimeout(editor.exportTimer)\n        const timeout = trigger === Constants.Trigger.QUIET_PERIOD ? editor.configuration.triggerDelay : 0\n        const delayer = PromiseHelper.delay(timeout)\n        editorRef.exportTimer = delayer.timer\n        await delayer.promise\n        const res = await manageResetState(editor, model)\n        if (res) {\n          return editor.recognizer.export_(editor.recognizerContext, res, requestedMimeTypes)\n        }\n        return editor.recognizer.export_(editor.recognizerContext, model, requestedMimeTypes)\n      }\n    }\n  }\n  return Promise.reject(new Error('Cannot launch export'))\n}\n\n/**\n * Launch the import.\n * @param {Editor} editor\n * @param {Model} model\n * @param {Blob} data\n * @return {Promise<*>}\n */\nasync function launchImport (editor, model, data) {\n  if (editor.recognizer && editor.recognizer.import_) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      return editor.recognizer.import_(editor.recognizerContext, model, data)\n    }\n  }\n  return Promise.reject(new Error('Cannot launch import'))\n}\n\n/**\n * Get the supported mimetypes for import.\n * @param {Editor} editor\n * @param {Model} model\n * @return {Promise<*>}\n */\nasync function launchGetSupportedImportMimeTypes (editor, model) {\n  if (editor.recognizer && editor.recognizer.getSupportedImportMimeTypes) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      return editor.recognizer.getSupportedImportMimeTypes(editor.recognizerContext, model)\n    }\n  }\n  return Promise.reject(new Error('Cannot launch getSupportedImportMimeTypes'))\n}\n\n/**\n * Launch the convert with all editor relative configuration and state.\n * @param {Editor} editor\n * @param {Model} model\n * @param {String} conversionState\n * @return {Promise<*>}\n */\nasync function launchConvert (editor, model, conversionState) {\n  if (editor.recognizer && editor.recognizer.convert) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      return editor.recognizer.convert(editor.recognizerContext, model, conversionState)\n    }\n  }\n  return Promise.reject(new Error('Cannot launch convert'))\n}\n\n/**\n * Launch the configuration for the editor\n * @param {Editor} editor\n * @param {Model} model\n * @return {Promise<*>}\n */\nasync function launchConfig (editor, model) {\n  if (editor.recognizer && editor.recognizer.sendConfiguration) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      return editor.recognizer.sendConfiguration(editor.recognizerContext, model)\n    }\n  }\n  return Promise.reject(new Error('Cannot launch config'))\n}\n\n/**\n * Launch the resize.\n * @param {Editor} editor\n * @param {Model} model\n */\nasync function launchResize (editor, model) {\n  if (editor.recognizer && editor.recognizer.resize) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      const editorRef = editor\n      window.clearTimeout(editor.resizeTimer)\n      const delayer = PromiseHelper.delay(editor.configuration.resizeTriggerDelay)\n      editorRef.resizeTimer = delayer.timer\n      SmartGuide.resize(editor.smartGuide)\n      await delayer.promise\n      return editor.recognizer.resize(editor.recognizerContext, model, editor.domElement)\n    }\n  }\n  return Promise.reject(new Error('Cannot launch resize'))\n}\n\n/**\n * Launch wait for idle\n * @param {Editor} editor\n * @param {Model} model\n * @return {Promise<*>}\n */\nasync function launchWaitForIdle (editor, model) {\n  if (editor.recognizer && editor.recognizer.waitForIdle) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      return editor.recognizer.waitForIdle(editor.recognizerContext, model)\n    }\n  }\n  return Promise.reject(new Error('Cannot launch wait for idle'))\n}\n\n/**\n * Launch websocket close\n * @param {Editor} editor\n * @param {Model} model\n * @return {Promise<*>}\n */\nasync function launchClose (editor, model) {\n  if (editor.recognizer && editor.recognizer.close) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      return editor.recognizer.close(editor.recognizerContext, model)\n    }\n  }\n  return Promise.reject(new Error('Cannot launch close'))\n}\n\n/**\n * Set pen style.\n * @param {Editor} editor\n * @param {Model} model\n * @return {Promise<*>}\n */\nasync function setPenStyle (editor, model) {\n  if (editor.recognizer && editor.recognizer.setPenStyle) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      return editor.recognizer.setPenStyle(editor.recognizerContext, model, editor.penStyle)\n    }\n  }\n  return Promise.reject(new Error('Cannot set pentStyle'))\n}\n\n/**\n * Set pen style.\n * @param {Editor} editor\n * @param {Model} model\n * @return {Promise<*>}\n */\nasync function setPenStyleClasses (editor, model) {\n  if (editor.recognizer && editor.recognizer.setPenStyleClasses) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      return editor.recognizer.setPenStyleClasses(editor.recognizerContext, model, editor.penStyleClasses)\n    }\n  }\n  return Promise.reject(new Error('Cannot set penStyleClasses'))\n}\n\n/**\n * Set theme.\n * @param {Editor} editor\n * @param {Model} model\n * @return {Promise<*>}\n */\nasync function setTheme (editor, model) {\n  if (editor.recognizer && editor.recognizer.setTheme) {\n    const init = await editor.recognizerContext.initPromise\n    if (init) {\n      return editor.recognizer.setTheme(editor.recognizerContext, model, editor.theme)\n    }\n  }\n  return Promise.reject(new Error('Cannot set theme'))\n}\n\n/**\n * Editor\n */\nexport class Editor {\n  /**\n   * @param {Element} element DOM element to attach this editor\n   * @param {Configuration} [configuration] Configuration to apply\n   * @param {Theme} [theme] Custom theme to apply\n   * @param {PenStyle} [penStyle] Custom style to apply\n   * @param {Behaviors} [behaviors] Custom behaviors to apply\n   */\n  constructor (element, configuration, penStyle, theme, behaviors) {\n    const styleElement = document.createElement('style')\n    styleElement.appendChild(document.createTextNode(''))\n    element.appendChild(styleElement)\n\n    const sheet = styleElement.sheet\n    styleElement.textContent = style\n\n    this.sheet = sheet\n    /**\n     * Inner reference to the DOM Element\n     * @type {Element}\n     */\n    this.domElement = element\n    this.domElement.classList.add('ms-editor')\n\n    // eslint-disable-next-line no-undef\n    this.loader = document.createElement('div')\n    this.loader.classList.add('loader')\n    this.loader = this.domElement.appendChild(this.loader)\n\n    // eslint-disable-next-line no-undef\n    this.error = document.createElement('div')\n    this.error.classList.add('error-msg')\n    this.error = this.domElement.appendChild(this.error)\n\n    /**\n     * Launch export timer\n     * @type {Number}\n     */\n    this.exportTimer = undefined\n\n    /**\n     * Launch resize timer\n     * @type {Number}\n     */\n    this.resizeTimer = undefined\n\n    /**\n     * Notify delay timer\n     * @type {Number}\n     */\n    this.notifyTimer = undefined\n\n    /**\n     * @private\n     * @type {Behaviors}\n     */\n    this.innerBehaviors = DefaultBehaviors.overrideDefaultBehaviors(behaviors)\n    this.configuration = configuration\n    this.smartGuide = SmartGuide.createSmartGuide(this)\n\n    /**\n     * Pen color used only for pending stroke\n     * @type {string}\n     */\n    this.localTheme = ''\n\n    this.theme = theme\n    this.penStyle = penStyle\n    this.penStyleClasses = ''\n\n    this.domElement.editor = this\n  }\n\n  /**\n   * Set the recognition parameters\n   * WARNING : Need to fire a clear if user have already input some strokes.\n   * @param {Configuration} configuration\n   */\n  set configuration (configuration) {\n    this.loader.style.display = 'initial'\n    this.error.style.display = 'none'\n    /**\n     * @private\n     * @type {Configuration}\n     */\n    this.innerConfiguration = DefaultConfiguration.overrideDefaultConfiguration(configuration)\n    this.setThemeForFont(this.innerConfiguration.recognitionParams.iink.lang)\n    this.behavior = this.behaviors.getBehaviorFromConfiguration(this.behaviors, this.innerConfiguration)\n  }\n\n  /**\n   * Get the current recognition parameters\n   * @return {Configuration}\n   */\n  get configuration () {\n    return this.innerConfiguration\n  }\n\n  /**\n   * Set the pen style\n   * @param {PenStyle} penStyle\n   */\n  set penStyle (penStyle) {\n    /**\n     * @private\n     * @type {PenStyle}\n     */\n    this.innerPenStyle = DefaultStyles.overrideDefaultPenStyle(penStyle)\n    this.localPenStyle = this.innerPenStyle\n    setPenStyle(this, this.model)\n  }\n\n  /**\n   * Get the pen style\n   * @return {PenStyle}\n   */\n  get penStyle () {\n    return this.innerPenStyle\n  }\n\n  /**\n   * Set the pen style\n   * @param {String} penStyleClasses\n   */\n  set penStyleClasses (penStyleClasses) {\n    /**\n     * @private\n     * @type {String}\n     */\n    this.innerPenStyleClasses = penStyleClasses\n    this.localPenStyle = this.theme[`.${this.innerPenStyleClasses}`]\n    setPenStyleClasses(this, this.model)\n  }\n\n  /**\n   * Get the pen style\n   * @return {String}\n   */\n  get penStyleClasses () {\n    return this.innerPenStyleClasses\n  }\n\n  /**\n   * Set the theme\n   * @param {Theme} theme\n   */\n  set theme (theme) {\n    /**\n     * @private\n     * @type {Theme}\n     */\n    this.innerTheme = DefaultTheme.overrideDefaultTheme(theme)\n    setTheme(this, this.model)\n      .then(res => console.log(res))\n      .catch(err => console.error(err))\n  }\n\n  /**\n   * Get the theme\n   * @return {Theme}\n   */\n  get theme () {\n    return this.innerTheme\n  }\n\n  /**\n   * Get behaviors\n   * @return {Behaviors}\n   */\n  get behaviors () {\n    return this.innerBehaviors\n  }\n\n  /**\n   * @private\n   * @param {Behavior} behavior\n   */\n  set behavior (behavior) {\n    if (behavior) {\n      if (this.grabber) { // Remove event handlers to avoid multiplication (detach grabber)\n        this.grabber.detach(this.domElement, this.grabberContext)\n      }\n      /**\n       * @private\n       * @type {Behavior}\n       */\n      this.innerBehavior = behavior\n      this.renderer = this.innerBehavior.renderer\n      this.recognizer = this.innerBehavior.recognizer\n      /**\n       * Current grabber context\n       * @type {GrabberContext}\n       */\n      this.grabberContext = this.grabber.attach(this.domElement, this)\n    }\n  }\n\n  /**\n   * Get current behavior\n   * @return {Behavior}\n   */\n  get behavior () {\n    return this.innerBehavior\n  }\n\n  /**\n   * Set the current recognizer\n   * @private\n   * @param {Recognizer} recognizer\n   */\n  set recognizer (recognizer) {\n    this.undoRedoContext = UndoRedoContext.createUndoRedoContext(this.configuration)\n    this.undoRedoManager = UndoRedoManager\n\n    const initialize = (model) => {\n      /**\n       * @private\n       * @type {Recognizer}\n       */\n      this.innerRecognizer = recognizer\n      if (this.innerRecognizer) {\n        /**\n         * Current recognition context\n         * @type {RecognizerContext}\n         */\n        this.recognizerContext = RecognizerContext.createEmptyRecognizerContext(this)\n        // FIXME: merge undo/redo manager with default recognizer\n        if (this.innerRecognizer.undo && this.innerRecognizer.redo && this.innerRecognizer.clear) {\n          this.undoRedoContext = this.recognizerContext\n          this.undoRedoManager = this.innerRecognizer\n        }\n\n        this.innerRecognizer.init(this.recognizerContext, model)\n          .then((values) => {\n            logger.info('Recognizer initialized !')\n            this.loader.style.display = 'none'\n          })\n          .catch(err => handleError(this, err))\n      }\n    }\n\n    if (recognizer) {\n      if (this.innerRecognizer) {\n        this.innerRecognizer.close(this.recognizerContext, this.model)\n          .then((model) => {\n            logger.info('Recognizer closed')\n            handleSuccess(this, model)\n            initialize(InkModel.clearModel(model))\n          })\n          .catch(err => handleError(this, err))\n      } else {\n        /**\n         * Current model\n         * @type {Model}\n         */\n        this.model = InkModel.createModel(this.configuration)\n\n        // INFO: Recognizer needs model to be initialized\n        initialize(this.model)\n      }\n    }\n  }\n\n  /**\n   * Get current recognizer\n   * @return {Recognizer}\n   */\n  get recognizer () {\n    return this.innerRecognizer\n  }\n\n  /**\n   * Set the current renderer\n   * @private\n   * @param {Renderer} renderer\n   */\n  set renderer (renderer) {\n    if (renderer) {\n      if (this.innerRenderer) {\n        this.innerRenderer.detach(this.domElement, this.rendererContext)\n      }\n\n      /**\n       * @private\n       * @type {Renderer}\n       */\n      this.innerRenderer = renderer\n      if (this.innerRenderer) {\n        /**\n         * Current rendering context\n         * @type {Object}\n         */\n        this.rendererContext = this.innerRenderer.attach(this.domElement, this.configuration.renderingParams.minHeight, this.configuration.renderingParams.minWidth)\n      }\n    }\n  }\n\n  /**\n   * Get current renderer\n   * @return {Renderer}\n   */\n  get renderer () {\n    return this.innerRenderer\n  }\n\n  /**\n   * Get current grabber\n   * @return {Grabber}\n   */\n  get grabber () {\n    return this.behavior ? this.behavior.grabber : undefined\n  }\n\n  /**\n   * Get current stroker\n   * @return {Stroker}\n   */\n  get stroker () {\n    return this.behavior ? this.behavior.stroker : undefined\n  }\n\n  /**\n   * Get current events\n   * @return {Array}\n   */\n  get emit () {\n    return this.behavior ? this.behavior.events : undefined\n  }\n\n  /**\n   * Get a PNG image data url from the data model\n   * @return {String}\n   */\n  get png () {\n    return ImageRenderer.getImage(this.model, this.stroker)\n  }\n\n  /**\n   * True if initialized, false otherwise\n   * @return {Boolean}\n   */\n  get initialized () {\n    return this.recognizerContext ? this.recognizerContext.initialized : false\n  }\n\n  /**\n   * Handle a pointer down\n   * @param {{x: Number, y: Number, t: Number}} point Captured point coordinates\n   * @param {String} [pointerType=mouse] Current pointer type\n   * @param {String} [pointerId] Current pointer id\n   */\n  pointerDown (point, pointerType = 'pen', pointerId) {\n    logger.trace('Pointer down', point)\n    window.clearTimeout(this.notifyTimer)\n    window.clearTimeout(this.exportTimer)\n    this.model = InkModel.initPendingStroke(this.model, point, Object.assign({ pointerType, pointerId }, this.theme.ink, this.localPenStyle))\n    this.renderer.drawCurrentStroke(this.rendererContext, this.model, this.stroker)\n    // Currently no recognition on pointer down\n  }\n\n  /**\n   * Handle a pointer move\n   * @param {{x: Number, y: Number, t: Number}} point Captured point coordinates\n   */\n  pointerMove (point) {\n    logger.trace('Pointer move', point)\n    this.model = InkModel.appendToPendingStroke(this.model, point)\n    this.renderer.drawCurrentStroke(this.rendererContext, this.model, this.stroker)\n    // Currently no recognition on pointer move\n  }\n\n  /**\n   * Handle a pointer up\n   * @param {{x: Number, y: Number, t: Number}} point Captured point coordinates\n   */\n  pointerUp (point) {\n    logger.trace('Pointer up', point)\n    this.model = InkModel.endPendingStroke(this.model, point, this.penStyle)\n    this.renderer.drawModel(this.rendererContext, this.model, this.stroker)\n\n    if (this.recognizer.addStrokes) {\n      addStrokes(this, this.model)\n    } else {\n      // Push model in undo redo manager\n      handleSuccess(this, this.model)\n    }\n  }\n\n  removeStroke (stroke) {\n    this.model.strokeGroups.forEach((group) => {\n      const stringStrokes = group.strokes.map(strokeFromGroup => JSON.stringify(strokeFromGroup))\n      const strokeIndex = stringStrokes.indexOf(JSON.stringify(stroke))\n      if (strokeIndex !== -1) {\n        group.strokes.splice(strokeIndex, 1)\n      }\n    })\n    const stringRawStrokes = this.model.rawStrokes.map(strokes => JSON.stringify(strokes))\n    const strokeIndex = stringRawStrokes.indexOf(JSON.stringify(stroke))\n    if (strokeIndex !== -1) {\n      this.model.rawStrokes.splice(strokeIndex, 1)\n    }\n    this.renderer.drawModel(this.rendererContext, this.model, this.stroker)\n    handleSuccess(this, this.model)\n    if (!(this.configuration.triggers.exportContent === 'DEMAND')) {\n      launchExport(this, this.model)\n    }\n  }\n\n  /**\n   * @Deprecated\n   * @param rawStrokes\n   * @param strokeGroups\n   */\n  reDraw (rawStrokes, strokeGroups) {\n    rawStrokes.forEach((stroke) => {\n      InkModel.addStroke(this.model, stroke)\n    })\n    strokeGroups.forEach((group) => {\n      group.strokes.forEach((strokeFromGroup) => {\n        InkModel.addStrokeToGroup(this.model, strokeFromGroup, group.penStyle)\n      })\n    })\n    this.renderer.drawModel(this.rendererContext, this.model, this.stroker)\n    handleSuccess(this, this.model)\n  }\n\n  /**\n   * True if idle state\n   * @return {Boolean}\n   */\n  get idle () {\n    return this.recognizerContext.idle\n  }\n\n  /**\n   * Wait for idle state.\n   * @return {Promise<*>}\n   */\n  waitForIdle () {\n    emitEvents(this, undefined, Constants.EventType.IDLE)\n    return launchWaitForIdle(this, this.model)\n  }\n\n  /**\n   * True if can undo, false otherwise.\n   * @return {Boolean}\n   */\n  get canUndo () {\n    return this.undoRedoContext.canUndo\n  }\n\n  /**\n   * Undo the last action.\n   * @return {Promise<*>}\n   */\n  async undo () {\n    logger.debug('Undo current model', this.model)\n    emitEvents(this, undefined, Constants.EventType.UNDO)\n    const { res, types } = await this.undoRedoManager.undo(this.undoRedoContext, this.model)\n      .catch(err => handleError(this, err))\n    manageRecognizedModel(this, res, ...types)\n    return res\n  }\n\n  /**\n   * True if can redo, false otherwise.\n   * @return {Boolean}\n   */\n  get canRedo () {\n    return this.undoRedoContext.canRedo\n  }\n\n  /**\n   * Redo the last action.\n   * @return {Promise<*>}\n   */\n  async redo () {\n    logger.debug('Redo current model', this.model)\n    emitEvents(this, undefined, Constants.EventType.REDO)\n    const { res, types } = await this.undoRedoManager.redo(this.undoRedoContext, this.model)\n      .catch(err => handleError(this, err))\n    manageRecognizedModel(this, res, ...types)\n    return res\n  }\n\n  /**\n   * True if empty, false otherwise\n   * @return {boolean}\n   */\n  get isEmpty () {\n    return this.recognizerContext.isEmpty\n  }\n\n  /**\n   * True if can clear, false otherwise.\n   * @return {Boolean}\n   */\n  get canClear () {\n    return !this.isEmpty\n  }\n\n  /**\n   * Clear the output and the recognition result.\n   * @return {Promise<*>}\n   */\n  async clear () {\n    if (this.canClear) {\n      logger.debug('Clear current model', this.model)\n      emitEvents(this, undefined, Constants.EventType.CLEAR)\n      const { res, events } = await this.recognizer.clear(this.recognizerContext, this.model)\n        .catch(error => handleError(this, error))\n      handleSuccess(this, res, ...events)\n      return res\n    }\n    return Promise.reject(new Error('Cannot launch clear'))\n  }\n\n  /**\n   * True if can convert, false otherwise.\n   * @return {Boolean}\n   */\n  get canConvert () {\n    return !!(this.canUndo && this.canClear && this.recognizer && this.recognizer.convert)\n  }\n\n  /**\n   * Convert the current content\n   * @param {string} conversionState\n   * @return {Promise<*>}\n   */\n  convert (conversionState = 'DIGITAL_EDIT') {\n    if (this.canConvert) {\n      emitEvents(this, undefined, Constants.EventType.CONVERT)\n      return launchConvert(this, this.model, conversionState)\n    }\n    return Promise.reject(new Error('Cannot launch convert'))\n  }\n\n  /**\n   * Set the guides for text\n   * @param {Boolean} [enable]\n   * @return {Promise<*|null>}\n   */\n  setGuides (enable = true) {\n    this.configuration.recognitionParams.iink.text.guides.enable = enable\n    return launchConfig(this, this.model)\n  }\n\n  /**\n   * Return the position of the cursor identifying the current state in the internal iink undo/redo stack.\n   * @returns {Number}\n   */\n  get possibleUndoCount () {\n    return this.recognizerContext.possibleUndoCount\n  }\n\n  /**\n   * The number of operations that it is currently possible to undo.\n   * @returns {Number}\n   */\n  get undoStackIndex () {\n    return this.recognizerContext.undoStackIndex\n  }\n\n  /**\n   * True if can export, false otherwise.\n   * @return {Boolean}\n   */\n  get canExport () {\n    return this.canUndo && this.canClear && this.recognizer && this.recognizer.getInfo().availableTriggers.exportContent.includes(Constants.Trigger.DEMAND)\n  }\n\n  /**\n   * Explicitly ask to perform an export. You have to listen to events to get the content as this function is non blocking and does not have a return type.\n   * @param {Array<String>} requestedMimeTypes Requested mime-types. Be sure to ask all the types required by the listeners of exported event.\n   */\n  export_ (requestedMimeTypes) {\n    if (this.canExport) {\n      emitEvents(this, undefined, Constants.EventType.EXPORT)\n      return launchExport(this, this.model, requestedMimeTypes, Constants.Trigger.DEMAND)\n    }\n    return Promise.reject(new Error('Cannot launch export'))\n  }\n\n  /**\n   * Import content.\n   * @param {Blob|*} data Data to import\n   * @param {String} [mimetype] Mimetype of the data, needed if data is not a Blob\n   */\n  import_ (data, mimetype) {\n    emitEvents(this, undefined, Constants.EventType.IMPORT)\n    return launchImport(this, this.model, !(data instanceof Blob) ? new Blob([data], { type: mimetype }) : data)\n  }\n\n  /**\n   * Get supported import mime types\n   * @return {Promise<*|null>}\n   */\n  getSupportedImportMimeTypes () {\n    return launchGetSupportedImportMimeTypes(this, this.model)\n  }\n\n  /**\n   * pointer events\n   * @param {PointerEvents} events\n   * @return {Promise<*|null>}\n   */\n  pointerEvents (events) {\n    return launchPointerEvents(this, this.model, events)\n  }\n\n  /**\n   * Get current state exports\n   * @return {Object}\n   */\n  get exports () {\n    return this.model ? this.model.exports : undefined\n  }\n\n  get supportedImportMimeTypes () {\n    return this.recognizerContext.supportedImportMimeTypes\n  }\n\n  /**\n   * Function to call when the dom element link to the current ink paper has been resize.\n   */\n  resize () {\n    logger.debug('Resizing editor')\n    this.renderer.resize(this.rendererContext, this.model, this.stroker, this.configuration.renderingParams.minHeight, this.configuration.renderingParams.minWidth)\n    return launchResize(this, this.model)\n  }\n\n  /**\n   * Set the theme (font family, font size and line height) depending on the language\n   * @param lang\n   */\n  setThemeForFont (lang) {\n    const defaultLang = !Object.keys(Constants.Languages).includes(lang)\n    const armenian = lang === 'hy_AM'\n    const fontFamily = defaultLang || armenian ? Constants.Languages.default : Constants.Languages[lang]\n    const lineHeight = defaultLang || armenian ? '1.2' : '1.8'\n    this.theme = {\n      '.text': {\n        'font-family': fontFamily,\n        'line-height': lineHeight\n      }\n    }\n  }\n\n  /**\n   * Detach event listeners from the DOM element created at editor creation.\n   */\n  unload () {\n    if (this.grabber) { // Remove event handlers to avoid multiplication (detach grabber)\n      this.grabber.detach(this.domElement, this.grabberContext)\n    }\n    if (this.innerRenderer) {\n      this.innerRenderer.detach(this.domElement, this.rendererContext)\n    }\n  }\n\n  /**\n   * Close websocket connection\n   * @return {Promise<*>}\n   */\n  close () {\n    if (this.configuration.recognitionParams.protocol === Constants.Protocol.WEBSOCKET) {\n      return launchClose(this, this.model)\n    }\n    return null\n  }\n\n  /**\n   * Trigger the change callbacks (and by default send a change event).\n   */\n  forceChange () {\n    emitEvents(this, undefined, Constants.EventType.CHANGED)\n  }\n\n  /* eslint-disable class-methods-use-this */\n  /**\n   * Get access to some easter egg features link ink injection. Use at your own risk (less tested and may be removed without notice).\n   */\n  get eastereggs () {\n    return eastereggs\n  }\n  /* eslint-enable class-methods-use-this */\n}\n","import { editorLogger as logger } from './LoggerConfig'\nimport * as PointerEventGrabber from '../grabber/PointerEventGrabber'\nimport * as CanvasRenderer from '../renderer/canvas/CanvasRenderer'\nimport * as QuadraticCanvasStroker from '../renderer/canvas/stroker/QuadraticCanvasStroker'\nimport * as SVGRenderer from '../renderer/svg/SVGRenderer'\nimport * as QuadraticSVGStroker from '../renderer/svg/stroker/QuadraticSVGStroker'\nimport * as iinkRestRecognizer from '../recognizer/rest/iinkRestRecognizer'\nimport * as iinkWsRecognizer from '../recognizer/websocket/iinkWsRecognizer'\nimport emit from '../event/Event'\n\n/**\n * Current behavior\n * @typedef {Object} Behavior\n * @property {Grabber} grabber Grabber to capture strokes\n * @property {Stroker} stroker Stroker to draw stroke\n * @property {Renderer} renderer Renderer to draw on the editor\n * @property {Recognizer} recognizer Recognizer to call the recognition service\n * @property {Array} events Functions to handle model changes\n */\n\n/**\n * Set of behaviors to be used by the {@link Editor}\n * @typedef {Object} Behaviors\n * @property {Grabber} grabber Grabber to capture strokes\n * @property {Array<Stroker>} strokerList List of stroker to draw stroke\n * @property {Array<Renderer>} rendererList List of renderer to draw on the editor\n * @property {Array<Recognizer>} recognizerList Recognizers to call the recognition service\n * @property {function} getBehaviorFromConfiguration Get the current behavior to use regarding the current configuration\n * @property {Array} events Functions to handle model changes\n */\n\n/**\n * Default behaviors\n * @type {Behaviors}\n */\nexport const defaultBehaviors = {\n  grabber: PointerEventGrabber,\n  strokerList: [QuadraticCanvasStroker, QuadraticSVGStroker],\n  rendererList: [CanvasRenderer, SVGRenderer],\n  recognizerList: [iinkRestRecognizer, iinkWsRecognizer],\n  events: emit,\n  getBehaviorFromConfiguration: (behaviors, configuration) => {\n    const behavior = {}\n    behavior.grabber = behaviors.grabber\n    if (configuration) {\n      if (configuration.recognitionParams.protocol === 'REST') {\n        behavior.stroker = QuadraticCanvasStroker\n        behavior.renderer = CanvasRenderer\n        behavior.recognizer = iinkRestRecognizer\n      } else {\n        behavior.stroker = QuadraticSVGStroker\n        behavior.renderer = SVGRenderer\n        behavior.recognizer = iinkWsRecognizer\n      }\n    }\n    behavior.events = behaviors.events\n    return behavior\n  }\n}\n\n/**\n * Generate behaviors\n * @param {Behaviors} behaviors Behaviors to be used\n * @return {Behaviors} Overridden behaviors\n */\nexport function overrideDefaultBehaviors (behaviors) {\n  if (behaviors) {\n    const currentBehaviors = {\n      grabber: behaviors.grabber || defaultBehaviors.grabber,\n      rendererList: behaviors.rendererList || defaultBehaviors.rendererList,\n      strokerList: behaviors.strokerList || defaultBehaviors.strokerList,\n      recognizerList: behaviors.recognizerList || defaultBehaviors.recognizerList,\n      events: behaviors.events || defaultBehaviors.events,\n      getBehaviorFromConfiguration: behaviors.getBehaviorFromConfiguration || defaultBehaviors.getBehaviorFromConfiguration\n    }\n    logger.debug('Override default behaviors', currentBehaviors)\n    return currentBehaviors\n  }\n  return defaultBehaviors\n}\n\nexport default defaultBehaviors\n","import Constants from '../configuration/Constants'\nimport { recognizerLogger as logger } from '../configuration/LoggerConfig'\nimport * as InkModel from '../model/InkModel'\nimport * as SmartGuide from '../smartguide/SmartGuide'\nimport * as RecognizerContext from '../model/RecognizerContext'\nimport { launchExport } from '../Editor'\n\n/**\n * Emit events\n * @param {Editor} editor\n * @param {Object} data\n * @param {...String} types\n * @return {Model}\n */\nexport function emitEvents (editor, data, ...types) {\n  const editorRef = editor\n  types.forEach((type) => {\n    switch (type) {\n      case Constants.EventType.RENDERED:\n        break // Internal use only\n      case Constants.EventType.UNDO:\n      case Constants.EventType.REDO:\n      case Constants.EventType.CLEAR:\n      case Constants.EventType.CONVERT:\n      case Constants.EventType.EXPORT:\n        editor.emit.call(editor.domElement, type)\n        break\n      case Constants.EventType.LOADED:\n      case Constants.EventType.CHANGED:\n        editor.emit.call(editor.domElement, type, {\n          initialized: editor.initialized,\n          canUndo: editor.canUndo,\n          canRedo: editor.canRedo,\n          canClear: editor.canClear,\n          isEmpty: editor.isEmpty,\n          possibleUndoCount: editor.possibleUndoCount,\n          undoStackIndex: editor.undoStackIndex,\n          canConvert: editor.canConvert,\n          canExport: editor.canExport\n        })\n        break\n      case Constants.EventType.EXPORTED:\n        window.clearTimeout(editorRef.notifyTimer)\n        editorRef.notifyTimer = window.setTimeout(() => {\n          editor.emit.call(editor.domElement, type, {\n            exports: editor.exports\n          })\n        }, editorRef.configuration.processDelay)\n        break\n      case Constants.EventType.SUPPORTED_IMPORT_MIMETYPES:\n        editor.emit.call(editor.domElement, type, {\n          mimeTypes: editor.supportedImportMimeTypes\n        })\n        break\n      case Constants.EventType.ERROR:\n        editor.emit.call(editor.domElement, type, data)\n        break\n      case Constants.EventType.IDLE:\n        editor.emit.call(editor.domElement, type, {\n          idle: editor.idle\n        })\n        break\n      default:\n        logger.debug(`No valid trigger configured for ${type}`)\n        break\n    }\n  })\n}\n\n/**\n * Manage recognized model\n * @param {Editor} editor\n * @param {Model} model\n * @param {...String} types\n */\nexport function manageRecognizedModel (editor, model, ...types) {\n  const editorRef = editor\n  const modelRef = model\n  logger.debug(`model changed callback on ${types} event(s)`, model)\n  if (modelRef.creationTime === editor.model.creationTime) {\n    // Merge recognized model if relevant and return current editor model\n    if ((modelRef.rawStrokes.length === editor.model.rawStrokes.length) &&\n      (modelRef.lastPositions.lastSentPosition >= editor.model.lastPositions.lastReceivedPosition)) {\n      editorRef.model = InkModel.mergeModels(editorRef.model, modelRef)\n      if (InkModel.needRedraw(editorRef.model) || types.includes(Constants.EventType.RENDERED)) {\n        editor.renderer.drawModel(editor.rendererContext, editorRef.model, editor.stroker)\n      }\n    } else {\n      editorRef.model = modelRef\n      editor.renderer.drawModel(editor.rendererContext, editorRef.model, editor.stroker)\n    }\n    emitEvents(editor, undefined, ...types)\n  }\n\n  if (editor.configuration.recognitionParams.type === 'TEXT' &&\n    editor.configuration.recognitionParams.protocol !== 'REST' &&\n    editor.configuration.recognitionParams.iink.text.mimeTypes.includes(Constants.Exports.JIIX) &&\n    editor.configuration.recognitionParams.iink.text.smartGuide) {\n    // eslint-disable-next-line no-use-before-define\n    editorRef.smartGuide = SmartGuide.launchSmartGuide(editor.smartGuide, modelRef.exports)\n  }\n\n  if ((InkModel.extractPendingStrokes(model).length > 0) &&\n    (!editor.recognizer.addStrokes) && // FIXME: Ugly hack to avoid double export (addStrokes + export)\n    (editor.configuration.triggers.exportContent !== Constants.Trigger.DEMAND)) {\n    launchExport(editor, model)\n  }\n}\n\n/**\n * Method called when server respond with an error\n * Use in catch on Promises\n * @param {Editor} editor\n * @param {Object} err\n * @param {...String} events\n */\nexport function handleError (editor, err, ...events) {\n  const editorRef = editor\n  if (err.type !== 'close') {\n    logger.error('Error while firing the recognition', err.stack || err) // Handle any error from all above steps\n  }\n  if (\n    // IInk error managment before refactor\n    (err.message === 'Invalid application key.') || (err.message === 'Invalid HMAC') ||\n    // CDK error managment\n    (err.error &&\n      err.error.result &&\n      err.error.result.error &&\n      (err.error.result.error === 'InvalidApplicationKeyException' || err.error.result.error === 'InvalidHMACSignatureException')) ||\n    // IInk error managment after refactor\n    (err.code && err.code === 'access.not.granted')) {\n    editorRef.error.innerText = Constants.Error.WRONG_CREDENTIALS\n  } else if (err.message === 'Session is too old. Max Session Duration Reached.' ||\n    (err.code && err.code === 'session.too.old')) {\n    editorRef.error.innerText = Constants.Error.TOO_OLD\n  } else if ((err.code === 1006 || err.code === 1000) && editorRef.error.style.display === 'none') {\n    editorRef.error.innerText = Constants.Error.NOT_REACHABLE\n  }\n  if ((editorRef.error.innerText === Constants.Error.TOO_OLD || err.reason === 'CLOSE_RECOGNIZER') && RecognizerContext.canReconnect(editor.recognizerContext)) {\n    logger.info('Reconnection is available', err.stack || err)\n    editorRef.error.style.display = 'none'\n  } else {\n    editorRef.loader.style.display = 'none'\n    editorRef.error.style.display = 'initial'\n    emitEvents(editor, err, Constants.EventType.ERROR, ...events)\n  }\n}\n\n/**\n * Method called when server respond correctly to request or WS\n * Use in then on Promises\n * @param {Editor} editor\n * @param {Object} model\n * @param {...String} events\n */\nexport function handleSuccess (editor, model, ...events) {\n  const editorRef = editor\n  if (editor.undoRedoManager.updateModel) {\n    editor.undoRedoManager.updateModel(editor.undoRedoContext, model)\n      .then(({ res, types }) => {\n        manageRecognizedModel(editorRef, res, ...[...events, ...types].filter((el, i, a) => i === a.indexOf(el)))\n      })\n  } else {\n    if (editorRef.error.style.display === 'initial') {\n      editorRef.error.style.display = 'none'\n    }\n    manageRecognizedModel(editorRef, model, ...events)\n  }\n}\n","import { recognizerLogger as logger } from '../configuration/LoggerConfig'\nimport * as InkModel from '../model/InkModel'\nimport * as RecognizerContext from '../model/RecognizerContext'\nimport Constants from '../configuration/Constants'\nimport { handleSuccess } from './RecognizerService'\n\n/**\n * Triggers\n * @typedef {Object} Triggers\n * @property {Array<String>} exportContent Supported triggers for exporting content.\n * @property {Array<String>} [addStrokes] Supported triggers for adding strokes.\n */\n\n/**\n * Recognizer info\n * @typedef {Object} RecognizerInfo\n * @property {Array<String>} types Supported recognition types (TEXT, MATH, SHAPE, MUSIC, ANALYZER).\n * @property {String} protocol Supported protocol (REST, WEBSOCKET).\n * @property {String} apiVersion Supported API version.\n * @property {Triggers} availableTriggers Supported triggers for this recognizer.\n */\n\n/**\n * Recognizer callback\n * @typedef {function} RecognizerCallback\n * @param {Object} [err] Error\n * @param {Model} [model] Result\n * @param {...String} [types] Result types\n */\n\n/**\n * Simple callback\n * @typedef {function} Callback\n * @param {Object} [err] Error\n * @param {Object} [res] Result\n */\n\n/**\n * Recognition service entry point\n * @typedef {Object} Recognizer\n * @property {function} getInfo Get information about the supported configuration (protocol, type, apiVersion, ...).\n * @property {function} init Initialize recognition.\n * @property {function} clear Clear server context. Currently nothing to do there.\n * @property {function} close Close and free all resources that will no longer be used by the recognizer.\n * @property {function} [undo] Undo Undo the last done action.\n * @property {function} [redo] Redo Redo the previously undone action.\n * @property {function} [resize] Resize.\n * @property {function} [pointerEvents] Pointer Events.\n * @property {function} [addStrokes] Add strokes.\n * @property {function} [export_] Export content.\n * @property {function} [import_] Import content.\n * @property {function} [convert] Convert.\n * @property {function} [waitForIdle] Wait for idle.\n * @property {function} [setPenStyle] Set pen style.\n * @property {function} [setPenStyleClasses] Set pen style classes.\n * @property {function} [setTheme] Set theme.\n */\n\n/**\n * Initialize recognition\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {Model} model Current model\n * @return {Promise}\n */\nexport function init (recognizerContext, model) {\n  const modelRef = InkModel.resetModelPositions(model)\n  logger.debug('Updated model', modelRef)\n  const recognizerContextRef = RecognizerContext.updateRecognitionPositions(recognizerContext, modelRef.lastPositions)\n  recognizerContextRef.initPromise = Promise.resolve(modelRef)\n  return recognizerContextRef.initPromise\n    .then((res) => {\n      recognizerContextRef.initialized = true\n      logger.debug('Updated recognizer context', recognizerContextRef)\n      handleSuccess(recognizerContextRef.editor, res, Constants.EventType.LOADED)\n      return res\n    })\n}\n\n/**\n * Reset server context. Currently nothing to do there.\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {Model} model Current model\n * @return {Promise}\n */\nexport function reset (recognizerContext, model) {\n  const modelRef = InkModel.resetModelPositions(model)\n  logger.debug('Updated model', modelRef)\n  const recognizerContextRef = RecognizerContext.updateRecognitionPositions(recognizerContext, modelRef.lastPositions)\n  delete recognizerContextRef.instanceId\n  logger.debug('Updated recognizer context', recognizerContextRef)\n  return Promise.resolve({\n    res: modelRef\n  })\n}\n\n/**\n * Clear server context. Currently nothing to do there.\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {Model} model Current model\n * @return {Promise}\n */\nexport function clear (recognizerContext, model) {\n  const modelRef = InkModel.clearModel(model)\n  logger.debug('Updated model', modelRef)\n  const recognizerContextRef = RecognizerContext.updateRecognitionPositions(recognizerContext, modelRef.lastPositions)\n  delete recognizerContextRef.instanceId\n  logger.debug('Updated recognizer context', recognizerContextRef)\n  return Promise.resolve({\n    err: undefined,\n    res: modelRef,\n    events: [Constants.EventType.CHANGED, Constants.EventType.EXPORTED, Constants.EventType.RENDERED]\n  })\n}\n\n/**\n * Close and free all resources that will no longer be used by the recognizer.\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {Model} model Current model\n * @return {Promise}\n */\nexport function close (recognizerContext, model) {\n  const recognizerContextRef = recognizerContext\n  recognizerContextRef.initialized = false\n  delete recognizerContextRef.instanceId\n  return Promise.resolve(model)\n}\n","/* eslint-disable no-underscore-dangle */\nimport * as NetworkInterface from './networkInterface'\nimport * as RecognizerContext from '../../model/RecognizerContext'\nimport { recognizerLogger as logger } from '../../configuration/LoggerConfig'\nimport Constants from '../../configuration/Constants'\nimport * as InkModel from '../../model/InkModel'\nimport * as StrokeComponent from '../../model/StrokeComponent'\nimport * as DefaultTheme from '../../configuration/DefaultTheme'\nimport * as DefaultPenStyle from '../../configuration/DefaultPenStyle'\nimport { handleError, handleSuccess } from '../RecognizerService'\n\nexport { init, close, clear, reset } from '../DefaultRecognizer'\n\n/**\n * Recognizer configuration\n * @type {RecognizerInfo}\n */\nexport const iinkRestConfiguration = {\n  types: [Constants.RecognitionType.TEXT, Constants.RecognitionType.DIAGRAM, Constants.RecognitionType.MATH, Constants.RecognitionType.RAWCONTENT],\n  protocol: Constants.Protocol.REST,\n  availableTriggers: {\n    exportContent: [\n      Constants.Trigger.QUIET_PERIOD,\n      Constants.Trigger.DEMAND\n    ]\n  }\n}\n\n/**\n * Get the configuration supported by this recognizer\n * @return {RecognizerInfo}\n */\nexport function getInfo () {\n  return iinkRestConfiguration\n}\n\n/**\n * @param {String} suffixUrl\n * @param {RecognizerContext} recognizerContext\n * @param {Model} model\n * @param {function} buildMessage\n * @param {String} conversionState\n * @param {String} mimeType\n * @return {Promise.<Model>} Promise that return an updated model as a result\n */\nexport function postMessage (suffixUrl, recognizerContext, model, buildMessage, conversionState = '', mimeType) {\n  const configuration = recognizerContext.editor.configuration\n  return NetworkInterface.post(recognizerContext, `${configuration.recognitionParams.server.scheme}://${configuration.recognitionParams.server.host}${suffixUrl}`, buildMessage(recognizerContext, model, conversionState), 'V4', mimeType)\n    .then((response) => {\n      logger.debug('iinkRestRecognizer success', response)\n      const positions = recognizerContext.lastPositions\n      positions.lastReceivedPosition = positions.lastSentPosition\n      const recognizerContextReference = RecognizerContext.updateRecognitionPositions(recognizerContext, positions)\n      if (response.instanceId) {\n        recognizerContextReference.instanceId = response.instanceId\n      }\n      return response\n    })\n}\n\nfunction buildTextConf (configuration) {\n  return {\n    text: configuration.recognitionParams.iink.text,\n    lang: configuration.recognitionParams.iink.lang,\n    export: configuration.recognitionParams.iink.export\n  }\n}\n\nfunction buildMathConf (configuration) {\n  return {\n    math: configuration.recognitionParams.iink.math,\n    lang: configuration.recognitionParams.iink.lang,\n    export: configuration.recognitionParams.iink.export\n  }\n}\n\nfunction buildDiagramConf (configuration) {\n  return {\n    diagram: configuration.recognitionParams.iink.diagram,\n    lang: configuration.recognitionParams.iink.lang,\n    export: configuration.recognitionParams.iink.export\n  }\n}\n\nfunction buildRawContentConf (configuration) {\n  return {\n    'raw-content': {\n      recognition: configuration.recognitionParams.iink['raw-content'].recognition\n    },\n    lang: configuration.recognitionParams.iink.lang,\n    export: configuration.recognitionParams.iink.export\n  }\n}\n\nfunction buildData (recognizerContext, model, conversionState) {\n  const configuration = recognizerContext.editor.configuration\n  let dataConf\n\n  if (configuration.recognitionParams.type === 'TEXT') {\n    dataConf = buildTextConf(configuration)\n  } else if (configuration.recognitionParams.type === 'MATH') {\n    dataConf = buildMathConf(configuration)\n  } else if (configuration.recognitionParams.type === 'DIAGRAM') {\n    dataConf = buildDiagramConf(configuration)\n  } else if (configuration.recognitionParams.type === 'Raw Content') {\n    dataConf = buildRawContentConf(configuration)\n  }\n\n  const newStrokes = []\n  model.strokeGroups.forEach((group) => {\n    const newPenStyle = JSON.stringify(group.penStyle) === '{}' ? null : DefaultPenStyle.toCSS(group.penStyle)\n    const newGroup = {\n      penStyle: newPenStyle,\n      strokes: group.strokes.map(stroke => StrokeComponent.toJSON(stroke))\n    }\n    newStrokes.push(newGroup)\n  })\n\n  const contentType = configuration.recognitionParams.type === 'Raw Content' ? 'Raw Content' : configuration.recognitionParams.type.charAt(0)\n    .toUpperCase() + configuration.recognitionParams.type.slice(1)\n    .toLowerCase()\n\n  const data = {\n    configuration: dataConf,\n    xDPI: 96,\n    yDPI: 96,\n    contentType,\n    theme: DefaultTheme.toCSS(recognizerContext.editor.theme),\n    strokeGroups: newStrokes\n  }\n\n  if (recognizerContext.editor.domElement) {\n    data.height = recognizerContext.editor.domElement.clientHeight\n    data.width = recognizerContext.editor.domElement.clientWidth\n  }\n\n  if (conversionState) {\n    data.conversionState = 'DIGITAL_EDIT'\n  }\n\n  InkModel.updateModelSentPosition(model)\n  return data\n}\n\nfunction extractExports (configuration, mimeType, res) {\n  const exports = {}\n  exports[mimeType] = res\n  return exports\n}\n\nfunction resultCallback (recognizerContext, model, configuration, res, mimeType) {\n  logger.debug('iinkRestRecognizer result callback', model)\n  const modelReference = InkModel.updateModelReceivedPosition(model)\n  modelReference.rawResults.exports = res\n  if (modelReference.exports) {\n    Object.assign(modelReference.exports, extractExports(configuration, mimeType, res))\n  } else {\n    modelReference.exports = extractExports(configuration, mimeType, res)\n  }\n  logger.debug('iinkRestRecognizer model updated', modelReference)\n\n  if (recognizerContext.editor.undoRedoManager) {\n    handleSuccess(recognizerContext.editor, modelReference, Constants.EventType.EXPORTED, Constants.EventType.IDLE)\n  }\n}\n\n/**\n * Export content\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {Model} model Current model\n * @param {Array} requestedMimeTypes\n */\nexport function export_ (recognizerContext, model, requestedMimeTypes) {\n  const configuration = recognizerContext.editor.configuration\n\n  function callPostMessage (mimeType) {\n    return postMessage('/api/v4.0/iink/batch', recognizerContext, model, buildData, configuration.restConversionState, mimeType)\n      .then((res) => {\n        resultCallback(recognizerContext, model, configuration, res, mimeType)\n        return model\n      })\n      .catch((err) => {\n        handleError(recognizerContext.editor, err)\n        return err\n      })\n  }\n\n  if (requestedMimeTypes) {\n    return Promise.all(requestedMimeTypes.map(mimeType => callPostMessage(mimeType)))\n  } else if (configuration.recognitionParams.type === 'TEXT') {\n    return Promise.all(configuration.recognitionParams.iink.text.mimeTypes.map(mimeType => callPostMessage(mimeType)))\n  } else if (configuration.recognitionParams.type === 'DIAGRAM') {\n    return Promise.all(configuration.recognitionParams.iink.diagram.mimeTypes.map(mimeType => callPostMessage(mimeType)))\n  } else if (configuration.recognitionParams.type === 'MATH') {\n    return Promise.all(configuration.recognitionParams.iink.math.mimeTypes.map(mimeType => callPostMessage(mimeType)))\n  } else if (configuration.recognitionParams.type === 'Raw Content') {\n    return Promise.all(configuration.recognitionParams.iink['raw-content'].mimeTypes.map(mimeType => callPostMessage(mimeType)))\n  }\n  return Promise.reject(new Error('Export failed'))\n}\n\n/**\n * Ask for conversion using DIGITAL_EDIT\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {Model} model Current model\n */\nexport function convert (recognizerContext, model) {\n  const configuration = recognizerContext.editor.configuration\n  postMessage('/api/v4.0/iink/batch', recognizerContext, model, buildData, 'DIGITAL_EDIT')\n    .then(res => resultCallback(model, configuration, res))\n    .catch(err => handleError(recognizerContext.editor, err))\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","/*\n * UUID-js: A js library to generate and parse UUIDs, TimeUUIDs and generate\n * TimeUUID based on dates for range selections.\n * @see http://www.ietf.org/rfc/rfc4122.txt\n **/\n\nfunction UUIDjs() {\n};\n\nUUIDjs.maxFromBits = function(bits) {\n  return Math.pow(2, bits);\n};\n\nUUIDjs.limitUI04 = UUIDjs.maxFromBits(4);\nUUIDjs.limitUI06 = UUIDjs.maxFromBits(6);\nUUIDjs.limitUI08 = UUIDjs.maxFromBits(8);\nUUIDjs.limitUI12 = UUIDjs.maxFromBits(12);\nUUIDjs.limitUI14 = UUIDjs.maxFromBits(14);\nUUIDjs.limitUI16 = UUIDjs.maxFromBits(16);\nUUIDjs.limitUI32 = UUIDjs.maxFromBits(32);\nUUIDjs.limitUI40 = UUIDjs.maxFromBits(40);\nUUIDjs.limitUI48 = UUIDjs.maxFromBits(48);\n\n// Returns a random integer between min and max\n// Using Math.round() will give you a non-uniform distribution!\n// @see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Math/random\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nUUIDjs.randomUI04 = function() {\n  return getRandomInt(0, UUIDjs.limitUI04-1);\n};\nUUIDjs.randomUI06 = function() {\n  return getRandomInt(0, UUIDjs.limitUI06-1);\n};\nUUIDjs.randomUI08 = function() {\n  return getRandomInt(0, UUIDjs.limitUI08-1);\n};\nUUIDjs.randomUI12 = function() {\n  return getRandomInt(0, UUIDjs.limitUI12-1);\n};\nUUIDjs.randomUI14 = function() {\n  return getRandomInt(0, UUIDjs.limitUI14-1);\n};\nUUIDjs.randomUI16 = function() {\n  return getRandomInt(0, UUIDjs.limitUI16-1);\n};\nUUIDjs.randomUI32 = function() {\n  return getRandomInt(0, UUIDjs.limitUI32-1);\n};\nUUIDjs.randomUI40 = function() {\n  return (0 | Math.random() * (1 << 30)) + (0 | Math.random() * (1 << 40 - 30)) * (1 << 30);\n};\nUUIDjs.randomUI48 = function() {\n  return (0 | Math.random() * (1 << 30)) + (0 | Math.random() * (1 << 48 - 30)) * (1 << 30);\n};\n\nUUIDjs.paddedString = function(string, length, z) {\n  string = String(string);\n  z = (!z) ? '0' : z;\n  var i = length - string.length;\n  for (; i > 0; i >>>= 1, z += z) {\n    if (i & 1) {\n      string = z + string;\n    }\n  }\n  return string;\n};\n\nUUIDjs.prototype.fromParts = function(timeLow, timeMid, timeHiAndVersion, clockSeqHiAndReserved, clockSeqLow, node) {\n  this.version = (timeHiAndVersion >> 12) & 0xF;\n  this.hex = UUIDjs.paddedString(timeLow.toString(16), 8)\n             + '-'\n             + UUIDjs.paddedString(timeMid.toString(16), 4)\n             + '-'\n             + UUIDjs.paddedString(timeHiAndVersion.toString(16), 4)\n             + '-'\n             + UUIDjs.paddedString(clockSeqHiAndReserved.toString(16), 2)\n             + UUIDjs.paddedString(clockSeqLow.toString(16), 2)\n             + '-'\n             + UUIDjs.paddedString(node.toString(16), 12);\n  return this;\n};\n\nUUIDjs.prototype.toString = function() {\n  return this.hex;\n};\nUUIDjs.prototype.toURN = function() {\n  return 'urn:uuid:' + this.hex;\n};\n\nUUIDjs.prototype.toBytes = function() {\n  var parts = this.hex.split('-');\n  var ints = [];\n  var intPos = 0;\n  for (var i = 0; i < parts.length; i++) {\n    for (var j = 0; j < parts[i].length; j+=2) {\n      ints[intPos++] = parseInt(parts[i].substr(j, 2), 16);\n    }\n  }\n  return ints;\n};\n\nUUIDjs.prototype.equals = function(uuid) {\n  if (!(uuid instanceof UUID)) {\n    return false;\n  }\n  if (this.hex !== uuid.hex) {\n    return false;\n  }\n  return true;\n};\n\nUUIDjs.getTimeFieldValues = function(time) {\n  var ts = time - Date.UTC(1582, 9, 15);\n  var hm = ((ts / 0x100000000) * 10000) & 0xFFFFFFF;\n  return { low: ((ts & 0xFFFFFFF) * 10000) % 0x100000000,\n            mid: hm & 0xFFFF, hi: hm >>> 16, timestamp: ts };\n};\n\nUUIDjs._create4 = function() {\n  return new UUIDjs().fromParts(\n    UUIDjs.randomUI32(),\n    UUIDjs.randomUI16(),\n    0x4000 | UUIDjs.randomUI12(),\n    0x80   | UUIDjs.randomUI06(),\n    UUIDjs.randomUI08(),\n    UUIDjs.randomUI48()\n  );\n};\n\nUUIDjs._create1 = function() {\n  var now = new Date().getTime();\n  var sequence = UUIDjs.randomUI14();\n  var node = (UUIDjs.randomUI08() | 1) * 0x10000000000 + UUIDjs.randomUI40();\n  var tick = UUIDjs.randomUI04();\n  var timestamp = 0;\n  var timestampRatio = 1/4;\n\n  if (now != timestamp) {\n    if (now < timestamp) {\n      sequence++;\n    }\n    timestamp = now;\n    tick = UUIDjs.randomUI04();\n  } else if (Math.random() < timestampRatio && tick < 9984) {\n    tick += 1 + UUIDjs.randomUI04();\n  } else {\n    sequence++;\n  }\n\n  var tf = UUIDjs.getTimeFieldValues(timestamp);\n  var tl = tf.low + tick;\n  var thav = (tf.hi & 0xFFF) | 0x1000;\n\n  sequence &= 0x3FFF;\n  var cshar = (sequence >>> 8) | 0x80;\n  var csl = sequence & 0xFF;\n\n  return new UUIDjs().fromParts(tl, tf.mid, thav, cshar, csl, node);\n};\n\nUUIDjs.create = function(version) {\n  version = version || 4;\n  return this['_create' + version]();\n};\n\nUUIDjs.fromTime = function(time, last) {\n  last = (!last) ? false : last;\n  var tf = UUIDjs.getTimeFieldValues(time);\n  var tl = tf.low;\n  var thav = (tf.hi & 0xFFF) | 0x1000;  // set version '0001'\n  if (last === false) {\n    return new UUIDjs().fromParts(tl, tf.mid, thav, 0, 0, 0);\n  } else {\n    return new UUIDjs().fromParts(tl, tf.mid, thav, 0x80 | UUIDjs.limitUI06, UUIDjs.limitUI08 - 1, UUIDjs.limitUI48 - 1);\n  }\n};\n\nUUIDjs.firstFromTime = function(time) {\n  return UUIDjs.fromTime(time, false);\n};\nUUIDjs.lastFromTime = function(time) {\n  return UUIDjs.fromTime(time, true);\n};\n\nUUIDjs.fromURN = function(strId) {\n  var r, p = /^(?:urn:uuid:|\\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\\})?$/i;\n  if ((r = p.exec(strId))) {\n    return new UUIDjs().fromParts(parseInt(r[1], 16), parseInt(r[2], 16),\n                            parseInt(r[3], 16), parseInt(r[4], 16),\n                            parseInt(r[5], 16), parseInt(r[6], 16));\n  }\n  return null;\n};\n\nUUIDjs.fromBytes = function(ints) {\n  if (ints.length < 5) {\n    return null;\n  }\n  var str = '';\n  var pos = 0;\n  var parts = [4, 2, 2, 2, 6];\n  for (var i = 0; i < parts.length; i++) {\n    for (var j = 0; j < parts[i]; j++) {\n      var octet = ints[pos++].toString(16);\n      if (octet.length == 1) {\n        octet = '0' + octet;\n      }\n      str += octet;\n    }\n    if (parts[i] !== 6) {\n      str += '-';\n    }\n  }\n  return UUIDjs.fromURN(str);\n};\n\nUUIDjs.fromBinary = function(binary) {\n  var ints = [];\n  for (var i = 0; i < binary.length; i++) {\n    ints[i] = binary.charCodeAt(i);\n    if (ints[i] > 255 || ints[i] < 0) {\n      throw new Error('Unexpected byte in binary data.');\n    }\n  }\n  return UUIDjs.fromBytes(ints);\n};\n\n// Aliases to support legacy code. Do not use these when writing new code as\n// they may be removed in future versions!\nUUIDjs.new = function() {\n  return this.create(4);\n};\nUUIDjs.newTS = function() {\n  return this.create(1);\n};\n\nmodule.exports = UUIDjs;\n","import { recognizerLogger as logger } from '../../configuration/LoggerConfig'\nimport * as RecognizerContext from '../../model/RecognizerContext'\n\nfunction infinitePing (websocket) {\n  const websocketRef = websocket\n  websocketRef.pingLostCount++\n  if (websocketRef.pingLostCount > websocketRef.maxPingLost) {\n    websocket.close(1000, 'PING_LOST')\n  } else if (websocketRef.readyState <= 1) {\n    setTimeout(() => {\n      if (websocketRef.readyState <= 1) {\n        websocketRef.send(JSON.stringify({ type: 'ping' }))\n        infinitePing(websocketRef)\n      }\n    }, websocketRef.pingDelay)\n  }\n}\n\n/**\n * Attach all socket attributes helping managing server connexion\n * @param {WebSocket} websocket Current WebSocket\n * @param {RecognizerContext} recognizerContext\n */\nfunction addWebsocketAttributes (websocket, recognizerContext) {\n  const websocketConfiguration = recognizerContext.editor.configuration.recognitionParams.server.websocket\n  const socket = websocket\n  socket.start = new Date()\n  socket.autoReconnect = websocketConfiguration.autoReconnect\n  socket.maxRetryCount = websocketConfiguration.maxRetryCount\n  socket.pingEnabled = websocketConfiguration.pingEnabled\n  socket.pingDelay = websocketConfiguration.pingDelay\n  socket.maxPingLost = websocketConfiguration.maxPingLostCount\n  socket.pingLostCount = 0\n  socket.recognizerContext = recognizerContext\n}\n\n/**\n * @param {RecognizerContext} recognizerContext Recognizer context\n * @return {WebSocket} Opened WebSocket\n */\nexport function openWebSocket (recognizerContext) {\n  let socket\n  try {\n    // eslint-disable-next-line no-undef\n    socket = new WebSocket(recognizerContext.url)\n  } catch (error) {\n    logger.error('Unable to open websocket, Check the host and your connectivity')\n  }\n  addWebsocketAttributes(socket, recognizerContext)\n  if (socket.pingEnabled) {\n    infinitePing(socket)\n  }\n\n  socket.onopen = (e) => {\n    logger.trace('onOpen')\n    recognizerContext.websocketCallback(e)\n  }\n\n  socket.onclose = (e) => {\n    logger.trace('onClose', new Date() - socket.start)\n    recognizerContext.websocketCallback(e)\n  }\n\n  socket.onerror = (e) => {\n    logger.trace('onError')\n    recognizerContext.websocketCallback(e)\n  }\n\n  socket.onmessage = (e) => {\n    logger.trace('onMessage')\n    socket.pingLostCount = 0\n    const parsedMessage = JSON.parse(e.data)\n    if (parsedMessage.type !== 'pong') {\n      const callBackParam = {\n        type: e.type,\n        data: JSON.parse(e.data)\n      }\n      recognizerContext.websocketCallback(callBackParam)\n    }\n  }\n\n  return socket\n}\n\n/**\n * Send data message\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {Object} message Data message\n */\nexport function send (recognizerContext, message) {\n  const recognizerContextRef = recognizerContext\n  recognizerContextRef.idle = false\n\n  const websocket = recognizerContextRef.websocket\n  if (websocket.readyState === 1) {\n    websocket.send(JSON.stringify(message))\n    logger.debug(`${message.type} message sent`, message)\n  } else {\n    throw RecognizerContext.LOST_CONNEXION_MESSAGE\n  }\n}\n\n/**\n * Close the websocket\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {Number} code Exit code\n * @param {String} reason Exit reason\n */\nexport function close (recognizerContext, code, reason) {\n  const websocket = recognizerContext.websocket\n  if (websocket && websocket.readyState < 2) {\n    websocket.close(code, reason)\n  }\n}\n","import { recognizerLogger as logger } from '../../configuration/LoggerConfig'\nimport * as CryptoHelper from '../CryptoHelper'\nimport * as NetworkWSInterface from './networkWSInterface'\n\nimport {\n  buildNewContentPackageInput,\n  buildRestoreIInkSessionInput,\n  buildNewContentPart,\n  buildOpenContentPart,\n  buildConfiguration,\n  buildSetTheme,\n  buildSetPenStyle,\n  buildSetPenStyleClasses\n} from './iinkWsRecognizer'\n\n/**\n * A websocket dialog have this sequence :\n * ---------- Client ------------------------------------- Server ----------------------------------\n * init (send the new content package) ================>\n *                                       <=========== hmacChallenge\n * answerToHmacChallenge (send the hmac) =========>\n * newPart (send the parameters ) ===============>\n *                                       <=========== update\n * addStrokes (send the strokes ) ============>\n *                                       <=========== update\n */\n\nfunction buildHmacMessage (configuration, message) {\n  return {\n    type: 'hmac',\n    hmac: CryptoHelper.computeHmac(message.data.hmacChallenge, configuration.recognitionParams.server.applicationKey, configuration.recognitionParams.server.hmacKey)\n  }\n}\n\n/**\n * This function bind the right behaviour when a message is receive by the websocket.\n * @param {DestructuredPromise} destructuredPromise\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @return {function} Callback to handle WebSocket results\n */\nexport function buildWebSocketCallback (recognizerContext) {\n  return (message) => {\n    const recognizerContextRef = recognizerContext\n    // Handle websocket messages\n    logger.trace(`${message.type} websocket callback`, message)\n    const recognitionContext = recognizerContext.recognitionContexts[recognizerContext.recognitionContexts.length - 1]\n    logger.debug('Current recognition context', recognitionContext)\n\n    switch (message.type) {\n      case 'open':\n        if (recognizerContext.sessionId) {\n          NetworkWSInterface.send(recognizerContext, buildRestoreIInkSessionInput(recognizerContext.editor.configuration, recognizerContext.editor.domElement, recognizerContext.sessionId))\n        } else {\n          NetworkWSInterface.send(recognizerContext, buildNewContentPackageInput(recognizerContext.editor.configuration, recognizerContext.editor.domElement))\n        }\n        break\n      case 'message':\n        logger.debug(`Receiving ${message.data.type} message`, message)\n        switch (message.data.type) {\n          case 'ack':\n            if (message.data.hmacChallenge) {\n              NetworkWSInterface.send(recognizerContext, buildHmacMessage(recognizerContext.editor.configuration, message))\n            }\n            if (message.data.iinkSessionId) {\n              recognizerContextRef.sessionId = message.data.iinkSessionId\n            }\n            break\n          case 'newPart':\n            break\n          case 'contentPackageDescription':\n            recognizerContextRef.currentReconnectionCount = 0\n            recognizerContextRef.contentPartCount = message.data.contentPartCount\n            NetworkWSInterface.send(recognizerContext, buildConfiguration(recognizerContext.editor.configuration))\n            if (recognizerContextRef.currentPartId) { // FIXME: Ugly hack to resolve init promise after opening part\n              NetworkWSInterface.send(recognizerContext, buildOpenContentPart(recognizerContext.editor.configuration, recognizerContext.currentPartId))\n            } else {\n              NetworkWSInterface.send(recognizerContext, buildNewContentPart(recognizerContext.editor.configuration))\n            }\n            break\n          case 'partChanged':\n            if (message.data.partId) {\n              recognizerContextRef.currentPartId = message.data.partId\n            }\n            recognizerContextRef.initialized = true\n            NetworkWSInterface.send(recognizerContext, buildSetTheme(recognizerContext.editor.theme))\n            NetworkWSInterface.send(recognizerContext, buildSetPenStyle(recognizerContext.editor.penStyle))\n            NetworkWSInterface.send(recognizerContext, buildSetPenStyleClasses(recognizerContext.editor.penStyleClasses))\n            if (recognitionContext.partChange) {\n              recognitionContext.partChange.resolve([undefined, message.data])\n            } else {\n              recognitionContext.error(message)\n            }\n            break\n          case 'contentChanged':\n            if (message.data.canUndo !== undefined) {\n              recognizerContextRef.canUndo = message.data.canUndo\n            }\n            if (message.data.canRedo !== undefined) {\n              recognizerContextRef.canRedo = message.data.canRedo\n            }\n            if (message.data.empty !== undefined) {\n              recognizerContextRef.isEmpty = message.data.empty\n            }\n            if (message.data.possibleUndoCount !== undefined) {\n              recognizerContextRef.possibleUndoCount = message.data.possibleUndoCount\n            }\n            if (message.data.undoStackIndex !== undefined) {\n              recognizerContextRef.undoStackIndex = message.data.undoStackIndex\n            }\n            recognitionContext.contentChange.resolve([undefined, message.data])\n            break\n          case 'exported':\n            recognitionContext.response.resolve([undefined, message.data])\n            break\n          case 'svgPatch':\n            recognitionContext.patch(undefined, message.data)\n            break\n          case 'supportedImportMimeTypes':\n            recognizerContextRef.supportedImportMimeTypes = message.data.mimeTypes\n            recognitionContext.response.resolve([undefined, message.data])\n            break\n          case 'fileChunkAck':\n            recognitionContext.response.resolve([undefined, message.data])\n            break\n          case 'idle':\n            recognizerContextRef.idle = true\n            recognitionContext.patch(undefined, message.data)\n            break\n          case 'error':\n            logger.debug('Error detected stopping all recognition', message)\n            if (recognitionContext) {\n              let func = () => {}\n              if (recognitionContext.patch) {\n                func = recognitionContext.patch\n              } else if (recognitionContext.response) {\n                func = recognitionContext.response\n              }\n              func(message.data)\n            } else {\n              recognitionContext.initPromise.reject(Object.assign({}, message.data, { recoverable: false }))\n            }\n            break\n          default :\n            logger.warn('This is something unexpected in current recognizer. Not the type of message we should have here.', message)\n        }\n        break\n      case 'error':\n        logger.debug('Error detected stopping all recognition', message)\n        if (recognitionContext) {\n          let func = () => {}\n          if (recognitionContext.patch) {\n            func = recognitionContext.patch\n          } else if (recognitionContext.response) {\n            func = recognitionContext.response\n          }\n          func(Object.assign({}, message, { recoverable: false }))\n        } else {\n          recognitionContext.initPromise.reject(Object.assign({}, message, { recoverable: false }))\n        }\n        break\n      case 'close':\n        logger.debug('Close detected stopping all recognition', message)\n        recognizerContextRef.initialized = false\n        if (recognitionContext) {\n          recognitionContext.error(message)\n        } else {\n          recognitionContext.initPromise.reject(message)\n        }\n        break\n      default :\n        logger.warn('This is something unexpected in current recognizer. Not the type of message we should have here.', message)\n    }\n  }\n}\n","import { recognizerLogger as logger } from '../../configuration/LoggerConfig'\nimport * as NetworkWSInterface from './networkWSInterface'\nimport * as PromiseHelper from '../../util/PromiseHelper'\nimport * as InkModel from '../../model/InkModel'\nimport * as RecognizerContext from '../../model/RecognizerContext'\nimport { responseCallback } from './iinkWsRecognizer'\n\nfunction buildUrl (configuration, suffixUrl) {\n  const scheme = (configuration.recognitionParams.server.scheme === 'https') ? 'wss' : 'ws'\n  return `${scheme}://${configuration.recognitionParams.server.host}${suffixUrl}`\n}\n\n/**\n * Build websocket function\n * @typedef {function} BuildWebSocketFunction\n * @param {DestructuredPromise} destructuredPromise\n * @param {RecognizerContext} recognizerContext\n * @return {Callback}\n */\n\n/**\n * Init the websocket recognizer.\n * Open the connexion and proceed to the hmac challenge.\n * @param {String} suffixUrl\n * @param {RecognizerContext} recognizerContext\n * @param {BuildWebSocketFunction} buildWebSocketCallback\n * @param {function} reconnect\n * @return {Promise} Fulfilled when the init phase is over.\n */\nexport function init (suffixUrl, recognizerContext, buildWebSocketCallback, reconnect) {\n  const recognitionContext = recognizerContext.recognitionContexts[0]\n  const recognizerContextReference = RecognizerContext.updateRecognitionPositions(recognizerContext, recognitionContext.model.lastPositions)\n  recognizerContextReference.url = buildUrl(recognizerContext.editor.configuration, suffixUrl)\n  recognizerContextReference.reconnect = reconnect\n\n  recognizerContextReference.initPromise = recognitionContext.initPromise.promise\n\n  logger.debug('Opening the websocket for context ', recognizerContext)\n  recognizerContextReference.websocketCallback = buildWebSocketCallback(recognizerContextReference)\n  recognizerContextReference.websocket = NetworkWSInterface.openWebSocket(recognizerContextReference)\n  return recognizerContextReference.initPromise\n}\n\nexport async function retry (func, recognizerContext, model, buildFunc, ...params) {\n  if (RecognizerContext.shouldAttemptImmediateReconnect(recognizerContext) && recognizerContext.reconnect) {\n    logger.info('Attempting a retry', recognizerContext.currentReconnectionCount)\n    await recognizerContext.reconnect(recognizerContext, model)\n      .catch((err) => {\n        logger.error('Failed retry', err)\n        retry(func, recognizerContext, model, buildFunc, ...params)\n      })\n    return func(recognizerContext, model, buildFunc, ...params)\n  } else {\n    responseCallback(model, 'Unable to reconnect')\n  }\n}\n\n/**\n * @param {RecognizerContext} recognizerContext\n * @param {function} buildMessage\n * @param {...Object} params\n * @return {Promise}\n */\nexport function sendMessage (recognizerContext, buildMessage, ...params) {\n  return recognizerContext.initPromise\n    .then(() => {\n      logger.trace('Init was done. Sending message')\n      const message = buildMessage(...params)\n      if (message) {\n        NetworkWSInterface.send(recognizerContext, message)\n        const positions = recognizerContext.recognitionContexts[0].model.lastPositions\n        if (positions) {\n          RecognizerContext.updateRecognitionPositions(recognizerContext, positions)\n        }\n      } else {\n        logger.warn('empty message')\n      }\n    })\n}\n\n/**\n * Do what is needed to clean the server context.\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {Model} model Current model\n * @param {RecognizerCallback} callback\n */\nexport function clear (recognizerContext, model, callback) {\n  const modelRef = InkModel.clearModel(model)\n  const recognizerContextReference = RecognizerContext.updateRecognitionPositions(recognizerContext, modelRef.lastPositions)\n  if (recognizerContextReference && recognizerContextReference.websocket) {\n    // We have to send again all strokes after a clear.\n    delete recognizerContextReference.instanceId\n    try {\n      NetworkWSInterface.send(recognizerContextReference, { type: 'reset' })\n    } catch (sendFailedException) {\n      // To force failure without breaking the flow\n      // FIXME not working at all\n      recognizerContextReference.websocketCallback(PromiseHelper.destructurePromise(), recognizerContextReference, model)\n    }\n  }\n  // We do not keep track of the success of clear.\n  callback(undefined, modelRef)\n}\n\n/**\n * Close and free all resources that will no longer be used by the recognizer.\n * @param {RecognizerContext} recognizerContext\n * @param {Model} model\n */\nexport function close (recognizerContext, model) {\n  const initPromise = PromiseHelper.destructurePromise()\n  const recognizerContextRef = recognizerContext\n  const recognitionContext = {\n    model,\n    initPromise,\n    error: (err, res) => responseCallback(model, err, res, recognizerContextRef)\n  }\n\n  return recognizerContext.initPromise\n    .then(() => {\n      recognizerContextRef.recognitionContexts[0] = recognitionContext\n      return recognizerContextRef\n    })\n    .then((context) => {\n      NetworkWSInterface.close(context, 1000, RecognizerContext.CLOSE_RECOGNIZER_MESSAGE)\n      return recognitionContext.model\n    })\n}\n","import uuid from 'uuid-js'\nimport { recognizerLogger as logger } from '../../configuration/LoggerConfig'\nimport Constants from '../../configuration/Constants'\nimport * as DefaultTheme from '../../configuration/DefaultTheme'\nimport * as DefaultPenStyle from '../../configuration/DefaultPenStyle'\nimport * as InkModel from '../../model/InkModel'\nimport * as RecognizerContext from '../../model/RecognizerContext'\nimport * as DefaultRecognizer from '../DefaultRecognizer'\nimport * as WsBuilder from './WsBuilder'\nimport * as WsRecognizerUtil from './WsRecognizerUtil'\nimport * as PromiseHelper from '../../util/PromiseHelper'\nimport { handleError, handleSuccess } from '../RecognizerService'\n\nexport { close } from './WsRecognizerUtil'\n\nfunction readBlob (blob) {\n  const fileReader = new FileReader()\n  return new Promise((resolve, reject) => {\n    fileReader.onload = event => resolve(event.target.result)\n    fileReader.onerror = () => reject(new Error(this))\n    fileReader.readAsText(blob)\n  })\n}\n\nfunction getDPI (element) {\n  // const startDpi = 56;\n  // for (let dpi = startDpi; dpi < 2000; dpi++) {\n  //   if (window.matchMedia(`(max-resolution: ${dpi}dpi)`).matches === true) {\n  //     return dpi;\n  //   }\n  // }\n  // return startDpi;\n  return 96\n}\n\n/**\n * Recognizer configuration\n * @type {RecognizerInfo}\n */\nexport const IinkWsConfiguration = {\n  types: [Constants.RecognitionType.MATH, Constants.RecognitionType.TEXT, Constants.RecognitionType.DIAGRAM, Constants.RecognitionType.NEBO],\n  protocol: Constants.Protocol.WEBSOCKET,\n  availableTriggers: {\n    exportContent: [Constants.Trigger.POINTER_UP, Constants.Trigger.DEMAND],\n    addStrokes: [Constants.Trigger.POINTER_UP]\n  }\n}\n\n/**\n * Get the configuration supported by this recognizer\n * @return {RecognizerInfo}\n */\nexport function getInfo () {\n  return IinkWsConfiguration\n}\n\nexport function buildNewContentPackageInput (configuration, element) {\n  return {\n    type: 'newContentPackage',\n    applicationKey: configuration.recognitionParams.server.applicationKey,\n    xDpi: getDPI(element),\n    yDpi: getDPI(element),\n    viewSizeHeight: element.clientHeight < configuration.renderingParams.minHeight ? configuration.renderingParams.minHeight : element.clientHeight,\n    viewSizeWidth: element.clientWidth < configuration.renderingParams.minWidth ? configuration.renderingParams.minWidth : element.clientWidth\n  }\n}\n\nexport function buildRestoreIInkSessionInput (configuration, element, sessionId) {\n  return {\n    type: 'restoreIInkSession',\n    iinkSessionId: sessionId,\n    applicationKey: configuration.recognitionParams.server.applicationKey,\n    xDpi: getDPI(element),\n    yDpi: getDPI(element),\n    viewSizeHeight: element.clientHeight < configuration.renderingParams.minHeight ? configuration.renderingParams.minHeight : element.clientHeight,\n    viewSizeWidth: element.clientWidth < configuration.renderingParams.minWidth ? configuration.renderingParams.minWidth : element.clientWidth\n  }\n}\n\nexport function buildNewContentPart (configuration) {\n  return {\n    type: 'newContentPart',\n    contentType: configuration.recognitionParams.type,\n    mimeTypes: (configuration.triggers.exportContent !== Constants.Trigger.DEMAND)\n      ? configuration.recognitionParams.iink[`${configuration.recognitionParams.type.toLowerCase()}`].mimeTypes : undefined\n  }\n}\n\nexport function buildOpenContentPart (configuration, partId) {\n  return {\n    type: 'openContentPart',\n    id: partId,\n    mimeTypes: (configuration.triggers.exportContent !== Constants.Trigger.DEMAND)\n      ? configuration.recognitionParams.iink[`${configuration.recognitionParams.type.toLowerCase()}`].mimeTypes : undefined\n  }\n}\n\nexport function buildConfiguration (configuration) {\n  return Object.assign({ type: 'configuration' }, configuration.recognitionParams.iink)\n}\n\nfunction buildAddStrokes (recognizerContext, model) {\n  const strokes = InkModel.extractPendingStrokes(model, recognizerContext.lastPositions.lastSentPosition + 1)\n  if (strokes.length > 0) {\n    InkModel.updateModelSentPosition(model)\n    return {\n      type: 'addStrokes',\n      strokes: strokes.map(stroke => Object.assign({}, {\n        id: stroke.id,\n        pointerType: stroke.pointerType,\n        pointerId: stroke.pointerId,\n        x: stroke.x,\n        y: stroke.y,\n        t: stroke.t,\n        p: stroke.p\n      }))\n    }\n  }\n  return undefined\n}\n\nfunction buildUndo () {\n  return {\n    type: 'undo'\n  }\n}\n\nfunction buildRedo () {\n  return {\n    type: 'redo'\n  }\n}\n\nfunction buildClear () {\n  return {\n    type: 'clear'\n  }\n}\n\nfunction buildConvert (state) {\n  return {\n    type: 'convert',\n    conversionState: state\n  }\n}\n\nfunction buildZoom (value) {\n  return {\n    type: 'zoom',\n    zoom: value\n  }\n}\n\nfunction buildResize (element, minHeight = 0, minWidth = 0) {\n  return {\n    type: 'changeViewSize',\n    height: element.clientHeight < minHeight ? minHeight : element.clientHeight,\n    width: element.clientWidth < minWidth ? minWidth : element.clientWidth\n  }\n}\n\nfunction buildExport (configuration, partId, requestedMimeType) {\n  let usedMimeType\n  if (requestedMimeType && Object.keys(requestedMimeType).length !== 0) {\n    usedMimeType = requestedMimeType\n  } else {\n    usedMimeType = configuration.recognitionParams.iink[`${configuration.recognitionParams.type.toLowerCase()}`].mimeTypes\n  }\n\n  return {\n    type: 'export',\n    partId,\n    mimeTypes: usedMimeType\n  }\n}\n\nfunction buildImportFile (id, mimetype) {\n  return {\n    type: 'importFile',\n    importFileId: id,\n    mimeType: mimetype\n  }\n}\n\nfunction buildImportChunk (id, data, lastChunk) {\n  return {\n    type: 'fileChunk',\n    importFileId: id,\n    data,\n    lastChunk\n  }\n}\n\nfunction buildPointerEvents (events) {\n  return Object.assign({ type: 'pointerEvents' }, events)\n}\n\nfunction buildWaitForIdle () {\n  return {\n    type: 'waitForIdle'\n  }\n}\n\nfunction buildGetSupportedImportMimeTypes () {\n  return {\n    type: 'getSupportedImportMimeTypes'\n  }\n}\n\nexport function buildSetPenStyle (penStyle) {\n  return {\n    type: 'setPenStyle',\n    style: penStyle ? DefaultPenStyle.toCSS(penStyle) : ''\n  }\n}\n\nexport function buildSetPenStyleClasses (penStyleClasses) {\n  return {\n    type: 'setPenStyleClasses',\n    styleClasses: penStyleClasses\n  }\n}\n\nexport function buildSetTheme (theme) {\n  return {\n    type: 'setTheme',\n    theme: DefaultTheme.toCSS(theme)\n  }\n}\n\nexport const responseCallback = (model, err, res, recognizerContext) => {\n  const modelReference = InkModel.updateModelReceivedPosition(model)\n  if (res) {\n    let event = ''\n    if (res.updates !== undefined) {\n      if (modelReference.recognizedSymbols) {\n        modelReference.recognizedSymbols.push(res)\n      } else {\n        modelReference.recognizedSymbols = [res]\n      }\n      event = Constants.EventType.RENDERED\n    }\n    if (res.exports !== undefined) {\n      modelReference.rawResults.exports = res\n      modelReference.exports = res.exports\n      event = Constants.EventType.EXPORTED\n    }\n\n    if ((res.canUndo !== undefined) || (res.canRedo !== undefined)) {\n      event = Constants.EventType.CHANGED\n    }\n\n    if (res.type === 'supportedImportMimeTypes') {\n      event = Constants.EventType.SUPPORTED_IMPORT_MIMETYPES\n    }\n\n    if (res.type === 'partChanged') {\n      event = Constants.EventType.LOADED\n    }\n\n    if (res.type === 'idle') {\n      event = Constants.EventType.IDLE\n    }\n\n    if (res.type === 'close') {\n      event = Constants.EventType.CHANGED\n    }\n    return handleSuccess(recognizerContext.editor, model, event)\n  }\n  return handleError(recognizerContext.editor, err)\n}\n\n/**\n * Initialize recognition\n * The init process is in multiple part :\n * - partChange\n * - contentChange\n * - initPromise: resolved only if partChange & contentChange resolved except for MATH recognition\n *\n * @param {RecognizerContext} recognizerContext Current recognizer context\n * @param {Model} model Current model\n */\nexport async function init (recognizerContext, model) {\n  const contentChange = PromiseHelper.destructurePromise()\n  const partChange = PromiseHelper.destructurePromise()\n  const response = PromiseHelper.destructurePromise()\n  const initPromise = PromiseHelper.destructurePromise()\n\n  let recognizerContextRef\n  let contentChanged = null\n\n  if (recognizerContext.editor.innerConfiguration.recognitionParams.type === 'MATH' ||\n    recognizerContext.editor.innerConfiguration.recognitionParams.type === 'DIAGRAM') {\n    recognizerContextRef = RecognizerContext.setRecognitionContext(recognizerContext, {\n      model: InkModel.updateModelSentPosition(model, model.lastPositions.lastReceivedPosition),\n      partChange,\n      initPromise,\n      patch: (err, res) => responseCallback(model, err, res, recognizerContextRef),\n      error: (err, res) => responseCallback(model, err, res, recognizerContextRef)\n    })\n  } else {\n    recognizerContextRef = RecognizerContext.setRecognitionContext(recognizerContext, {\n      model: InkModel.updateModelSentPosition(model, model.lastPositions.lastReceivedPosition),\n      contentChange,\n      partChange,\n      response,\n      initPromise,\n      patch: (err, res) => responseCallback(model, err, res, recognizerContextRef),\n      error: (err, res) => responseCallback(model, err, res, recognizerContextRef)\n    })\n    contentChanged = recognizerContextRef.recognitionContexts[0].contentChange.promise\n  }\n\n  WsRecognizerUtil.init('/api/v4.0/iink/document', recognizerContextRef, WsBuilder.buildWebSocketCallback, init)\n    .catch(async (err) => {\n      if (RecognizerContext.shouldAttemptImmediateReconnect(recognizerContext) && recognizerContext.reconnect) {\n        logger.info('Attempting a reconnect', recognizerContext.currentReconnectionCount)\n        await recognizerContext.reconnect(recognizerContext, model)\n      } else {\n        logger.error('Unable to reconnect', err)\n        responseCallback(model, err, undefined, recognizerContext)\n      }\n    })\n\n  const [errPartChanged, resPartChanged] = await recognizerContextRef.recognitionContexts[0].partChange.promise\n  if (resPartChanged) {\n    responseCallback(model, errPartChanged, resPartChanged, recognizerContext)\n    if (contentChanged !== null) {\n      const [errContentChanged, resContentChanged] = await contentChanged\n      if (resContentChanged) {\n        responseCallback(model, errContentChanged, resContentChanged, recognizerContext)\n      }\n    }\n    recognizerContextRef.recognitionContexts[0].initPromise.resolve(true)\n  }\n\n  return recognizerContextRef.recognitionContexts[0].initPromise\n}\n\n/**\n *\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n * @param {Function} buildFunction build the websocket message\n * @param {...Object} params spread parameters, will be passed to buildFunction\n * @private\n */\n// eslint-disable-next-line no-underscore-dangle\nasync function _prepareMessage (recognizerContext, model, buildFunction, ...params) {\n  logger.info(`-- Prepare message for ${buildFunction.name} --`)\n  const response = PromiseHelper.destructurePromise()\n  const contentChange = PromiseHelper.destructurePromise()\n  const recognizerContextRef = RecognizerContext.setRecognitionContext(recognizerContext, {\n    model,\n    response,\n    contentChange,\n    patch: (err, res) => responseCallback(model, err, res, recognizerContextRef),\n    error: (err, res) => responseCallback(model, err, res, recognizerContextRef)\n  })\n  WsRecognizerUtil.sendMessage(recognizerContextRef, buildFunction, ...params)\n    .catch((err) => {\n      logger.error(err)\n      WsRecognizerUtil.retry(_prepareMessage, recognizerContext, model, buildFunction, ...params)\n    })\n\n  const onDemand = recognizerContext.editor.configuration.triggers.exportContent === Constants.Trigger.DEMAND\n  if (!onDemand || (onDemand && buildFunction.name === 'buildExport')) {\n    const resp = await recognizerContextRef.recognitionContexts[0].response.promise\n\n    if (resp) {\n      responseCallback(model, resp[0], resp[1], recognizerContextRef)\n    }\n  }\n\n  const contentChanged = await recognizerContextRef.recognitionContexts[0].contentChange.promise\n\n  if (contentChanged) {\n    responseCallback(model, contentChanged[0], contentChanged[1], recognizerContextRef)\n    return {\n      res: model,\n      types: []\n    }\n  }\n\n  return null\n}\n\n/**\n * Create a new content part\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n */\nexport function newContentPart (recognizerContext, model) {\n  return _prepareMessage(recognizerContext, model, buildNewContentPart, recognizerContext.editor.configuration)\n}\n\n/**\n * Open the recognizer context content part\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n */\nexport function openContentPart (recognizerContext, model) {\n  const params = [recognizerContext.editor.configuration, recognizerContext.currentPartId]\n  return _prepareMessage(recognizerContext, model, buildOpenContentPart, params)\n}\n\n/**\n * Send the recognizer configuration\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n */\nexport function sendConfiguration (recognizerContext, model) {\n  return _prepareMessage(recognizerContext, model, buildConfiguration, recognizerContext.editor.configuration)\n}\n\n/**\n * Pointer Events\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n * @param {PointerEvents} events to be imported\n */\nexport function pointerEvents (recognizerContext, model, events) {\n  return _prepareMessage(recognizerContext, model, buildPointerEvents, events)\n}\n\n/**\n * Add strokes to the model\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n */\nexport function addStrokes (recognizerContext, model) {\n  const params = [recognizerContext, model]\n  return _prepareMessage(recognizerContext, model, buildAddStrokes, ...params)\n}\n\n/**\n * Undo last action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n */\nexport function undo (recognizerContext, model) {\n  return _prepareMessage(recognizerContext, model, buildUndo)\n}\n\n/**\n * Redo last action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n */\nexport function redo (recognizerContext, model) {\n  return _prepareMessage(recognizerContext, model, buildRedo)\n}\n\n/**\n * Clear action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n */\nexport async function clear (recognizerContext, model) {\n  const response = PromiseHelper.destructurePromise()\n  const contentChange = PromiseHelper.destructurePromise()\n  const recognizerContextRef = RecognizerContext.setRecognitionContext(recognizerContext, {\n    model,\n    response,\n    contentChange,\n    // eslint-disable-next-line handle-callback-err\n    patch: async (error, result) => {\n      const { err, res } = await DefaultRecognizer.clear(recognizerContext, model)\n      responseCallback(res, err, result, recognizerContextRef)\n    }\n  })\n  WsRecognizerUtil.sendMessage(recognizerContextRef, buildClear)\n    .catch(exception => WsRecognizerUtil.retry(clear, recognizerContext, model))\n\n  if (recognizerContext.editor.configuration.triggers.exportContent !== Constants.Trigger.DEMAND) {\n    const resp = await recognizerContextRef.recognitionContexts[0].response.promise\n    if (resp) {\n      responseCallback(model, resp[0], resp[1], recognizerContextRef)\n    }\n  }\n  const contentChanged = await recognizerContextRef.recognitionContexts[0].contentChange.promise\n\n  if (contentChanged) {\n    responseCallback(model, contentChanged[0], contentChanged[1], recognizerContextRef)\n    return {\n      err: undefined,\n      res: recognizerContextRef.recognitionContexts[0].model,\n      events: []\n    }\n  }\n\n  return null\n}\n\n/**\n * Convert action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n * @param {String} conversionState Conversion State, by default DigitalEdit\n */\nexport function convert (recognizerContext, model, conversionState) {\n  return _prepareMessage(recognizerContext, model, buildConvert, conversionState)\n}\n\n/**\n * Export action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n * @param {Array} requestedMimeTypes\n */\n// eslint-disable-next-line no-underscore-dangle\nexport function export_ (recognizerContext, model, requestedMimeTypes) {\n  const params = [recognizerContext.editor.configuration, recognizerContext.currentPartId, requestedMimeTypes]\n  return _prepareMessage(recognizerContext, model, buildExport, ...params)\n}\n\n/**\n * Import action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n * @param {Blob} data Import data\n */\n// eslint-disable-next-line no-underscore-dangle\nexport function import_ (recognizerContext, model, data) {\n  const recognitionContext = {\n    model,\n    response: (err, res) => responseCallback(model, err, res, recognizerContext),\n    importFileId: uuid.create(4).toString()\n  }\n  const recognizerContextRef = RecognizerContext.setRecognitionContext(recognizerContext, recognitionContext)\n\n  const chunkSize = recognizerContext.editor.configuration.recognitionParams.server.websocket.fileChunkSize\n\n  const messages = []\n  for (let i = 0; i < data.size; i += chunkSize) {\n    if (i === 0) {\n      messages.push(_prepareMessage(recognizerContextRef, model, buildImportFile, recognitionContext.importFileId, data.type))\n    }\n    const blobPart = data.slice(i, chunkSize, data.type)\n    readBlob(blobPart).then((res) => {\n      const params = [recognitionContext.importFileId, res, i + chunkSize > data.size]\n      messages.push(_prepareMessage(recognizerContextRef, model, buildImportChunk, ...params))\n    })\n  }\n\n  return Promise.all(messages)\n}\n\n/**\n * Ask for the supported mimetypes\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n */\nexport function getSupportedImportMimeTypes (recognizerContext, model) {\n  return _prepareMessage(recognizerContext, model, buildGetSupportedImportMimeTypes)\n}\n\n/**\n * WaitForIdle action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n */\nexport function waitForIdle (recognizerContext, model) {\n  return _prepareMessage(recognizerContext, model, buildWaitForIdle)\n}\n\n/**\n * Resize\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n * @param {Element} element Current element\n */\nexport function resize (recognizerContext, model, element) {\n  const params = [element, recognizerContext.editor.configuration.renderingParams.minHeight, recognizerContext.editor.configuration.renderingParams.minWidth]\n  return _prepareMessage(recognizerContext, model, buildResize, ...params)\n}\n\n/**\n * Zoom action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n * @param {Number} value=10 Zoom value\n */\nexport function zoom (recognizerContext, model, value = 10) {\n  return _prepareMessage(recognizerContext, model, buildZoom, value)\n}\n\n/**\n * SetPenStyle action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n * @param {PenStyle} penStyle Current penStyle\n */\nexport function setPenStyle (recognizerContext, model, penStyle) {\n  return _prepareMessage(recognizerContext, model, buildSetPenStyle, penStyle)\n}\n\n/**\n * setPenStyleClasses action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n * @param {String} penStyleClasses Current penStyleClasses\n */\nexport function setPenStyleClasses (recognizerContext, model, penStyleClasses) {\n  return _prepareMessage(recognizerContext, model, buildSetPenStyleClasses, penStyleClasses)\n}\n\n/**\n * SetTheme action\n * @param {RecognizerContext} recognizerContext Current recognition context\n * @param {Model} model Current model\n * @param {Theme} theme Current theme\n */\nexport function setTheme (recognizerContext, model, theme) {\n  return _prepareMessage(recognizerContext, model, buildSetTheme, theme)\n}\n","import { eventLogger as logger } from '../configuration/LoggerConfig'\n\n/**\n * Emits an event when the editor state change\n * @param {String} type\n * @param {Object} data\n * @emits {Event}\n */\nexport default function emit (type, data) {\n  logger.info(`emitting ${type} event`, data)\n  // We are making usage of a browser provided class\n  // eslint-disable-next-line no-undef\n  this.dispatchEvent(new CustomEvent(type, Object.assign({ bubbles: true, composed: true }, data ? { detail: data } : undefined)))\n}\n","import { editorLogger as logger } from './configuration/LoggerConfig'\nimport { Editor } from './Editor'\n\n/**\n * Attach an Editor to a DOMElement\n * @param {Element} element DOM element to attach an editor\n * @param {Configuration} [configuration] Configuration to apply\n * @param {PenStyle} [penStyle] Pen style to apply\n * @param {Theme} [theme] Theme to apply\n * @param {Behaviors} [behaviors] Custom behaviors to apply\n * @return {Editor} New editor\n */\nexport function register (element, configuration, penStyle, theme, behaviors) {\n  logger.debug('Registering a new editor')\n  return new Editor(element, configuration, penStyle, theme, behaviors)\n}\n\n/**\n * Return the list of available recognition languages\n * @param {Configuration} [configuration] Configuration to get the languages\n * @return {JSON} A list of available languages\n */\nexport async function getAvailableLanguageList (configuration) {\n  try {\n    if (configuration && configuration.recognitionParams &&\n      configuration.recognitionParams.server && configuration.recognitionParams.server.host) {\n      const serverConfig = configuration.recognitionParams.server\n      const response = await fetch(`${serverConfig.scheme}://${serverConfig.host}/api/v4.0/iink/availableLanguageList`)\n      if (response && response.ok) {\n        return response.json()\n      }\n    } else {\n      console.error('Cannot get languages ! Please check your configuration!')\n    }\n  } catch (error) {\n    console.error(error)\n  }\n}\n","import Constants from './configuration/Constants'\nimport LoggerConfig from './configuration/LoggerConfig'\nimport DefaultConfiguration from './configuration/DefaultConfiguration'\nimport DefaultPenStyle from './configuration/DefaultPenStyle'\nimport DefaultTheme from './configuration/DefaultTheme'\nimport DefaultBehaviors from './configuration/DefaultBehaviors'\nimport * as InkModel from './model/InkModel'\nimport { Editor } from './Editor'\nimport { register, getAvailableLanguageList } from './EditorFacade'\nimport * as RecognizerContext from './model/RecognizerContext'\n\nconst iink = {\n  Constants,\n  // Default instantiations\n  DefaultConfiguration,\n  DefaultBehaviors,\n  DefaultPenStyle,\n  DefaultTheme,\n  // Helper functions\n  register,\n  getAvailableLanguageList,\n  // Internals\n  LoggerConfig,\n  Editor,\n  InkModel,\n  RecognizerContext\n}\n\nexport {\n  iink as default,\n  Constants,\n  // Default instantiations\n  DefaultConfiguration,\n  DefaultBehaviors,\n  DefaultPenStyle,\n  DefaultTheme,\n  // Helper functions\n  register,\n  getAvailableLanguageList,\n  // Internals\n  LoggerConfig,\n  Editor,\n  InkModel,\n  RecognizerContext\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}